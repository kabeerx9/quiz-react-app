function Ik(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function NS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qa={},Tk={get exports(){return Qa},set exports(t){Qa=t}},md={},f={},kk={get exports(){return f},set exports(t){f=t}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),_k=Symbol.for("react.portal"),Rk=Symbol.for("react.fragment"),$k=Symbol.for("react.strict_mode"),Nk=Symbol.for("react.profiler"),Dk=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Mk=Symbol.for("react.memo"),Lk=Symbol.for("react.lazy"),Hv=Symbol.iterator;function Fk(t){return t===null||typeof t!="object"?null:(t=Hv&&t[Hv]||t["@@iterator"],typeof t=="function"?t:null)}var DS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PS=Object.assign,AS={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||DS}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OS(){}OS.prototype=Lo.prototype;function ng(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||DS}var rg=ng.prototype=new OS;rg.constructor=ng;PS(rg,Lo.prototype);rg.isPureReactComponent=!0;var Qv=Array.isArray,MS=Object.prototype.hasOwnProperty,ig={current:null},LS={key:!0,ref:!0,__self:!0,__source:!0};function FS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MS.call(e,r)&&!LS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ml,type:t,key:s,ref:o,props:i,_owner:ig.current}}function Bk(t,e){return{$$typeof:Ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ml}function Vk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xv=/\/+/g;function Lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vk(""+t.key):e.toString(36)}function Xu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ml:case _k:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lh(o,0):r,Qv(i)?(n="",t!=null&&(n=t.replace(Xv,"$&/")+"/"),Xu(i,e,n,"",function(u){return u})):i!=null&&(sg(i)&&(i=Bk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Lh(s,a);o+=Xu(s,e,n,l,i)}else if(l=Fk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Lh(s,a++),o+=Xu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Su(t,e,n){if(t==null)return t;var r=[],i=0;return Xu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Yu={transition:null},Uk={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:ig};me.Children={map:Su,forEach:function(t,e,n){Su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Su(t,function(){e++}),e},toArray:function(t){return Su(t,function(e){return e})||[]},only:function(t){if(!sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Lo;me.Fragment=Rk;me.Profiler=Nk;me.PureComponent=ng;me.StrictMode=$k;me.Suspense=Ok;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ig.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MS.call(e,l)&&!LS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ml,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:Pk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dk,_context:t},t.Consumer=t};me.createElement=FS;me.createFactory=function(t){var e=FS.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:Ak,render:t}};me.isValidElement=sg;me.lazy=function(t){return{$$typeof:Lk,_payload:{_status:-1,_result:t},_init:zk}};me.memo=function(t,e){return{$$typeof:Mk,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Yu.transition;Yu.transition={};try{t()}finally{Yu.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return sn.current.useCallback(t,e)};me.useContext=function(t){return sn.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};me.useEffect=function(t,e){return sn.current.useEffect(t,e)};me.useId=function(){return sn.current.useId()};me.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return sn.current.useMemo(t,e)};me.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};me.useRef=function(t){return sn.current.useRef(t)};me.useState=function(t){return sn.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return sn.current.useTransition()};me.version="18.2.0";(function(t){t.exports=me})(kk);const Le=NS(f),tp=Ik({__proto__:null,default:Le},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk=f,qk=Symbol.for("react.element"),Wk=Symbol.for("react.fragment"),Kk=Object.prototype.hasOwnProperty,Gk=jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hk={key:!0,ref:!0,__self:!0,__source:!0};function BS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Kk.call(e,r)&&!Hk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qk,type:t,key:s,ref:o,props:i,_owner:Gk.current}}md.Fragment=Wk;md.jsx=BS;md.jsxs=BS;(function(t){t.exports=md})(Tk);const Yv=Qa.Fragment,j=Qa.jsx,Oe=Qa.jsxs;var np={},Cn={},Qk={get exports(){return Cn},set exports(t){Cn=t}},_n={},rp={},Xk={get exports(){return rp},set exports(t){rp=t}},VS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,P){var A=I.length;I.push(P);e:for(;0<A;){var H=A-1>>>1,ee=I[H];if(0<i(ee,P))I[H]=P,I[A]=ee,A=H;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],A=I.pop();if(A!==P){I[0]=A;e:for(var H=0,ee=I.length,ye=ee>>>1;H<ye;){var ne=2*(H+1)-1,Se=I[ne],re=ne+1,Re=I[re];if(0>i(Se,A))re<ee&&0>i(Re,Se)?(I[H]=Re,I[re]=A,H=re):(I[H]=Se,I[ne]=A,H=ne);else if(re<ee&&0>i(Re,A))I[H]=Re,I[re]=A,H=re;else break e}}return P}function i(I,P){var A=I.sortIndex-P.sortIndex;return A!==0?A:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=I)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function E(I){if(v=!1,w(I),!g)if(n(l)!==null)g=!0,F(x);else{var P=n(u);P!==null&&B(E,P.startTime-I)}}function x(I,P){g=!1,v&&(v=!1,y(k),k=-1),p=!0;var A=h;try{for(w(P),d=n(l);d!==null&&(!(d.expirationTime>P)||I&&!V());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var ee=H(d.expirationTime<=P);P=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),w(P)}else r(l);d=n(l)}if(d!==null)var ye=!0;else{var ne=n(u);ne!==null&&B(E,ne.startTime-P),ye=!1}return ye}finally{d=null,h=A,p=!1}}var b=!1,C=null,k=-1,N=5,D=-1;function V(){return!(t.unstable_now()-D<N)}function W(){if(C!==null){var I=t.unstable_now();D=I;var P=!0;try{P=C(!0,I)}finally{P?Z():(b=!1,C=null)}}else b=!1}var Z;if(typeof m=="function")Z=function(){m(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,U=Q.port2;Q.port1.onmessage=W,Z=function(){U.postMessage(null)}}else Z=function(){S(W,0)};function F(I){C=I,b||(b=!0,Z())}function B(I,P){k=S(function(){I(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,F(x))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var A=h;h=P;try{return I()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=h;h=I;try{return P()}finally{h=A}},t.unstable_scheduleCallback=function(I,P,A){var H=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?H+A:H):A=H,I){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=A+ee,I={id:c++,callback:P,priorityLevel:I,startTime:A,expirationTime:ee,sortIndex:-1},A>H?(I.sortIndex=A,e(u,I),n(l)===null&&I===n(u)&&(v?(y(k),k=-1):v=!0,B(E,A-H))):(I.sortIndex=ee,e(l,I),g||p||(g=!0,F(x))),I},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(I){var P=h;return function(){var A=h;h=P;try{return I.apply(this,arguments)}finally{h=A}}}})(VS);(function(t){t.exports=VS})(Xk);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS=f,In=rp;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var US=new Set,Xa={};function xs(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Xa[t]=e,t=0;t<e.length;t++)US.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,Yk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jv={},Zv={};function Jk(t){return ip.call(Zv,t)?!0:ip.call(Jv,t)?!1:Yk.test(t)?Zv[t]=!0:(Jv[t]=!0,!1)}function Zk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function e_(t,e,n,r){if(e===null||typeof e>"u"||Zk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var og=/[\-:]([a-z])/g;function ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(og,ag);Mt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(og,ag);Mt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(og,ag);Mt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function lg(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e_(e,n,i,r)&&(n=null),r||i===null?Jk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=zS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),jS=Symbol.for("react.provider"),qS=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),WS=Symbol.for("react.offscreen"),e0=Symbol.iterator;function na(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Fh;function wa(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var Bh=!1;function Vh(t,e){if(!t||Bh)return"";Bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wa(t):""}function t_(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=Vh(t.type,!1),t;case 11:return t=Vh(t.type.render,!1),t;case 1:return t=Vh(t.type,!0),t;default:return""}}function lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case qs:return"Portal";case sp:return"Profiler";case ug:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qS:return(t.displayName||"Context")+".Consumer";case jS:return(t._context.displayName||"Context")+".Provider";case cg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dg:return e=t.displayName||null,e!==null?e:lp(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return lp(t(e))}catch{}}return null}function n_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function r_(t){var e=KS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=r_(t))}function GS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function up(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HS(t,e){e=e.checked,e!=null&&lg(t,"checked",e,!1)}function cp(t,e){HS(t,e);var n=oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&dp(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dp(t,e,n){(e!=="number"||pc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sa=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Sa(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function QS(t,e){var n=oi(e.value),r=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,YS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i_=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(t){i_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$a[e]=$a[t]})});function JS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$a.hasOwnProperty(t)&&$a[t]?(""+e).trim():e+"px"}function ZS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var s_=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(t,e){if(e){if(s_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,so=null,oo=null;function s0(t){if(t=Bl(t)){if(typeof yp!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Sd(e),yp(t.stateNode,t.type,e))}}function eE(t){so?oo?oo.push(t):oo=[t]:so=t}function tE(){if(so){var t=so,e=oo;if(oo=so=null,s0(t),e)for(t=0;t<e.length;t++)s0(e[t])}}function nE(t,e){return t(e)}function rE(){}var zh=!1;function iE(t,e,n){if(zh)return t(e,n);zh=!0;try{return nE(t,e,n)}finally{zh=!1,(so!==null||oo!==null)&&(rE(),tE())}}function Ja(t,e){var n=t.stateNode;if(n===null)return null;var r=Sd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var vp=!1;if(yr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){vp=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{vp=!1}function o_(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Na=!1,mc=null,gc=!1,wp=null,a_={onError:function(t){Na=!0,mc=t}};function l_(t,e,n,r,i,s,o,a,l){Na=!1,mc=null,o_.apply(a_,arguments)}function u_(t,e,n,r,i,s,o,a,l){if(l_.apply(this,arguments),Na){if(Na){var u=mc;Na=!1,mc=null}else throw Error(L(198));gc||(gc=!0,wp=u)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if(bs(t)!==t)throw Error(L(188))}function c_(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o0(i),t;if(s===r)return o0(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function oE(t){return t=c_(t),t!==null?aE(t):null}function aE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aE(t);if(e!==null)return e;t=t.sibling}return null}var lE=In.unstable_scheduleCallback,a0=In.unstable_cancelCallback,d_=In.unstable_shouldYield,h_=In.unstable_requestPaint,it=In.unstable_now,f_=In.unstable_getCurrentPriorityLevel,fg=In.unstable_ImmediatePriority,uE=In.unstable_UserBlockingPriority,yc=In.unstable_NormalPriority,p_=In.unstable_LowPriority,cE=In.unstable_IdlePriority,gd=null,ir=null;function m_(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(gd,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:v_,g_=Math.log,y_=Math.LN2;function v_(t){return t>>>=0,t===0?32:31-(g_(t)/y_|0)|0}var Cu=64,Iu=4194304;function Ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ea(a):(s&=o,s!==0&&(r=Ea(s)))}else o=n&~i,o!==0?r=Ea(o):s!==0&&(r=Ea(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function w_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=w_(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Sp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dE(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function Uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function E_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function hE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fE,mg,pE,mE,gE,Ep=!1,Tu=[],Hr=null,Qr=null,Xr=null,Za=new Map,el=new Map,Vr=[],x_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function ia(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bl(e),e!==null&&mg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b_(t,e,n,r,i){switch(e){case"focusin":return Hr=ia(Hr,t,e,n,r,i),!0;case"dragenter":return Qr=ia(Qr,t,e,n,r,i),!0;case"mouseover":return Xr=ia(Xr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Za.set(s,ia(Za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,el.set(s,ia(el.get(s)||null,t,e,n,r,i)),!0}return!1}function yE(t){var e=zi(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=sE(n),e!==null){t.blockedOn=e,gE(t.priority,function(){pE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gp=r,n.target.dispatchEvent(r),gp=null}else return e=Bl(n),e!==null&&mg(e),t.blockedOn=n,!1;e.shift()}return!0}function u0(t,e,n){Ju(t)&&n.delete(e)}function C_(){Ep=!1,Hr!==null&&Ju(Hr)&&(Hr=null),Qr!==null&&Ju(Qr)&&(Qr=null),Xr!==null&&Ju(Xr)&&(Xr=null),Za.forEach(u0),el.forEach(u0)}function sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Ep||(Ep=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,C_)))}function tl(t){function e(i){return sa(i,t)}if(0<Tu.length){sa(Tu[0],t);for(var n=1;n<Tu.length;n++){var r=Tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hr!==null&&sa(Hr,t),Qr!==null&&sa(Qr,t),Xr!==null&&sa(Xr,t),Za.forEach(e),el.forEach(e),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)yE(n),n.blockedOn===null&&Vr.shift()}var ao=Cr.ReactCurrentBatchConfig,wc=!0;function I_(t,e,n,r){var i=ke,s=ao.transition;ao.transition=null;try{ke=1,gg(t,e,n,r)}finally{ke=i,ao.transition=s}}function T_(t,e,n,r){var i=ke,s=ao.transition;ao.transition=null;try{ke=4,gg(t,e,n,r)}finally{ke=i,ao.transition=s}}function gg(t,e,n,r){if(wc){var i=xp(t,e,n,r);if(i===null)Jh(t,e,r,Sc,n),l0(t,r);else if(b_(i,t,e,n,r))r.stopPropagation();else if(l0(t,r),e&4&&-1<x_.indexOf(t)){for(;i!==null;){var s=Bl(i);if(s!==null&&fE(s),s=xp(t,e,n,r),s===null&&Jh(t,e,r,Sc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var Sc=null;function xp(t,e,n,r){if(Sc=null,t=hg(r),t=zi(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sc=t,null}function vE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f_()){case fg:return 1;case uE:return 4;case yc:case p_:return 16;case cE:return 536870912;default:return 16}default:return 16}}var qr=null,yg=null,Zu=null;function wE(){if(Zu)return Zu;var t,e=yg,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zu=i.slice(t,1<r?1-r:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function c0(){return!1}function Rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ku:c0,this.isPropagationStopped=c0,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vg=Rn(Fo),Fl=Ye({},Fo,{view:0,detail:0}),k_=Rn(Fl),jh,qh,oa,yd=Ye({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(jh=t.screenX-oa.screenX,qh=t.screenY-oa.screenY):qh=jh=0,oa=t),jh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),d0=Rn(yd),__=Ye({},yd,{dataTransfer:0}),R_=Rn(__),$_=Ye({},Fl,{relatedTarget:0}),Wh=Rn($_),N_=Ye({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),D_=Rn(N_),P_=Ye({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A_=Rn(P_),O_=Ye({},Fo,{data:0}),h0=Rn(O_),M_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F_[t])?!!e[t]:!1}function wg(){return B_}var V_=Ye({},Fl,{key:function(t){if(t.key){var e=M_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),z_=Rn(V_),U_=Ye({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=Rn(U_),j_=Ye({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),q_=Rn(j_),W_=Ye({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),K_=Rn(W_),G_=Ye({},yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H_=Rn(G_),Q_=[9,13,27,32],Sg=yr&&"CompositionEvent"in window,Da=null;yr&&"documentMode"in document&&(Da=document.documentMode);var X_=yr&&"TextEvent"in window&&!Da,SE=yr&&(!Sg||Da&&8<Da&&11>=Da),p0=String.fromCharCode(32),m0=!1;function EE(t,e){switch(t){case"keyup":return Q_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function Y_(t,e){switch(t){case"compositionend":return xE(e);case"keypress":return e.which!==32?null:(m0=!0,p0);case"textInput":return t=e.data,t===p0&&m0?null:t;default:return null}}function J_(t,e){if(Ks)return t==="compositionend"||!Sg&&EE(t,e)?(t=wE(),Zu=yg=qr=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SE&&e.locale!=="ko"?null:e.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z_[t.type]:e==="textarea"}function bE(t,e,n,r){eE(r),e=Ec(e,"onChange"),0<e.length&&(n=new vg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pa=null,nl=null;function eR(t){AE(t,0)}function vd(t){var e=Qs(t);if(GS(e))return t}function tR(t,e){if(t==="change")return e}var CE=!1;if(yr){var Kh;if(yr){var Gh="oninput"in document;if(!Gh){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Gh=typeof y0.oninput=="function"}Kh=Gh}else Kh=!1;CE=Kh&&(!document.documentMode||9<document.documentMode)}function v0(){Pa&&(Pa.detachEvent("onpropertychange",IE),nl=Pa=null)}function IE(t){if(t.propertyName==="value"&&vd(nl)){var e=[];bE(e,nl,t,hg(t)),iE(eR,e)}}function nR(t,e,n){t==="focusin"?(v0(),Pa=e,nl=n,Pa.attachEvent("onpropertychange",IE)):t==="focusout"&&v0()}function rR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vd(nl)}function iR(t,e){if(t==="click")return vd(e)}function sR(t,e){if(t==="input"||t==="change")return vd(e)}function oR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:oR;function rl(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ip.call(e,i)||!Qn(t[i],e[i]))return!1}return!0}function w0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S0(t,e){var n=w0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w0(n)}}function TE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kE(){for(var t=window,e=pc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pc(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aR(t){var e=kE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TE(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=S0(n,s);var o=S0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lR=yr&&"documentMode"in document&&11>=document.documentMode,Gs=null,bp=null,Aa=null,Cp=!1;function E0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cp||Gs==null||Gs!==pc(r)||(r=Gs,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&rl(Aa,r)||(Aa=r,r=Ec(bp,"onSelect"),0<r.length&&(e=new vg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gs)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Hh={},_E={};yr&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function wd(t){if(Hh[t])return Hh[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _E)return Hh[t]=e[n];return t}var RE=wd("animationend"),$E=wd("animationiteration"),NE=wd("animationstart"),DE=wd("transitionend"),PE=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){PE.set(t,e),xs(e,[t])}for(var Qh=0;Qh<x0.length;Qh++){var Xh=x0[Qh],uR=Xh.toLowerCase(),cR=Xh[0].toUpperCase()+Xh.slice(1);wi(uR,"on"+cR)}wi(RE,"onAnimationEnd");wi($E,"onAnimationIteration");wi(NE,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(DE,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dR=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function b0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,u_(r,e,void 0,t),t.currentTarget=null}function AE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,u),s=l}}}if(gc)throw t=wp,gc=!1,wp=null,t}function Be(t,e){var n=e[Rp];n===void 0&&(n=e[Rp]=new Set);var r=t+"__bubble";n.has(r)||(OE(e,t,2,!1),n.add(r))}function Yh(t,e,n){var r=0;e&&(r|=4),OE(n,t,r,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[Ru]){t[Ru]=!0,US.forEach(function(n){n!=="selectionchange"&&(dR.has(n)||Yh(n,!1,t),Yh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,Yh("selectionchange",!1,e))}}function OE(t,e,n,r){switch(vE(e)){case 1:var i=I_;break;case 4:i=T_;break;default:i=gg}n=i.bind(null,e,n,t),i=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iE(function(){var u=s,c=hg(n),d=[];e:{var h=PE.get(t);if(h!==void 0){var p=vg,g=t;switch(t){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":p=z_;break;case"focusin":g="focus",p=Wh;break;case"focusout":g="blur",p=Wh;break;case"beforeblur":case"afterblur":p=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=R_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=q_;break;case RE:case $E:case NE:p=D_;break;case DE:p=K_;break;case"scroll":p=k_;break;case"wheel":p=H_;break;case"copy":case"cut":case"paste":p=A_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=f0}var v=(e&4)!==0,S=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,w;m!==null;){w=m;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=Ja(m,y),E!=null&&v.push(sl(m,E,w)))),S)break;m=m.return}0<v.length&&(h=new p(h,g,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==gp&&(g=n.relatedTarget||n.fromElement)&&(zi(g)||g[vr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?zi(g):null,g!==null&&(S=bs(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=d0,E="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=f0,E="onPointerLeave",y="onPointerEnter",m="pointer"),S=p==null?h:Qs(p),w=g==null?h:Qs(g),h=new v(E,m+"leave",p,n,c),h.target=S,h.relatedTarget=w,E=null,zi(c)===u&&(v=new v(y,m+"enter",g,n,c),v.target=w,v.relatedTarget=S,E=v),S=E,p&&g)t:{for(v=p,y=g,m=0,w=v;w;w=Ps(w))m++;for(w=0,E=y;E;E=Ps(E))w++;for(;0<m-w;)v=Ps(v),m--;for(;0<w-m;)y=Ps(y),w--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ps(v),y=Ps(y)}v=null}else v=null;p!==null&&C0(d,h,p,v,!1),g!==null&&S!==null&&C0(d,S,g,v,!0)}}e:{if(h=u?Qs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=tR;else if(g0(h))if(CE)x=sR;else{x=rR;var b=nR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=iR);if(x&&(x=x(t,u))){bE(d,x,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&dp(h,"number",h.value)}switch(b=u?Qs(u):window,t){case"focusin":(g0(b)||b.contentEditable==="true")&&(Gs=b,bp=u,Aa=null);break;case"focusout":Aa=bp=Gs=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,E0(d,n,c);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":E0(d,n,c)}var C;if(Sg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ks?EE(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(SE&&n.locale!=="ko"&&(Ks||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ks&&(C=wE()):(qr=c,yg="value"in qr?qr.value:qr.textContent,Ks=!0)),b=Ec(u,k),0<b.length&&(k=new h0(k,t,null,n,c),d.push({event:k,listeners:b}),C?k.data=C:(C=xE(n),C!==null&&(k.data=C)))),(C=X_?Y_(t,n):J_(t,n))&&(u=Ec(u,"onBeforeInput"),0<u.length&&(c=new h0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}AE(d,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ec(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ja(t,n),s!=null&&r.unshift(sl(t,s,i)),s=Ja(t,e),s!=null&&r.push(sl(t,s,i))),t=t.return}return r}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ja(n,s),l!=null&&o.unshift(sl(n,l,a))):i||(l=Ja(n,s),l!=null&&o.push(sl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function I0(t){return(typeof t=="string"?t:""+t).replace(hR,`
`).replace(fR,"")}function $u(t,e,n){if(e=I0(e),I0(t)!==e&&n)throw Error(L(425))}function xc(){}var Ip=null,Tp=null;function kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,pR=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(gR)}:_p;function gR(t){setTimeout(function(){throw t})}function Zh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tl(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),er="__reactFiber$"+Bo,ol="__reactProps$"+Bo,vr="__reactContainer$"+Bo,Rp="__reactEvents$"+Bo,yR="__reactListeners$"+Bo,vR="__reactHandles$"+Bo;function zi(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k0(t);t!==null;){if(n=t[er])return n;t=k0(t)}return e}t=n,n=t.parentNode}return null}function Bl(t){return t=t[er]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Sd(t){return t[ol]||null}var $p=[],Xs=-1;function Si(t){return{current:t}}function ze(t){0>Xs||(t.current=$p[Xs],$p[Xs]=null,Xs--)}function Me(t,e){Xs++,$p[Xs]=t.current,t.current=e}var ai={},Ht=Si(ai),gn=Si(!1),rs=ai;function po(t,e){var n=t.type.contextTypes;if(!n)return ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function bc(){ze(gn),ze(Ht)}function _0(t,e,n){if(Ht.current!==ai)throw Error(L(168));Me(Ht,e),Me(gn,n)}function ME(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,n_(t)||"Unknown",i));return Ye({},n,r)}function Cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,rs=Ht.current,Me(Ht,t),Me(gn,gn.current),!0}function R0(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=ME(t,e,rs),r.__reactInternalMemoizedMergedChildContext=t,ze(gn),ze(Ht),Me(Ht,t)):ze(gn),Me(gn,n)}var dr=null,Ed=!1,ef=!1;function LE(t){dr===null?dr=[t]:dr.push(t)}function wR(t){Ed=!0,LE(t)}function Ei(){if(!ef&&dr!==null){ef=!0;var t=0,e=ke;try{var n=dr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Ed=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),lE(fg,Ei),i}finally{ke=e,ef=!1}}return null}var Ys=[],Js=0,Ic=null,Tc=0,Pn=[],An=0,is=null,hr=1,fr="";function Ri(t,e){Ys[Js++]=Tc,Ys[Js++]=Ic,Ic=t,Tc=e}function FE(t,e,n){Pn[An++]=hr,Pn[An++]=fr,Pn[An++]=is,is=t;var r=hr;t=fr;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Gn(e)+i|n<<i|r,fr=s+t}else hr=1<<s|n<<i|r,fr=t}function xg(t){t.return!==null&&(Ri(t,1),FE(t,1,0))}function bg(t){for(;t===Ic;)Ic=Ys[--Js],Ys[Js]=null,Tc=Ys[--Js],Ys[Js]=null;for(;t===is;)is=Pn[--An],Pn[An]=null,fr=Pn[--An],Pn[An]=null,hr=Pn[--An],Pn[An]=null}var bn=null,xn=null,qe=!1,Wn=null;function BE(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,xn=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=is!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,xn=null,!0):!1;default:return!1}}function Np(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dp(t){if(qe){var e=xn;if(e){var n=e;if(!$0(t,e)){if(Np(t))throw Error(L(418));e=Yr(n.nextSibling);var r=bn;e&&$0(t,e)?BE(r,n):(t.flags=t.flags&-4097|2,qe=!1,bn=t)}}else{if(Np(t))throw Error(L(418));t.flags=t.flags&-4097|2,qe=!1,bn=t}}}function N0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Nu(t){if(t!==bn)return!1;if(!qe)return N0(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kp(t.type,t.memoizedProps)),e&&(e=xn)){if(Np(t))throw VE(),Error(L(418));for(;e;)BE(t,e),e=Yr(e.nextSibling)}if(N0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=bn?Yr(t.stateNode.nextSibling):null;return!0}function VE(){for(var t=xn;t;)t=Yr(t.nextSibling)}function mo(){xn=bn=null,qe=!1}function Cg(t){Wn===null?Wn=[t]:Wn.push(t)}var SR=Cr.ReactCurrentBatchConfig;function jn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kc=Si(null),_c=null,Zs=null,Ig=null;function Tg(){Ig=Zs=_c=null}function kg(t){var e=kc.current;ze(kc),t._currentValue=e}function Pp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){_c=t,Ig=Zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(Ig!==t)if(t={context:t,memoizedValue:e,next:null},Zs===null){if(_c===null)throw Error(L(308));Zs=t,_c.dependencies={lanes:0,firstContext:t}}else Zs=Zs.next=t;return e}var Ui=null;function _g(t){Ui===null?Ui=[t]:Ui.push(t)}function zE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_g(e)):(n.next=i.next,i.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Br=!1;function Rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wr(t,n)}return i=r.interleaved,i===null?(e.next=e,_g(r)):(e.next=i.next,i.next=e),r.interleaved=e,wr(t,n)}function tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}function D0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rc(t,e,n,r){var i=t.updateQueue;Br=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Ye({},d,h);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);os|=o,t.lanes=o,t.memoizedState=d}}function P0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var jE=new zS.Component().refs;function Ap(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xd={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ei(t),s=mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Jr(t,s,i),e!==null&&(Hn(e,t,i,r),tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=ei(t),s=mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Jr(t,s,i),e!==null&&(Hn(e,t,i,r),tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=ei(t),i=mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jr(t,i,r),e!==null&&(Hn(e,t,r,n),tc(e,t,r))}};function A0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rl(n,r)||!rl(i,s):!0}function qE(t,e,n){var r=!1,i=ai,s=e.contextType;return typeof s=="object"&&s!==null?s=Bn(s):(i=yn(e)?rs:Ht.current,r=e.contextTypes,s=(r=r!=null)?po(t,i):ai),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xd.enqueueReplaceState(e,e.state,null)}function Op(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jE,Rg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bn(s):(s=yn(e)?rs:Ht.current,i.context=po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ap(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xd.enqueueReplaceState(i,i.state,null),Rc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===jE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M0(t){var e=t._init;return e(t._payload)}function WE(t){function e(y,m){if(t){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=ti(y,m),y.index=0,y.sibling=null,y}function s(y,m,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,E){return m===null||m.tag!==6?(m=lf(w,y.mode,E),m.return=y,m):(m=i(m,w),m.return=y,m)}function l(y,m,w,E){var x=w.type;return x===Ws?c(y,m,w.props.children,E,w.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fr&&M0(x)===m.type)?(E=i(m,w.props),E.ref=aa(y,m,w),E.return=y,E):(E=ac(w.type,w.key,w.props,null,y.mode,E),E.ref=aa(y,m,w),E.return=y,E)}function u(y,m,w,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=uf(w,y.mode,E),m.return=y,m):(m=i(m,w.children||[]),m.return=y,m)}function c(y,m,w,E,x){return m===null||m.tag!==7?(m=Yi(w,y.mode,E,x),m.return=y,m):(m=i(m,w),m.return=y,m)}function d(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=lf(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Eu:return w=ac(m.type,m.key,m.props,null,y.mode,w),w.ref=aa(y,null,m),w.return=y,w;case qs:return m=uf(m,y.mode,w),m.return=y,m;case Fr:var E=m._init;return d(y,E(m._payload),w)}if(Sa(m)||na(m))return m=Yi(m,y.mode,w,null),m.return=y,m;Du(y,m)}return null}function h(y,m,w,E){var x=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:a(y,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eu:return w.key===x?l(y,m,w,E):null;case qs:return w.key===x?u(y,m,w,E):null;case Fr:return x=w._init,h(y,m,x(w._payload),E)}if(Sa(w)||na(w))return x!==null?null:c(y,m,w,E,null);Du(y,w)}return null}function p(y,m,w,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,a(m,y,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Eu:return y=y.get(E.key===null?w:E.key)||null,l(m,y,E,x);case qs:return y=y.get(E.key===null?w:E.key)||null,u(m,y,E,x);case Fr:var b=E._init;return p(y,m,w,b(E._payload),x)}if(Sa(E)||na(E))return y=y.get(w)||null,c(m,y,E,x,null);Du(m,E)}return null}function g(y,m,w,E){for(var x=null,b=null,C=m,k=m=0,N=null;C!==null&&k<w.length;k++){C.index>k?(N=C,C=null):N=C.sibling;var D=h(y,C,w[k],E);if(D===null){C===null&&(C=N);break}t&&C&&D.alternate===null&&e(y,C),m=s(D,m,k),b===null?x=D:b.sibling=D,b=D,C=N}if(k===w.length)return n(y,C),qe&&Ri(y,k),x;if(C===null){for(;k<w.length;k++)C=d(y,w[k],E),C!==null&&(m=s(C,m,k),b===null?x=C:b.sibling=C,b=C);return qe&&Ri(y,k),x}for(C=r(y,C);k<w.length;k++)N=p(C,y,k,w[k],E),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?k:N.key),m=s(N,m,k),b===null?x=N:b.sibling=N,b=N);return t&&C.forEach(function(V){return e(y,V)}),qe&&Ri(y,k),x}function v(y,m,w,E){var x=na(w);if(typeof x!="function")throw Error(L(150));if(w=x.call(w),w==null)throw Error(L(151));for(var b=x=null,C=m,k=m=0,N=null,D=w.next();C!==null&&!D.done;k++,D=w.next()){C.index>k?(N=C,C=null):N=C.sibling;var V=h(y,C,D.value,E);if(V===null){C===null&&(C=N);break}t&&C&&V.alternate===null&&e(y,C),m=s(V,m,k),b===null?x=V:b.sibling=V,b=V,C=N}if(D.done)return n(y,C),qe&&Ri(y,k),x;if(C===null){for(;!D.done;k++,D=w.next())D=d(y,D.value,E),D!==null&&(m=s(D,m,k),b===null?x=D:b.sibling=D,b=D);return qe&&Ri(y,k),x}for(C=r(y,C);!D.done;k++,D=w.next())D=p(C,y,k,D.value,E),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?k:D.key),m=s(D,m,k),b===null?x=D:b.sibling=D,b=D);return t&&C.forEach(function(W){return e(y,W)}),qe&&Ri(y,k),x}function S(y,m,w,E){if(typeof w=="object"&&w!==null&&w.type===Ws&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Eu:e:{for(var x=w.key,b=m;b!==null;){if(b.key===x){if(x=w.type,x===Ws){if(b.tag===7){n(y,b.sibling),m=i(b,w.props.children),m.return=y,y=m;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fr&&M0(x)===b.type){n(y,b.sibling),m=i(b,w.props),m.ref=aa(y,b,w),m.return=y,y=m;break e}n(y,b);break}else e(y,b);b=b.sibling}w.type===Ws?(m=Yi(w.props.children,y.mode,E,w.key),m.return=y,y=m):(E=ac(w.type,w.key,w.props,null,y.mode,E),E.ref=aa(y,m,w),E.return=y,y=E)}return o(y);case qs:e:{for(b=w.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=i(m,w.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=uf(w,y.mode,E),m.return=y,y=m}return o(y);case Fr:return b=w._init,S(y,m,b(w._payload),E)}if(Sa(w))return g(y,m,w,E);if(na(w))return v(y,m,w,E);Du(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,w),m.return=y,y=m):(n(y,m),m=lf(w,y.mode,E),m.return=y,y=m),o(y)):n(y,m)}return S}var go=WE(!0),KE=WE(!1),Vl={},sr=Si(Vl),al=Si(Vl),ll=Si(Vl);function ji(t){if(t===Vl)throw Error(L(174));return t}function $g(t,e){switch(Me(ll,e),Me(al,t),Me(sr,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fp(e,t)}ze(sr),Me(sr,e)}function yo(){ze(sr),ze(al),ze(ll)}function GE(t){ji(ll.current);var e=ji(sr.current),n=fp(e,t.type);e!==n&&(Me(al,t),Me(sr,n))}function Ng(t){al.current===t&&(ze(sr),ze(al))}var Qe=Si(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tf=[];function Dg(){for(var t=0;t<tf.length;t++)tf[t]._workInProgressVersionPrimary=null;tf.length=0}var nc=Cr.ReactCurrentDispatcher,nf=Cr.ReactCurrentBatchConfig,ss=0,Xe=null,mt=null,St=null,Nc=!1,Oa=!1,ul=0,ER=0;function Ut(){throw Error(L(321))}function Pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Ag(t,e,n,r,i,s){if(ss=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nc.current=t===null||t.memoizedState===null?IR:TR,t=n(r,i),Oa){s=0;do{if(Oa=!1,ul=0,25<=s)throw Error(L(301));s+=1,St=mt=null,e.updateQueue=null,nc.current=kR,t=n(r,i)}while(Oa)}if(nc.current=Dc,e=mt!==null&&mt.next!==null,ss=0,St=mt=Xe=null,Nc=!1,e)throw Error(L(300));return t}function Og(){var t=ul!==0;return ul=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Xe.memoizedState=St=t:St=St.next=t,St}function Vn(){if(mt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=St===null?Xe.memoizedState:St.next;if(e!==null)St=e,mt=t;else{if(t===null)throw Error(L(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?Xe.memoizedState=St=t:St=St.next=t}return St}function cl(t,e){return typeof e=="function"?e(t):e}function rf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ss&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xe.lanes|=c,os|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Qn(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,os|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Qn(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function HE(){}function QE(t,e){var n=Xe,r=Vn(),i=e(),s=!Qn(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,Mg(JE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,dl(9,YE.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(L(349));ss&30||XE(n,e,i)}return i}function XE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YE(t,e,n,r){e.value=n,e.getSnapshot=r,ZE(e)&&ex(t)}function JE(t,e,n){return n(function(){ZE(e)&&ex(t)})}function ZE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function ex(t){var e=wr(t,1);e!==null&&Hn(e,t,1,-1)}function L0(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},e.queue=t,t=t.dispatch=CR.bind(null,Xe,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tx(){return Vn().memoizedState}function rc(t,e,n,r){var i=Jn();Xe.flags|=t,i.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function bd(t,e,n,r){var i=Vn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&Pg(r,o.deps)){i.memoizedState=dl(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=dl(1|e,n,s,r)}function F0(t,e){return rc(8390656,8,t,e)}function Mg(t,e){return bd(2048,8,t,e)}function nx(t,e){return bd(4,2,t,e)}function rx(t,e){return bd(4,4,t,e)}function ix(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sx(t,e,n){return n=n!=null?n.concat([t]):null,bd(4,4,ix.bind(null,e,t),n)}function Lg(){}function ox(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ax(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lx(t,e,n){return ss&21?(Qn(n,e)||(n=dE(),Xe.lanes|=n,os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function xR(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=nf.transition;nf.transition={};try{t(!1),e()}finally{ke=n,nf.transition=r}}function ux(){return Vn().memoizedState}function bR(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cx(t))dx(e,n);else if(n=zE(t,e,n,r),n!==null){var i=nn();Hn(n,t,r,i),hx(n,e,r)}}function CR(t,e,n){var r=ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cx(t))dx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,o)){var l=e.interleaved;l===null?(i.next=i,_g(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zE(t,e,i,r),n!==null&&(i=nn(),Hn(n,t,r,i),hx(n,e,r))}}function cx(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function dx(t,e){Oa=Nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}var Dc={readContext:Bn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},IR={readContext:Bn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:F0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rc(4194308,4,ix.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return rc(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bR.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:L0,useDebugValue:Lg,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=L0(!1),e=t[0];return t=xR.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=Jn();if(qe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),xt===null)throw Error(L(349));ss&30||XE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,F0(JE.bind(null,r,s,t),[t]),r.flags|=2048,dl(9,YE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=xt.identifierPrefix;if(qe){var n=fr,r=hr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ER++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TR={readContext:Bn,useCallback:ox,useContext:Bn,useEffect:Mg,useImperativeHandle:sx,useInsertionEffect:nx,useLayoutEffect:rx,useMemo:ax,useReducer:rf,useRef:tx,useState:function(){return rf(cl)},useDebugValue:Lg,useDeferredValue:function(t){var e=Vn();return lx(e,mt.memoizedState,t)},useTransition:function(){var t=rf(cl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:QE,useId:ux,unstable_isNewReconciler:!1},kR={readContext:Bn,useCallback:ox,useContext:Bn,useEffect:Mg,useImperativeHandle:sx,useInsertionEffect:nx,useLayoutEffect:rx,useMemo:ax,useReducer:sf,useRef:tx,useState:function(){return sf(cl)},useDebugValue:Lg,useDeferredValue:function(t){var e=Vn();return mt===null?e.memoizedState=t:lx(e,mt.memoizedState,t)},useTransition:function(){var t=sf(cl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:QE,useId:ux,unstable_isNewReconciler:!1};function vo(t,e){try{var n="",r=e;do n+=t_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function of(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _R=typeof WeakMap=="function"?WeakMap:Map;function fx(t,e,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ac||(Ac=!0,Kp=r),Mp(t,e)},n}function px(t,e,n){n=mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mp(t,e),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function B0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _R;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UR.bind(null,t,e,n),e.then(t,t))}function V0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mr(-1,1),e.tag=2,Jr(n,e,1))),n.lanes|=1),t)}var RR=Cr.ReactCurrentOwner,hn=!1;function Yt(t,e,n,r){e.child=t===null?KE(e,null,n,r):go(e,t.child,n,r)}function U0(t,e,n,r,i){n=n.render;var s=e.ref;return lo(e,i),r=Ag(t,e,n,r,s,i),n=Og(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(qe&&n&&xg(e),e.flags|=1,Yt(t,e,r,i),e.child)}function j0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mx(t,e,s,r,i)):(t=ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(o,r)&&t.ref===e.ref)return Sr(t,e,i)}return e.flags|=1,t=ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function mx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rl(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Sr(t,e,i)}return Lp(t,e,n,r,i)}function gx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(to,En),En|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(to,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(to,En),En|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(to,En),En|=r;return Yt(t,e,i,n),e.child}function yx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lp(t,e,n,r,i){var s=yn(n)?rs:Ht.current;return s=po(e,s),lo(e,i),n=Ag(t,e,n,r,s,i),r=Og(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(qe&&r&&xg(e),e.flags|=1,Yt(t,e,n,i),e.child)}function q0(t,e,n,r,i){if(yn(n)){var s=!0;Cc(e)}else s=!1;if(lo(e,i),e.stateNode===null)ic(t,e),qE(e,n,r),Op(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=yn(n)?rs:Ht.current,u=po(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&O0(e,o,r,u),Br=!1;var h=e.memoizedState;o.state=h,Rc(e,r,o,i),l=e.memoizedState,a!==r||h!==l||gn.current||Br?(typeof c=="function"&&(Ap(e,n,c,r),l=e.memoizedState),(a=Br||A0(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,UE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:jn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=yn(n)?rs:Ht.current,l=po(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&O0(e,o,r,l),Br=!1,h=e.memoizedState,o.state=h,Rc(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||gn.current||Br?(typeof p=="function"&&(Ap(e,n,p,r),g=e.memoizedState),(u=Br||A0(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fp(t,e,n,r,s,i)}function Fp(t,e,n,r,i,s){yx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&R0(e,n,!1),Sr(t,e,s);r=e.stateNode,RR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,a,s)):Yt(t,e,a,s),e.memoizedState=r.state,i&&R0(e,n,!0),e.child}function vx(t){var e=t.stateNode;e.pendingContext?_0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_0(t,e.context,!1),$g(t,e.containerInfo)}function W0(t,e,n,r,i){return mo(),Cg(i),e.flags|=256,Yt(t,e,n,r),e.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Vp(t){return{baseLanes:t,cachePool:null,transitions:null}}function wx(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(Qe,i&1),t===null)return Dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Td(o,r,0,null),t=Yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vp(n),e.memoizedState=Bp,t):Fg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $R(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ti(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ti(a,s):(s=Yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bp,r}return s=t.child,t=s.sibling,r=ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fg(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pu(t,e,n,r){return r!==null&&Cg(r),go(e,t.child,null,n),t=Fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $R(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=of(Error(L(422))),Pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Td({mode:"visible",children:r.children},i,0,null),s=Yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=Vp(o),e.memoizedState=Bp,s);if(!(e.mode&1))return Pu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=of(s,r,void 0),Pu(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wr(t,i),Hn(r,t,i,-1))}return qg(),r=of(Error(L(421))),Pu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=Yr(i.nextSibling),bn=e,qe=!0,Wn=null,t!==null&&(Pn[An++]=hr,Pn[An++]=fr,Pn[An++]=is,hr=t.id,fr=t.overflow,is=e),e=Fg(e,r.children),e.flags|=4096,e)}function K0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pp(t.return,e,n)}function af(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Sx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K0(t,n,e);else if(t.tag===19)K0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$c(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),af(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$c(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}af(e,!0,n,null,s);break;case"together":af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NR(t,e,n){switch(e.tag){case 3:vx(e),mo();break;case 5:GE(e);break;case 1:yn(e.type)&&Cc(e);break;case 4:$g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(kc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?wx(t,e,n):(Me(Qe,Qe.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);Me(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,gx(t,e,n)}return Sr(t,e,n)}var Ex,zp,xx,bx;Ex=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zp=function(){};xx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ji(sr.current);var s=null;switch(n){case"input":i=up(t,i),r=up(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=hp(t,i),r=hp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xc)}pp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};bx=function(t,e,n,r){n!==r&&(e.flags|=4)};function la(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DR(t,e,n){var r=e.pendingProps;switch(bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return yn(e.type)&&bc(),jt(e),null;case 3:return r=e.stateNode,yo(),ze(gn),ze(Ht),Dg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wn!==null&&(Qp(Wn),Wn=null))),zp(t,e),jt(e),null;case 5:Ng(e);var i=ji(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)xx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return jt(e),null}if(t=ji(sr.current),Nu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[er]=e,r[ol]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<xa.length;i++)Be(xa[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":t0(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":r0(r,s),Be("invalid",r)}pp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,a,t),i=["children",""+a]):Xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":xu(r),n0(r,s,!0);break;case"textarea":xu(r),i0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[er]=e,t[ol]=r,Ex(t,e,!1,!1),e.stateNode=t;e:{switch(o=mp(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<xa.length;i++)Be(xa[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":t0(t,r),i=up(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Be("invalid",t);break;case"textarea":r0(t,r),i=hp(t,r),Be("invalid",t);break;default:i=r}pp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ZS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ya(t,l):typeof l=="number"&&Ya(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",t):l!=null&&lg(t,s,l,o))}switch(n){case"input":xu(t),n0(t,r,!1);break;case"textarea":xu(t),i0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?io(t,!!r.multiple,s,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)bx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=ji(ll.current),ji(sr.current),Nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:$u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return jt(e),null;case 13:if(ze(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&xn!==null&&e.mode&1&&!(e.flags&128))VE(),mo(),e.flags|=98560,s=!1;else if(s=Nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[er]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else Wn!==null&&(Qp(Wn),Wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?gt===0&&(gt=3):qg())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return yo(),zp(t,e),t===null&&il(e.stateNode.containerInfo),jt(e),null;case 10:return kg(e.type._context),jt(e),null;case 17:return yn(e.type)&&bc(),jt(e),null;case 19:if(ze(Qe),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)la(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$c(t),o!==null){for(e.flags|=128,la(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>wo&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304)}else{if(!r)if(t=$c(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return jt(e),null}else 2*it()-s.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Qe.current,Me(Qe,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return jg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function PR(t,e){switch(bg(e),e.tag){case 1:return yn(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),ze(gn),ze(Ht),Dg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ng(e),null;case 13:if(ze(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Qe),null;case 4:return yo(),null;case 10:return kg(e.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var Au=!1,Wt=!1,AR=typeof WeakSet=="function"?WeakSet:Set,G=null;function eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Up(t,e,n){try{n()}catch(r){Je(t,e,r)}}var G0=!1;function OR(t,e){if(Ip=wc,t=kE(),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:t,selectionRange:n},wc=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,S=g.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:jn(e.type,v),S);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(E){Je(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return g=G0,G0=!1,g}function Ma(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Up(e,n,s)}i=i.next}while(i!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cx(t){var e=t.alternate;e!==null&&(t.alternate=null,Cx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[ol],delete e[Rp],delete e[yR],delete e[vR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ix(t){return t.tag===5||t.tag===3||t.tag===4}function H0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ix(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xc));else if(r!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}function Wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wp(t,e,n),t=t.sibling;t!==null;)Wp(t,e,n),t=t.sibling}var $t=null,qn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)Tx(t,e,n),n=n.sibling}function Tx(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(gd,n)}catch{}switch(n.tag){case 5:Wt||eo(n,e);case 6:var r=$t,i=qn;$t=null,Dr(t,e,n),$t=r,qn=i,$t!==null&&(qn?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(qn?(t=$t,n=n.stateNode,t.nodeType===8?Zh(t.parentNode,n):t.nodeType===1&&Zh(t,n),tl(t)):Zh($t,n.stateNode));break;case 4:r=$t,i=qn,$t=n.stateNode.containerInfo,qn=!0,Dr(t,e,n),$t=r,qn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Up(n,e,o),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!Wt&&(eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Dr(t,e,n),Wt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function Q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AR),e.forEach(function(r){var i=qR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,qn=!1;break e;case 3:$t=a.stateNode.containerInfo,qn=!0;break e;case 4:$t=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if($t===null)throw Error(L(160));Tx(s,o,i),$t=null,qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kx(e,t),e=e.sibling}function kx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),Yn(t),r&4){try{Ma(3,t,t.return),Cd(3,t)}catch(v){Je(t,t.return,v)}try{Ma(5,t,t.return)}catch(v){Je(t,t.return,v)}}break;case 1:Un(e,t),Yn(t),r&512&&n!==null&&eo(n,n.return);break;case 5:if(Un(e,t),Yn(t),r&512&&n!==null&&eo(n,n.return),t.flags&32){var i=t.stateNode;try{Ya(i,"")}catch(v){Je(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HS(i,s),mp(a,o);var u=mp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?ZS(i,d):c==="dangerouslySetInnerHTML"?YS(i,d):c==="children"?Ya(i,d):lg(i,c,d,u)}switch(a){case"input":cp(i,s);break;case"textarea":QS(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?io(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?io(i,!!s.multiple,s.defaultValue,!0):io(i,!!s.multiple,s.multiple?[]:"",!1))}i[ol]=s}catch(v){Je(t,t.return,v)}}break;case 6:if(Un(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Je(t,t.return,v)}}break;case 3:if(Un(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(v){Je(t,t.return,v)}break;case 4:Un(e,t),Yn(t);break;case 13:Un(e,t),Yn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zg=it())),r&4&&Q0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||c,Un(e,t),Wt=u):Un(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(G=t,c=t.child;c!==null;){for(d=G=c;G!==null;){switch(h=G,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ma(4,h,h.return);break;case 1:eo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Je(r,n,v)}}break;case 5:eo(h,h.return);break;case 22:if(h.memoizedState!==null){Y0(d);continue}}p!==null?(p.return=h,G=p):Y0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JS("display",o))}catch(v){Je(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Je(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Un(e,t),Yn(t),r&4&&Q0(t);break;case 21:break;default:Un(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ix(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ya(i,""),r.flags&=-33);var s=H0(t);Wp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=H0(t);qp(t,a,o);break;default:throw Error(L(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MR(t,e,n){G=t,_x(t)}function _x(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Au;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Au;var u=Wt;if(Au=o,(Wt=l)&&!u)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?J0(i):l!==null?(l.return=o,G=l):J0(i);for(;s!==null;)G=s,_x(s),s=s.sibling;G=i,Au=a,Wt=u}X0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):X0(t)}}function X0(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&P0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}P0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&tl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Wt||e.flags&512&&jp(e)}catch(h){Je(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Y0(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function J0(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Je(e,i,l)}}var s=e.return;try{jp(e)}catch(l){Je(e,s,l)}break;case 5:var o=e.return;try{jp(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var LR=Math.ceil,Pc=Cr.ReactCurrentDispatcher,Bg=Cr.ReactCurrentOwner,Ln=Cr.ReactCurrentBatchConfig,Ee=0,xt=null,dt=null,At=0,En=0,to=Si(0),gt=0,hl=null,os=0,Id=0,Vg=0,La=null,dn=null,zg=0,wo=1/0,cr=null,Ac=!1,Kp=null,Zr=null,Ou=!1,Wr=null,Oc=0,Fa=0,Gp=null,sc=-1,oc=0;function nn(){return Ee&6?it():sc!==-1?sc:sc=it()}function ei(t){return t.mode&1?Ee&2&&At!==0?At&-At:SR.transition!==null?(oc===0&&(oc=dE()),oc):(t=ke,t!==0||(t=window.event,t=t===void 0?16:vE(t.type)),t):1}function Hn(t,e,n,r){if(50<Fa)throw Fa=0,Gp=null,Error(L(185));Ll(t,n,r),(!(Ee&2)||t!==xt)&&(t===xt&&(!(Ee&2)&&(Id|=n),gt===4&&zr(t,At)),vn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(wo=it()+500,Ed&&Ei()))}function vn(t,e){var n=t.callbackNode;S_(t,e);var r=vc(t,t===xt?At:0);if(r===0)n!==null&&a0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a0(n),e===1)t.tag===0?wR(Z0.bind(null,t)):LE(Z0.bind(null,t)),mR(function(){!(Ee&6)&&Ei()}),n=null;else{switch(hE(r)){case 1:n=fg;break;case 4:n=uE;break;case 16:n=yc;break;case 536870912:n=cE;break;default:n=yc}n=Mx(n,Rx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rx(t,e){if(sc=-1,oc=0,Ee&6)throw Error(L(327));var n=t.callbackNode;if(uo()&&t.callbackNode!==n)return null;var r=vc(t,t===xt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mc(t,r);else{e=r;var i=Ee;Ee|=2;var s=Nx();(xt!==t||At!==e)&&(cr=null,wo=it()+500,Xi(t,e));do try{VR();break}catch(a){$x(t,a)}while(1);Tg(),Pc.current=s,Ee=i,dt!==null?e=0:(xt=null,At=0,e=gt)}if(e!==0){if(e===2&&(i=Sp(t),i!==0&&(r=i,e=Hp(t,i))),e===1)throw n=hl,Xi(t,0),zr(t,r),vn(t,it()),n;if(e===6)zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!FR(i)&&(e=Mc(t,r),e===2&&(s=Sp(t),s!==0&&(r=s,e=Hp(t,s))),e===1))throw n=hl,Xi(t,0),zr(t,r),vn(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:$i(t,dn,cr);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=zg+500-it(),10<e)){if(vc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_p($i.bind(null,t,dn,cr),e);break}$i(t,dn,cr);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LR(r/1960))-r,10<r){t.timeoutHandle=_p($i.bind(null,t,dn,cr),r);break}$i(t,dn,cr);break;case 5:$i(t,dn,cr);break;default:throw Error(L(329))}}}return vn(t,it()),t.callbackNode===n?Rx.bind(null,t):null}function Hp(t,e){var n=La;return t.current.memoizedState.isDehydrated&&(Xi(t,e).flags|=256),t=Mc(t,e),t!==2&&(e=dn,dn=n,e!==null&&Qp(e)),t}function Qp(t){dn===null?dn=t:dn.push.apply(dn,t)}function FR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~Vg,e&=~Id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function Z0(t){if(Ee&6)throw Error(L(327));uo();var e=vc(t,0);if(!(e&1))return vn(t,it()),null;var n=Mc(t,e);if(t.tag!==0&&n===2){var r=Sp(t);r!==0&&(e=r,n=Hp(t,r))}if(n===1)throw n=hl,Xi(t,0),zr(t,e),vn(t,it()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,dn,cr),vn(t,it()),null}function Ug(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(wo=it()+500,Ed&&Ei())}}function as(t){Wr!==null&&Wr.tag===0&&!(Ee&6)&&uo();var e=Ee;Ee|=1;var n=Ln.transition,r=ke;try{if(Ln.transition=null,ke=1,t)return t()}finally{ke=r,Ln.transition=n,Ee=e,!(Ee&6)&&Ei()}}function jg(){En=to.current,ze(to)}function Xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pR(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(bg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:yo(),ze(gn),ze(Ht),Dg();break;case 5:Ng(r);break;case 4:yo();break;case 13:ze(Qe);break;case 19:ze(Qe);break;case 10:kg(r.type._context);break;case 22:case 23:jg()}n=n.return}if(xt=t,dt=t=ti(t.current,null),At=En=e,gt=0,hl=null,Vg=Id=os=0,dn=La=null,Ui!==null){for(e=0;e<Ui.length;e++)if(n=Ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ui=null}return t}function $x(t,e){do{var n=dt;try{if(Tg(),nc.current=Dc,Nc){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nc=!1}if(ss=0,St=mt=Xe=null,Oa=!1,ul=0,Bg.current=null,n===null||n.return===null){gt=1,hl=e,dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=V0(o);if(p!==null){p.flags&=-257,z0(p,o,a,s,e),p.mode&1&&B0(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){B0(s,u,e),qg();break e}l=Error(L(426))}}else if(qe&&a.mode&1){var S=V0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),z0(S,o,a,s,e),Cg(vo(l,a));break e}}s=l=vo(l,a),gt!==4&&(gt=2),La===null?La=[s]:La.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=fx(s,l,e);D0(s,y);break e;case 1:a=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zr===null||!Zr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=px(s,a,e);D0(s,E);break e}}s=s.return}while(s!==null)}Px(n)}catch(x){e=x,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function Nx(){var t=Pc.current;return Pc.current=Dc,t===null?Dc:t}function qg(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||!(os&268435455)&&!(Id&268435455)||zr(xt,At)}function Mc(t,e){var n=Ee;Ee|=2;var r=Nx();(xt!==t||At!==e)&&(cr=null,Xi(t,e));do try{BR();break}catch(i){$x(t,i)}while(1);if(Tg(),Ee=n,Pc.current=r,dt!==null)throw Error(L(261));return xt=null,At=0,gt}function BR(){for(;dt!==null;)Dx(dt)}function VR(){for(;dt!==null&&!d_();)Dx(dt)}function Dx(t){var e=Ox(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?Px(t):dt=e,Bg.current=null}function Px(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PR(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,dt=null;return}}else if(n=DR(n,e,En),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);gt===0&&(gt=5)}function $i(t,e,n){var r=ke,i=Ln.transition;try{Ln.transition=null,ke=1,zR(t,e,n,r)}finally{Ln.transition=i,ke=r}return null}function zR(t,e,n,r){do uo();while(Wr!==null);if(Ee&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(E_(t,s),t===xt&&(dt=xt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ou||(Ou=!0,Mx(yc,function(){return uo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var o=ke;ke=1;var a=Ee;Ee|=4,Bg.current=null,OR(t,n),kx(n,t),aR(Tp),wc=!!Ip,Tp=Ip=null,t.current=n,MR(n),h_(),Ee=a,ke=o,Ln.transition=s}else t.current=n;if(Ou&&(Ou=!1,Wr=t,Oc=i),s=t.pendingLanes,s===0&&(Zr=null),m_(n.stateNode),vn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ac)throw Ac=!1,t=Kp,Kp=null,t;return Oc&1&&t.tag!==0&&uo(),s=t.pendingLanes,s&1?t===Gp?Fa++:(Fa=0,Gp=t):Fa=0,Ei(),null}function uo(){if(Wr!==null){var t=hE(Oc),e=Ln.transition,n=ke;try{if(Ln.transition=null,ke=16>t?16:t,Wr===null)var r=!1;else{if(t=Wr,Wr=null,Oc=0,Ee&6)throw Error(L(331));var i=Ee;for(Ee|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:Ma(8,c,s)}var d=c.child;if(d!==null)d.return=c,G=d;else for(;G!==null;){c=G;var h=c.sibling,p=c.return;if(Cx(c),c===u){G=null;break}if(h!==null){h.return=p,G=h;break}G=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ma(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,G=y;break e}G=s.return}}var m=t.current;for(G=m;G!==null;){o=G;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,G=w;else e:for(o=m;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(x){Je(a,a.return,x)}if(a===o){G=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,G=E;break e}G=a.return}}if(Ee=i,Ei(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(gd,t)}catch{}r=!0}return r}finally{ke=n,Ln.transition=e}}return!1}function ew(t,e,n){e=vo(n,e),e=fx(t,e,1),t=Jr(t,e,1),e=nn(),t!==null&&(Ll(t,1,e),vn(t,e))}function Je(t,e,n){if(t.tag===3)ew(t,t,n);else for(;e!==null;){if(e.tag===3){ew(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){t=vo(n,t),t=px(e,t,1),e=Jr(e,t,1),t=nn(),e!==null&&(Ll(e,1,t),vn(e,t));break}}e=e.return}}function UR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(At&n)===n&&(gt===4||gt===3&&(At&130023424)===At&&500>it()-zg?Xi(t,0):Vg|=n),vn(t,e)}function Ax(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=nn();t=wr(t,e),t!==null&&(Ll(t,e,n),vn(t,n))}function jR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ax(t,n)}function qR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),Ax(t,n)}var Ox;Ox=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,NR(t,e,n);hn=!!(t.flags&131072)}else hn=!1,qe&&e.flags&1048576&&FE(e,Tc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ic(t,e),t=e.pendingProps;var i=po(e,Ht.current);lo(e,n),i=Ag(null,e,r,t,i,n);var s=Og();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,Cc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rg(e),i.updater=xd,e.stateNode=i,i._reactInternals=e,Op(e,r,t,n),e=Fp(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&xg(e),Yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KR(r),t=jn(r,t),i){case 0:e=Lp(null,e,r,t,n);break e;case 1:e=q0(null,e,r,t,n);break e;case 11:e=U0(null,e,r,t,n);break e;case 14:e=j0(null,e,r,jn(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Lp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),q0(t,e,r,i,n);case 3:e:{if(vx(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,UE(t,e),Rc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error(L(423)),e),e=W0(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(L(424)),e),e=W0(t,e,r,n,i);break e}else for(xn=Yr(e.stateNode.containerInfo.firstChild),bn=e,qe=!0,Wn=null,n=KE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=Sr(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return GE(e),t===null&&Dp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kp(r,i)?o=null:s!==null&&kp(r,s)&&(e.flags|=32),yx(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&Dp(e),null;case 13:return wx(t,e,n);case 4:return $g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),U0(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(kc,r._currentValue),r._currentValue=o,s!==null)if(Qn(s.value,o)){if(s.children===i.children&&!gn.current){e=Sr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=mr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lo(e,n),i=Bn(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,i=jn(r,e.pendingProps),i=jn(r.type,i),j0(t,e,r,i,n);case 15:return mx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),ic(t,e),e.tag=1,yn(r)?(t=!0,Cc(e)):t=!1,lo(e,n),qE(e,r,i),Op(e,r,i,n),Fp(null,e,r,!0,t,n);case 19:return Sx(t,e,n);case 22:return gx(t,e,n)}throw Error(L(156,e.tag))};function Mx(t,e){return lE(t,e)}function WR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new WR(t,e,n,r)}function Wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KR(t){if(typeof t=="function")return Wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cg)return 11;if(t===dg)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ac(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ws:return Yi(n.children,i,s,e);case ug:o=8,i|=8;break;case sp:return t=On(12,n,e,i|2),t.elementType=sp,t.lanes=s,t;case op:return t=On(13,n,e,i),t.elementType=op,t.lanes=s,t;case ap:return t=On(19,n,e,i),t.elementType=ap,t.lanes=s,t;case WS:return Td(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jS:o=10;break e;case qS:o=9;break e;case cg:o=11;break e;case dg:o=14;break e;case Fr:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=On(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yi(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Td(t,e,n,r){return t=On(22,t,r,e),t.elementType=WS,t.lanes=n,t.stateNode={isHidden:!1},t}function lf(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function uf(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kg(t,e,n,r,i,s,o,a,l){return t=new GR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rg(s),t}function HR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Lx(t){if(!t)return ai;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(yn(n))return ME(t,n,e)}return e}function Fx(t,e,n,r,i,s,o,a,l){return t=Kg(n,r,!0,t,i,s,o,a,l),t.context=Lx(null),n=t.current,r=nn(),i=ei(n),s=mr(r,i),s.callback=e??null,Jr(n,s,i),t.current.lanes=i,Ll(t,i,r),vn(t,r),t}function kd(t,e,n,r){var i=e.current,s=nn(),o=ei(i);return n=Lx(n),e.context===null?e.context=n:e.pendingContext=n,e=mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jr(i,e,o),t!==null&&(Hn(t,i,o,s),tc(t,i,o)),o}function Lc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gg(t,e){tw(t,e),(t=t.alternate)&&tw(t,e)}function QR(){return null}var Bx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hg(t){this._internalRoot=t}_d.prototype.render=Hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));kd(t,e,null,null)};_d.prototype.unmount=Hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;as(function(){kd(null,t,null,null)}),e[vr]=null}};function _d(t){this._internalRoot=t}_d.prototype.unstable_scheduleHydration=function(t){if(t){var e=mE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vr.length&&e!==0&&e<Vr[n].priority;n++);Vr.splice(n,0,t),n===0&&yE(t)}};function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nw(){}function XR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Lc(o);s.call(u)}}var o=Fx(e,r,t,0,null,!1,!1,"",nw);return t._reactRootContainer=o,t[vr]=o.current,il(t.nodeType===8?t.parentNode:t),as(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Lc(l);a.call(u)}}var l=Kg(t,0,!1,null,null,!1,!1,"",nw);return t._reactRootContainer=l,t[vr]=l.current,il(t.nodeType===8?t.parentNode:t),as(function(){kd(e,l,n,r)}),l}function $d(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lc(o);a.call(l)}}kd(e,o,t,i)}else o=XR(n,e,t,i,r);return Lc(o)}fE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ea(e.pendingLanes);n!==0&&(pg(e,n|1),vn(e,it()),!(Ee&6)&&(wo=it()+500,Ei()))}break;case 13:as(function(){var r=wr(t,1);if(r!==null){var i=nn();Hn(r,t,1,i)}}),Gg(t,1)}};mg=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=nn();Hn(e,t,134217728,n)}Gg(t,134217728)}};pE=function(t){if(t.tag===13){var e=ei(t),n=wr(t,e);if(n!==null){var r=nn();Hn(n,t,e,r)}Gg(t,e)}};mE=function(){return ke};gE=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};yp=function(t,e,n){switch(e){case"input":if(cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sd(r);if(!i)throw Error(L(90));GS(r),cp(r,i)}}}break;case"textarea":QS(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};nE=Ug;rE=as;var YR={usingClientEntryPoint:!1,Events:[Bl,Qs,Sd,eE,tE,Ug]},ua={findFiberByHostInstance:zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JR={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oE(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{gd=Mu.inject(JR),ir=Mu}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qg(e))throw Error(L(200));return HR(t,e,null,n)};_n.createRoot=function(t,e){if(!Qg(t))throw Error(L(299));var n=!1,r="",i=Bx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kg(t,1,!1,null,null,n,!1,r,i),t[vr]=e.current,il(t.nodeType===8?t.parentNode:t),new Hg(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=oE(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return as(t)};_n.hydrate=function(t,e,n){if(!Rd(e))throw Error(L(200));return $d(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!Qg(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Bx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fx(e,null,t,1,n??null,i,!1,s,o),t[vr]=e.current,il(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _d(e)};_n.render=function(t,e,n){if(!Rd(e))throw Error(L(200));return $d(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!Rd(t))throw Error(L(40));return t._reactRootContainer?(as(function(){$d(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};_n.unstable_batchedUpdates=Ug;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rd(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return $d(t,e,n,!1,r)};_n.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=_n})(Qk);const Lu=NS(Cn);var rw=Cn;np.createRoot=rw.createRoot,np.hydrateRoot=rw.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new e$;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t$=function(t){const e=Vx(t);return zx.encodeByteArray(e,!0)},Fc=function(t){return t$(t).replace(/\./g,"")},n$=function(t){try{return zx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!r$(n)||(t[n]=Bc(t[n],e[n]));return t}function r$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=()=>i$().__FIREBASE_DEFAULTS__,o$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n$(t[1]);return e&&JSON.parse(e)},Ux=()=>{try{return s$()||o$()||a$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l$=()=>{var t;return(t=Ux())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Fc(JSON.stringify(n)),Fc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d$(){var t;const e=(t=Ux())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h$(){return typeof self=="object"&&self.self===self}function f$(){return!d$()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jx(){try{return typeof indexedDB=="object"}catch{return!1}}function p$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="FirebaseError";class Cs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m$,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nd.prototype.create)}}class Nd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?g$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cs(i,a,r)}}function g$(t,e){return t.replace(y$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const y$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sw(s)&&sw(o)){if(!Yp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sw(t){return t!==null&&typeof t=="object"}function v$(t,e){const n=new w$(t,e);return n.subscribe.bind(n)}class w${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cf),i.error===void 0&&(i.error=cf),i.complete===void 0&&(i.complete=cf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b$(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x$(t){return t===Ni?void 0:t}function b$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=[];var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const qx={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},I$=be.INFO,T$={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},k$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=T$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=I$,this._logHandler=k$,this._userLogHandler=null,Xg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}function _$(t){Xg.forEach(e=>{e.setLogLevel(t)})}function R$(t,e){for(const n of Xg){let r=null;e&&e.level&&(r=qx[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:be[s].toLowerCase(),message:a,args:o,type:i.name})}}}const $$=(t,e)=>e.some(n=>t instanceof n);let ow,aw;function N$(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D$(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wx=new WeakMap,Jp=new WeakMap,Kx=new WeakMap,df=new WeakMap,Jg=new WeakMap;function P$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wx.set(n,t)}).catch(()=>{}),Jg.set(e,t),e}function A$(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O$(t){Zp=t(Zp)}function M$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hf(this),e,...n);return Kx.set(r,e.sort?e.sort():[e]),ni(r)}:D$().includes(t)?function(...e){return t.apply(hf(this),e),ni(Wx.get(this))}:function(...e){return ni(t.apply(hf(this),e))}}function L$(t){return typeof t=="function"?M$(t):(t instanceof IDBTransaction&&A$(t),$$(t,N$())?new Proxy(t,Zp):t)}function ni(t){if(t instanceof IDBRequest)return P$(t);if(df.has(t))return df.get(t);const e=L$(t);return e!==t&&(df.set(t,e),Jg.set(e,t)),e}const hf=t=>Jg.get(t);function F$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ni(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ni(o.result),l.oldVersion,l.newVersion,ni(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const B$=["get","getKey","getAll","getAllKeys","count"],V$=["put","add","delete","clear"],ff=new Map;function lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=V$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||B$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ff.set(e,s),s}O$(t=>({...t,get:(e,n,r)=>lw(e,n)||t.get(e,n,r),has:(e,n)=>!!lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const em="@firebase/app",uw="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Yg("@firebase/app"),j$="@firebase/app-compat",q$="@firebase/analytics-compat",W$="@firebase/analytics",K$="@firebase/app-check-compat",G$="@firebase/app-check",H$="@firebase/auth",Q$="@firebase/auth-compat",X$="@firebase/database",Y$="@firebase/database-compat",J$="@firebase/functions",Z$="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",rN="@firebase/messaging-compat",iN="@firebase/performance",sN="@firebase/performance-compat",oN="@firebase/remote-config",aN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",dN="@firebase/firestore-compat",hN="firebase",fN="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]",pN={[em]:"fire-core",[j$]:"fire-core-compat",[W$]:"fire-analytics",[q$]:"fire-analytics-compat",[G$]:"fire-app-check",[K$]:"fire-app-check-compat",[H$]:"fire-auth",[Q$]:"fire-auth-compat",[X$]:"fire-rtdb",[Y$]:"fire-rtdb-compat",[J$]:"fire-fn",[Z$]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[rN]:"fire-fcm-compat",[iN]:"fire-perf",[sN]:"fire-perf-compat",[oN]:"fire-rc",[aN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[dN]:"fire-fst-compat","fire-js":"fire-js",[hN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Map,fl=new Map;function Vc(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gx(t,e){t.container.addOrOverwriteComponent(e)}function So(t){const e=t.name;if(fl.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;fl.set(e,t);for(const n of ui.values())Vc(n,t);return!0}function Hx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mN(t,e,n=li){Hx(t,e).clearInstance(n)}function gN(){fl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gr=new Nd("app","Firebase",yN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vN=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=fN;function ey(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:li,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=l$()),!n)throw gr.create("no-options");const s=ui.get(i);if(s){if(Yp(n,s.options)&&Yp(r,s.config))return s;throw gr.create("duplicate-app",{appName:i})}const o=new C$(i);for(const l of fl.values())o.addComponent(l);const a=new vN(n,r,o);return ui.set(i,a),a}function wN(t=li){const e=ui.get(t);if(!e&&t===li)return ey();if(!e)throw gr.create("no-app",{appName:t});return e}function SN(){return Array.from(ui.values())}async function Qx(t){const e=t.name;ui.has(e)&&(ui.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ri(t,e,n){var r;let i=(r=pN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(a.join(" "));return}So(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Xx(t,e){if(t!==null&&typeof t!="function")throw gr.create("invalid-log-argument");R$(t,e)}function Yx(t){_$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-heartbeat-database",xN=1,pl="firebase-heartbeat-store";let pf=null;function Jx(){return pf||(pf=F$(EN,xN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pl)}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),pf}async function bN(t){try{return(await Jx()).transaction(pl).objectStore(pl).get(Zx(t))}catch(e){if(e instanceof Cs)us.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function cw(t,e){try{const r=(await Jx()).transaction(pl,"readwrite");return await r.objectStore(pl).put(e,Zx(t)),r.done}catch(n){if(n instanceof Cs)us.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function Zx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1024,IN=30*24*60*60*1e3;class TN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _N(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=IN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dw(),{heartbeatsToSend:n,unsentEntries:r}=kN(this._heartbeatsCache.heartbeats),i=Fc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function dw(){return new Date().toISOString().substring(0,10)}function kN(t,e=CN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jx()?p$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await bN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hw(t){return Fc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){So(new ls("platform-logger",e=>new z$(e),"PRIVATE")),So(new ls("heartbeat",e=>new TN(e),"PRIVATE")),ri(em,uw,t),ri(em,uw,"esm2017"),ri("fire-js","")}RN("");const $N=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Cs,SDK_VERSION:Zg,_DEFAULT_ENTRY_NAME:li,_addComponent:Vc,_addOrOverwriteComponent:Gx,_apps:ui,_clearComponents:gN,_components:fl,_getProvider:Hx,_registerComponent:So,_removeServiceInstance:mN,deleteApp:Qx,getApp:wN,getApps:SN,initializeApp:ey,onLog:Xx,registerVersion:ri,setLogLevel:Yx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this._delegate=e,this.firebase=n,Vc(e,new ls("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Qx(this._delegate)))}_getService(e,n=li){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=li){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Vc(this._delegate,e)}_addOrOverwriteComponent(e){Gx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},fw=new Nd("app-compat","Firebase",DN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:ri,setLogLevel:Yx,onLog:Xx,apps:null,SDK_VERSION:Zg,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:$N}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||li,!iw(e,u))throw fw.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=ey(u,c);if(iw(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(So(u)&&u.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw fw.create("invalid-app-argument",{appName:c});return p[d]()};u.serviceProps!==void 0&&Bc(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){const t=PN(NN);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:eb,extendNamespace:e,createSubscribe:v$,ErrorFactory:Nd,deepExtend:Bc});function e(n){Bc(t,n)}return t}const AN=eb();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Yg("@firebase/app-compat"),ON="@firebase/app-compat",MN="0.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){ri(ON,MN,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(h$()&&self.firebase!==void 0){pw.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&pw.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Dd=AN;LN();var FN="firebase",BN="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dd.registerVersion(FN,BN,"app-compat");var VN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,ty=ty||{},ie=VN||self;function zc(){}function Pd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function zl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zN(t){return Object.prototype.hasOwnProperty.call(t,mf)&&t[mf]||(t[mf]=++UN)}var mf="closure_uid_"+(1e9*Math.random()>>>0),UN=0;function jN(t,e,n){return t.call.apply(t.bind,arguments)}function qN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=jN:Kt=qN,Kt.apply(null,arguments)}function Fu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xi(){this.s=this.s,this.o=this.o}var WN=0;xi.prototype.s=!1;xi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),WN!=0)&&zN(this)};xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ny(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Pd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var KN=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",zc,e),ie.removeEventListener("test",zc,e)}catch{}return t}();function Uc(t){return/^[\s\xa0]*$/.test(t)}var gw=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gf(t,e){return t<e?-1:t>e?1:0}function Ad(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function tr(t){return Ad().indexOf(t)!=-1}function ry(t){return ry[" "](t),t}ry[" "]=zc;function GN(t){var e=XN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var HN=tr("Opera"),Eo=tr("Trident")||tr("MSIE"),nb=tr("Edge"),tm=nb||Eo,rb=tr("Gecko")&&!(Ad().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge"))&&!(tr("Trident")||tr("MSIE"))&&!tr("Edge"),QN=Ad().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge");function ib(){var t=ie.document;return t?t.documentMode:void 0}var jc;e:{var yf="",vf=function(){var t=Ad();if(rb)return/rv:([^\);]+)(\)|;)/.exec(t);if(nb)return/Edge\/([\d\.]+)/.exec(t);if(Eo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(QN)return/WebKit\/(\S+)/.exec(t);if(HN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vf&&(yf=vf?vf[1]:""),Eo){var wf=ib();if(wf!=null&&wf>parseFloat(yf)){jc=String(wf);break e}}jc=yf}var XN={};function YN(){return GN(function(){let t=0;const e=gw(String(jc)).split("."),n=gw("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=gf(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||gf(i[2].length==0,s[2].length==0)||gf(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var nm;if(ie.document&&Eo){var yw=ib();nm=yw||parseInt(jc,10)||void 0}else nm=void 0;var JN=nm;function ml(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rb){e:{try{ry(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ml.X.h.call(this)}}Ft(ml,Gt);var ZN={2:"touch",3:"pen",4:"mouse"};ml.prototype.h=function(){ml.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ul="closure_listenable_"+(1e6*Math.random()|0),eD=0;function tD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++eD,this.ba=this.ea=!1}function Od(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function iy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sb(t){const e={};for(const n in t)e[n]=t[n];return e}const vw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ob(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<vw.length;s++)n=vw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Md(t){this.src=t,this.g={},this.h=0}Md.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=im(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new tD(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function rm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=tb(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Od(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function im(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var sy="closure_lm_"+(1e6*Math.random()|0),Sf={};function ab(t,e,n,r,i){if(r&&r.once)return ub(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ab(t,e[s],n,r,i);return null}return n=ly(n),t&&t[Ul]?t.N(e,n,zl(r)?!!r.capture:!!r,i):lb(t,e,n,!1,r,i)}function lb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zl(i)?!!i.capture:!!i,a=ay(t);if(a||(t[sy]=a=new Md(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=nD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)KN||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(db(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nD(){function t(n){return e.call(t.src,t.listener,n)}const e=rD;return t}function ub(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ub(t,e[s],n,r,i);return null}return n=ly(n),t&&t[Ul]?t.O(e,n,zl(r)?!!r.capture:!!r,i):lb(t,e,n,!0,r,i)}function cb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cb(t,e[s],n,r,i);else r=zl(r)?!!r.capture:!!r,n=ly(n),t&&t[Ul]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=im(s,n,r,i),-1<n&&(Od(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ay(t))&&(e=t.g[e.toString()],t=-1,e&&(t=im(e,n,r,i)),(n=-1<t?e[t]:null)&&oy(n))}function oy(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Ul])rm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(db(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ay(e))?(rm(n,t),n.h==0&&(n.src=null,e[sy]=null)):Od(t)}}}function db(t){return t in Sf?Sf[t]:Sf[t]="on"+t}function rD(t,e){if(t.ba)t=!0;else{e=new ml(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&oy(t),t=n.call(r,e)}return t}function ay(t){return t=t[sy],t instanceof Md?t:null}var Ef="__closure_events_fn_"+(1e9*Math.random()>>>0);function ly(t){return typeof t=="function"?t:(t[Ef]||(t[Ef]=function(e){return t.handleEvent(e)}),t[Ef])}function Ct(){xi.call(this),this.i=new Md(this),this.P=this,this.I=null}Ft(Ct,xi);Ct.prototype[Ul]=!0;Ct.prototype.removeEventListener=function(t,e,n,r){cb(this,t,e,n,r)};function Ot(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;e=new Gt(r,t),ob(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Bu(o,r,!0,e)&&i}if(o=e.g=t,i=Bu(o,r,!0,e)&&i,i=Bu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Bu(o,r,!1,e)&&i}Ct.prototype.M=function(){if(Ct.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Od(n[r]);delete t.g[e],t.h--}}this.I=null};Ct.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Bu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&rm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var uy=ie.JSON.stringify;function iD(){var t=pb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class sD{constructor(){this.h=this.g=null}add(e,n){const r=hb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var hb=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new oD,t=>t.reset());class oD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aD(t){ie.setTimeout(()=>{throw t},0)}function fb(t,e){sm||lD(),om||(sm(),om=!0),pb.add(t,e)}var sm;function lD(){var t=ie.Promise.resolve(void 0);sm=function(){t.then(uD)}}var om=!1,pb=new sD;function uD(){for(var t;t=iD();){try{t.h.call(t.g)}catch(n){aD(n)}var e=hb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}om=!1}function Ld(t,e){Ct.call(this),this.h=t||1,this.g=e||ie,this.j=Kt(this.lb,this),this.l=Date.now()}Ft(Ld,Ct);X=Ld.prototype;X.ca=!1;X.R=null;X.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ot(this,"tick"),this.ca&&(cy(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cy(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}X.M=function(){Ld.X.M.call(this),cy(this),delete this.g};function dy(t,e,n){if(typeof t=="function")n&&(t=Kt(t,n));else if(t&&typeof t.handleEvent=="function")t=Kt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function mb(t){t.g=dy(()=>{t.g=null,t.i&&(t.i=!1,mb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class cD extends xi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mb(this)}M(){super.M(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gl(t){xi.call(this),this.h=t,this.g={}}Ft(gl,xi);var ww=[];function gb(t,e,n,r){Array.isArray(n)||(n&&(ww[0]=n.toString()),n=ww);for(var i=0;i<n.length;i++){var s=ab(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function yb(t){iy(t.g,function(e,n){this.g.hasOwnProperty(n)&&oy(e)},t),t.g={}}gl.prototype.M=function(){gl.X.M.call(this),yb(this)};gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fd(){this.g=!0}Fd.prototype.Aa=function(){this.g=!1};function dD(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function hD(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function no(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+pD(t,n)+(r?" "+r:"")})}function fD(t,e){t.info(function(){return"TIMEOUT: "+e})}Fd.prototype.info=function(){};function pD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return uy(n)}catch{return e}}var Is={},Sw=null;function Bd(){return Sw=Sw||new Ct}Is.Pa="serverreachability";function vb(t){Gt.call(this,Is.Pa,t)}Ft(vb,Gt);function yl(t){const e=Bd();Ot(e,new vb(e))}Is.STAT_EVENT="statevent";function wb(t,e){Gt.call(this,Is.STAT_EVENT,t),this.stat=e}Ft(wb,Gt);function tn(t){const e=Bd();Ot(e,new wb(e,t))}Is.Qa="timingevent";function Sb(t,e){Gt.call(this,Is.Qa,t),this.size=e}Ft(Sb,Gt);function jl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}var Vd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Eb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function hy(){}hy.prototype.h=null;function Ew(t){return t.h||(t.h=t.i())}function xb(){}var ql={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fy(){Gt.call(this,"d")}Ft(fy,Gt);function py(){Gt.call(this,"c")}Ft(py,Gt);var am;function zd(){}Ft(zd,hy);zd.prototype.g=function(){return new XMLHttpRequest};zd.prototype.i=function(){return{}};am=new zd;function Wl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new gl(this),this.O=mD,t=tm?125:void 0,this.T=new Ld(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bb}function bb(){this.i=null,this.g="",this.h=!1}var mD=45e3,lm={},qc={};X=Wl.prototype;X.setTimeout=function(t){this.O=t};function um(t,e,n){t.K=1,t.v=jd(Er(e)),t.s=n,t.P=!0,Cb(t,null)}function Cb(t,e){t.F=Date.now(),Kl(t),t.A=Er(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Db(n.i,"t",r),t.C=0,n=t.l.H,t.h=new bb,t.g=Zb(t.l,n?e:null,!t.s),0<t.N&&(t.L=new cD(Kt(t.La,t,t.g),t.N)),gb(t.S,t.g,"readystatechange",t.ib),e=t.H?sb(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),yl(),dD(t.j,t.u,t.A,t.m,t.U,t.s)}X.ib=function(t){t=t.target;const e=this.L;e&&pr(t)==3?e.l():this.La(t)};X.La=function(t){try{if(t==this.g)e:{const c=pr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||tm||this.g&&(this.h.h||this.g.fa()||Iw(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?yl(3):yl(2)),Ud(this);var n=this.g.aa();this.Y=n;t:if(Ib(this)){var r=Iw(this.g);t="";var i=r.length,s=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),Ba(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,hD(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uc(a)){var u=a;break t}}u=null}if(n=u)no(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cm(this,n);else{this.i=!1,this.o=3,tn(12),qi(this),Ba(this);break e}}this.P?(Tb(this,c,o),tm&&this.i&&c==3&&(gb(this.S,this.T,"tick",this.hb),this.T.start())):(no(this.j,this.m,o,null),cm(this,o)),c==4&&qi(this),this.i&&!this.I&&(c==4?Qb(this.l,this):(this.i=!1,Kl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),qi(this),Ba(this)}}}catch{}finally{}};function Ib(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Tb(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=gD(t,n),i==qc){e==4&&(t.o=4,tn(14),r=!1),no(t.j,t.m,null,"[Incomplete Response]");break}else if(i==lm){t.o=4,tn(15),no(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else no(t.j,t.m,i,null),cm(t,i);Ib(t)&&i!=qc&&i!=lm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ey(e),e.K=!0,tn(11))):(no(t.j,t.m,n,"[Invalid Chunked Response]"),qi(t),Ba(t))}X.hb=function(){if(this.g){var t=pr(this.g),e=this.g.fa();this.C<e.length&&(Ud(this),Tb(this,t,e),this.i&&t!=4&&Kl(this))}};function gD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?qc:(n=Number(e.substring(n,r)),isNaN(n)?lm:(r+=1,r+n>e.length?qc:(e=e.substr(r,n),t.C=r+n,e)))}X.cancel=function(){this.I=!0,qi(this)};function Kl(t){t.V=Date.now()+t.O,kb(t,t.O)}function kb(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=jl(Kt(t.gb,t),e)}function Ud(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}X.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(fD(this.j,this.A),this.K!=2&&(yl(),tn(17)),qi(this),this.o=2,Ba(this)):kb(this,this.V-t)};function Ba(t){t.l.G==0||t.I||Qb(t.l,t)}function qi(t){Ud(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,cy(t.T),yb(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function cm(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||dm(n.h,t))){if(!t.J&&dm(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Gc(n),Kd(n);else break e;Sy(n),tn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=jl(Kt(n.cb,n),6e3));if(1>=Ob(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Wi(n,11)}else if((t.J||n.g==t)&&Gc(n),!Uc(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.h;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(my(s,s.h),s.h=null))}if(r.D){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,We(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Jb(r,r.H?r.ka:null,r.V),o.J){Mb(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Ud(a),Kl(a)),r.g=o}else Gb(r);0<n.i.length&&Gd(n)}else u[0]!="stop"&&u[0]!="close"||Wi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Wi(n,7):wy(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}yl(4)}catch{}}function yD(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Pd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function vD(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _b(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=vD(t),r=yD(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Rb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ji(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ji){this.h=e!==void 0?e:t.h,Wc(this,t.j),this.s=t.s,this.g=t.g,Kc(this,t.m),this.l=t.l,e=t.i;var n=new vl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xw(this,n),this.o=t.o}else t&&(n=String(t).match(Rb))?(this.h=!!e,Wc(this,n[1]||"",!0),this.s=ba(n[2]||""),this.g=ba(n[3]||"",!0),Kc(this,n[4]),this.l=ba(n[5]||"",!0),xw(this,n[6]||"",!0),this.o=ba(n[7]||"")):(this.h=!!e,this.i=new vl(null,this.h))}Ji.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,bw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ca(e,bw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ca(n,n.charAt(0)=="/"?xD:ED,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,CD)),t.join("")};function Er(t){return new Ji(t)}function Wc(t,e,n){t.j=n?ba(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xw(t,e,n){e instanceof vl?(t.i=e,ID(t.i,t.h)):(n||(e=Ca(e,bD)),t.i=new vl(e,t.h))}function We(t,e,n){t.i.set(e,n)}function jd(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ba(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var bw=/[#\/\?@]/g,ED=/[#\?:]/g,xD=/[#\?]/g,bD=/[#\?@]/g,CD=/#/g;function vl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bi(t){t.g||(t.g=new Map,t.h=0,t.i&&wD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=vl.prototype;X.add=function(t,e){bi(this),this.i=null,t=Vo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $b(t,e){bi(t),e=Vo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Nb(t,e){return bi(t),e=Vo(t,e),t.g.has(e)}X.forEach=function(t,e){bi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};X.oa=function(){bi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};X.W=function(t){bi(this);let e=[];if(typeof t=="string")Nb(this,t)&&(e=e.concat(this.g.get(Vo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return bi(this),this.i=null,t=Vo(this,t),Nb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Db(t,e,n){$b(t,e),0<n.length&&(t.i=null,t.g.set(Vo(t,e),ny(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ID(t,e){e&&!t.j&&(bi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($b(this,r),Db(this,i,n))},t)),t.j=e}var TD=class{constructor(e,n){this.h=e,this.g=n}};function Pb(t){this.l=t||kD,ie.PerformanceNavigationTiming?(t=ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ie.g&&ie.g.Ga&&ie.g.Ga()&&ie.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kD=10;function Ab(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ob(t){return t.h?1:t.g?t.g.size:0}function dm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function my(t,e){t.g?t.g.add(e):t.h=e}function Mb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Pb.prototype.cancel=function(){if(this.i=Lb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Lb(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ny(t.i)}function gy(){}gy.prototype.stringify=function(t){return ie.JSON.stringify(t,void 0)};gy.prototype.parse=function(t){return ie.JSON.parse(t,void 0)};function _D(){this.g=new gy}function RD(t,e,n){const r=n||"";try{_b(t,function(i,s){let o=i;zl(i)&&(o=uy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $D(t,e){const n=new Fd;if(ie.Image){const r=new Image;r.onload=Fu(Vu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fu(Vu,n,r,"TestLoadImage: error",!1,e),r.onabort=Fu(Vu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fu(Vu,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Vu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gl(t){this.l=t.ac||null,this.j=t.jb||!1}Ft(Gl,hy);Gl.prototype.g=function(){return new qd(this.l,this.j)};Gl.prototype.i=function(t){return function(){return t}}({});function qd(t,e){Ct.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(qd,Ct);var yy=0;X=qd.prototype;X.open=function(t,e){if(this.readyState!=yy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wl(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ie).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hl(this)),this.readyState=yy};X.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fb(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Fb(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}X.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hl(this):wl(this),this.readyState==3&&Fb(this)}};X.Va=function(t){this.g&&(this.response=this.responseText=t,Hl(this))};X.Ua=function(t){this.g&&(this.response=t,Hl(this))};X.ga=function(){this.g&&Hl(this)};function Hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wl(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function wl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ND=ie.JSON.parse;function et(t){Ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bb,this.K=this.L=!1}Ft(et,Ct);var Bb="",DD=/^https?$/i,PD=["POST","PUT"];X=et.prototype;X.Ka=function(t){this.L=t};X.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():am.g(),this.C=this.u?Ew(this.u):Ew(am),this.g.onreadystatechange=Kt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Cw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ie.FormData&&t instanceof ie.FormData,!(0<=tb(PD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ub(this),0<this.B&&((this.K=AD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.qa,this)):this.A=dy(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Cw(this,s)}};function AD(t){return Eo&&YN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.qa=function(){typeof ty<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))};function Cw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Vb(t),Wd(t)}function Vb(t){t.D||(t.D=!0,Ot(t,"complete"),Ot(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),Wd(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wd(this,!0)),et.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?zb(this):this.fb())};X.fb=function(){zb(this)};function zb(t){if(t.h&&typeof ty<"u"&&(!t.C[1]||pr(t)!=4||t.aa()!=2)){if(t.v&&pr(t)==4)dy(t.Ha,0,t);else if(Ot(t,"readystatechange"),pr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Rb)[1]||null;if(!i&&ie.self&&ie.self.location){var s=ie.self.location.protocol;i=s.substr(0,s.length-1)}r=!DD.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var o=2<pr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Vb(t)}}finally{Wd(t)}}}}function Wd(t,e){if(t.g){Ub(t);const n=t.g,r=t.C[0]?zc:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ub(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function pr(t){return t.g?t.g.readyState:0}X.aa=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ND(e)}};function Iw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Bb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function jb(t){let e="";return iy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function vy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function ca(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qb(t){this.Ca=0,this.i=[],this.j=new Fd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ca("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ca("baseRetryDelayMs",5e3,t),this.bb=ca("retryDelaySeedMs",1e4,t),this.$a=ca("forwardChannelMaxRetries",2,t),this.ta=ca("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Pb(t&&t.concurrentRequestLimit),this.Fa=new _D,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=qb.prototype;X.ma=8;X.G=1;function wy(t){if(Wb(t),t.G==3){var e=t.U++,n=Er(t.F);We(n,"SID",t.I),We(n,"RID",e),We(n,"TYPE","terminate"),Ql(t,n),e=new Wl(t,t.j,e,void 0),e.K=2,e.v=jd(Er(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon&&(n=ie.navigator.sendBeacon(e.v.toString(),"")),!n&&ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=Zb(e.l,null),e.g.da(e.v)),e.F=Date.now(),Kl(e)}Yb(t)}function Kd(t){t.g&&(Ey(t),t.g.cancel(),t.g=null)}function Wb(t){Kd(t),t.u&&(ie.clearTimeout(t.u),t.u=null),Gc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ie.clearTimeout(t.m),t.m=null)}function Gd(t){Ab(t.h)||t.m||(t.m=!0,fb(t.Ja,t),t.C=0)}function OD(t,e){return Ob(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=jl(Kt(t.Ja,t,e),Xb(t,t.C)),t.C++,!0)}X.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Wl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=sb(s),ob(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Kb(this,i,e),n=Er(this.F),We(n,"RID",t),We(n,"CVER",22),this.D&&We(n,"X-HTTP-Session-Id",this.D),Ql(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(jb(s)))+"&"+e:this.o&&vy(n,this.o,s)),my(this.h,i),this.Ya&&We(n,"TYPE","init"),this.O?(We(n,"$req",e),We(n,"SID","null"),i.Z=!0,um(i,n,null)):um(i,n,e),this.G=2}}else this.G==3&&(t?Tw(this,t):this.i.length==0||Ab(this.h)||Tw(this))};function Tw(t,e){var n;e?n=e.m:n=t.U++;const r=Er(t.F);We(r,"SID",t.I),We(r,"RID",n),We(r,"AID",t.T),Ql(t,r),t.o&&t.s&&vy(r,t.o,t.s),n=new Wl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Kb(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),my(t.h,n),um(n,r,e)}function Ql(t,e){t.ia&&iy(t.ia,function(n,r){We(e,r,n)}),t.l&&_b({},function(n,r){We(e,r,n)})}function Kb(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Kt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{RD(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Gb(t){t.g||t.u||(t.Z=1,fb(t.Ia,t),t.A=0)}function Sy(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=jl(Kt(t.Ia,t),Xb(t,t.A)),t.A++,!0)}X.Ia=function(){if(this.u=null,Hb(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=jl(Kt(this.eb,this),t)}};X.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,tn(10),Kd(this),Hb(this))};function Ey(t){t.B!=null&&(ie.clearTimeout(t.B),t.B=null)}function Hb(t){t.g=new Wl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Er(t.sa);We(e,"RID","rpc"),We(e,"SID",t.I),We(e,"CI",t.L?"0":"1"),We(e,"AID",t.T),We(e,"TYPE","xmlhttp"),Ql(t,e),t.o&&t.s&&vy(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=jd(Er(e)),n.s=null,n.P=!0,Cb(n,t)}X.cb=function(){this.v!=null&&(this.v=null,Kd(this),Sy(this),tn(19))};function Gc(t){t.v!=null&&(ie.clearTimeout(t.v),t.v=null)}function Qb(t,e){var n=null;if(t.g==e){Gc(t),Ey(t),t.g=null;var r=2}else if(dm(t.h,e))n=e.D,Mb(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Bd(),Ot(r,new Sb(r,n)),Gd(t)}else Gb(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&OD(t,e)||r==2&&Sy(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Wi(t,5);break;case 4:Wi(t,10);break;case 3:Wi(t,6);break;default:Wi(t,2)}}}function Xb(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Wi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Kt(t.kb,t);n||(n=new Ji("//www.google.com/images/cleardot.gif"),ie.location&&ie.location.protocol=="http"||Wc(n,"https"),jd(n)),$D(n.toString(),r)}else tn(2);t.G=0,t.l&&t.l.va(e),Yb(t),Wb(t)}X.kb=function(t){t?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Yb(t){if(t.G=0,t.la=[],t.l){const e=Lb(t.h);(e.length!=0||t.i.length!=0)&&(mw(t.la,e),mw(t.la,t.i),t.h.i.length=0,ny(t.i),t.i.length=0),t.l.ua()}}function Jb(t,e,n){var r=n instanceof Ji?Er(n):new Ji(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Kc(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ji(null,void 0);r&&Wc(s,r),e&&(s.g=e),i&&Kc(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&We(r,n,e),We(r,"VER",t.ma),Ql(t,r),r}function Zb(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new et(new Gl({jb:!0})):new et(t.ra),e.Ka(t.H),e}function eC(){}X=eC.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Ra=function(){};function Hc(){if(Eo&&!(10<=Number(JN)))throw Error("Environmental error: no available transport.")}Hc.prototype.g=function(t,e){return new Tn(t,e)};function Tn(t,e){Ct.call(this),this.g=new qb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Uc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new zo(this)}Ft(Tn,Ct);Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Jb(t,null,t.V),Gd(t)};Tn.prototype.close=function(){wy(this.g)};Tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=uy(t),t=n);e.i.push(new TD(e.ab++,t)),e.G==3&&Gd(e)};Tn.prototype.M=function(){this.g.l=null,delete this.j,wy(this.g),delete this.g,Tn.X.M.call(this)};function tC(t){fy.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ft(tC,fy);function nC(){py.call(this),this.status=1}Ft(nC,py);function zo(t){this.g=t}Ft(zo,eC);zo.prototype.xa=function(){Ot(this.g,"a")};zo.prototype.wa=function(t){Ot(this.g,new tC(t))};zo.prototype.va=function(t){Ot(this.g,new nC)};zo.prototype.ua=function(){Ot(this.g,"b")};Hc.prototype.createWebChannel=Hc.prototype.g;Tn.prototype.send=Tn.prototype.u;Tn.prototype.open=Tn.prototype.m;Tn.prototype.close=Tn.prototype.close;Vd.NO_ERROR=0;Vd.TIMEOUT=8;Vd.HTTP_ERROR=6;Eb.COMPLETE="complete";xb.EventType=ql;ql.OPEN="a";ql.CLOSE="b";ql.ERROR="c";ql.MESSAGE="d";Ct.prototype.listen=Ct.prototype.N;et.prototype.listenOnce=et.prototype.O;et.prototype.getLastError=et.prototype.Oa;et.prototype.getLastErrorCode=et.prototype.Ea;et.prototype.getStatus=et.prototype.aa;et.prototype.getResponseJson=et.prototype.Sa;et.prototype.getResponseText=et.prototype.fa;et.prototype.send=et.prototype.da;et.prototype.setWithCredentials=et.prototype.Ka;var MD=function(){return new Hc},LD=function(){return Bd()},xf=Vd,FD=Eb,BD=Is,kw={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},VD=Gl,zu=xb,zD=et;const _w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Yg("@firebase/firestore");function hm(){return ci.logLevel}function UD(t){ci.setLogLevel(t)}function M(t,...e){if(ci.logLevel<=be.DEBUG){const n=e.map(xy);ci.debug(`Firestore (${Uo}): ${t}`,...n)}}function st(t,...e){if(ci.logLevel<=be.ERROR){const n=e.map(xy);ci.error(`Firestore (${Uo}): ${t}`,...n)}}function xo(t,...e){if(ci.logLevel<=be.WARN){const n=e.map(xy);ci.warn(`Firestore (${Uo}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function Y(t,e){t||K()}function jD(t,e){t||K()}function q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends Cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}let WD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class KD{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y(typeof r.accessToken=="string"),new rC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(e===null||typeof e=="string"),new Et(e)}}class GD{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Y(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}let HD=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new GD(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class QD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}let XD=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y(typeof n.token=="string"),this.A=n.token,new QD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function sC(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new Ge(0,0))}static max(){return new J(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Sl{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Sl{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new O(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(we.fromString(e))}static fromName(e){return new z(we.fromString(e).popFirst(5))}static empty(){return new z(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new we(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oC=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function fm(t){return t.fields.find(e=>e.kind===2)}function Di(t){return t.fields.filter(e=>e.kind!==2)}oC.UNKNOWN_ID=-1;class ZD{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qc(0,kn.min())}}function aC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new kn(i,z.empty(),e)}function lC(t){return new kn(t.readTime,t.key,-1)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(J.min(),z.empty(),-1)}static max(){return new kn(J.max(),z.empty(),-1)}}function by(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ci(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==uC)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new T((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new T((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new bt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new Va(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Cy(r.target.error);this.P.reject(new Va(e,i))}}static open(e,n,r,i){try{return new Hd(n,e.transaction(i,r))}catch(s){throw new Va(n,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(M("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new tP(n)}}class Kn{constructor(e,n,r){this.name=e,this.version=n,this.S=r,Kn.D(Xp())===12.2&&st("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return M("SimpleDb","Removing database:",e),Oi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!jx())return!1;if(Kn.N())return!0;const e=Xp(),n=Kn.D(e),r=0<n&&n<10,i=Kn.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.$)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(M("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Va(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new O(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new O(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Va(e,o))},i.onupgradeneeded=s=>{M("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.F(o,i.transaction,s.oldVersion,this.version).next(()=>{M("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Hd.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.V(),u)).catch(u=>(a.abort(u),T.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(M("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class eP{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Oi(this.q.delete())}}class Va extends O{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ii(t){return t.name==="IndexedDbTransactionError"}class tP{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(M("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Oi(r)}add(e){return M("SimpleDb","ADD",this.store.name,e,e),Oi(this.store.add(e))}get(e){return Oi(this.store.get(e)).next(n=>(n===void 0&&(n=null),M("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return M("SimpleDb","DELETE",this.store.name,e),Oi(this.store.delete(e))}count(){return M("SimpleDb","COUNT",this.store.name),Oi(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new T((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new T((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){M("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new T((r,i)=>{n.onerror=s=>{const o=Cy(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new T((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new eP(a),u=n(a.primaryKey,a.value,l);if(u instanceof T){const c=u.catch(d=>(l.done(),T.reject(d)));r.push(c)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>T.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Oi(t){return new T((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Cy(r.target.error);n(i)}})}let Rw=!1;function Cy(t){const e=Kn.D(Xp());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rw||(Rw=!0,setTimeout(()=>{throw r},0)),r}}return t}class nP{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){M("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{M("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){Ii(n)?M("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ci(n)}await this.nt(6e4)})}}class rP{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return T.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return M("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(M("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=lC(s);by(o,r)>0&&(r=o)}),new kn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}fn.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class di{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new di("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof di&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){return t==null}function El(t){return t===0&&1/t==-1/0}function hC(t){return typeof t=="number"&&Number.isInteger(t)&&!El(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new sP("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const aP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(Y(!!t),typeof t=="string"){let e=0;const n=aP.exec(t);if(Y(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cs(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fC(t){const e=t.mapValue.fields.__previous_value__;return Iy(e)?fC(e):e}function xl(t){const e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lc={nullValue:"NULL_VALUE"};function ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:pC(t)?9007199254740991:10:K()}function lr(t,e){if(t===e)return!0;const n=ds(t);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xl(t).isEqual(xl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=hi(r.timestampValue),o=hi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return cs(r.bytesValue).isEqual(cs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?El(s)===El(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if($w(s)!==$w(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!lr(s[a],o[a])))return!1;return!0}(t,e);default:return K()}}function bl(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function fi(t,e){if(t===e)return 0;const n=ds(t),r=ds(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Nw(t.timestampValue,e.timestampValue);case 4:return Nw(xl(t),xl(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(i,s){const o=cs(i),a=cs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ae(o[l],a[l]);if(u!==0)return u}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ae(Ze(i.latitude),Ze(s.latitude));return o!==0?o:ae(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=fi(o[l],a[l]);if(u)return u}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Kr.mapValue&&s===Kr.mapValue)return 0;if(i===Kr.mapValue)return 1;if(s===Kr.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ae(a[c],u[c]);if(d!==0)return d;const h=fi(o[a[c]],l[u[c]]);if(h!==0)return h}return ae(a.length,u.length)}(t.mapValue,e.mapValue);default:throw K()}}function Nw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=hi(t),r=hi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Co(t){return pm(t)}function pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=hi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=pm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${pm(r.fields[a])}`;return s+"}"}(t.mapValue):K();var e,n}function hs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mm(t){return!!t&&"integerValue"in t}function Cl(t){return!!t&&"arrayValue"in t}function Dw(t){return!!t&&"nullValue"in t}function Pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uc(t){return!!t&&"mapValue"in t}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function lP(t){return"nullValue"in t?lc:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?hs(di.empty(),z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:K()}function uP(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?hs(di.empty(),z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Kr:K()}function Aw(t,e){const n=fi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Ow(t,e){const n=fi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.position=e,this.inclusive=n}}function Mw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=fi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class pe extends mC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cP(e,n,r):n==="array-contains"?new fP(e,r):n==="in"?new EC(e,r):n==="not-in"?new pP(e,r):n==="array-contains-any"?new mP(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dP(e,r):new hP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fi(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(fi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends mC{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new Te(e,n)}matches(e){return Io(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Io(t){return t.op==="and"}function gm(t){return t.op==="or"}function Ty(t){return gC(t)&&Io(t)}function gC(t){for(const e of t.filters)if(e instanceof Te)return!1;return!0}function ym(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(Ty(t))return t.filters.map(e=>ym(e)).join(",");{const e=t.filters.map(n=>ym(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof pe?function(n,r){return r instanceof pe&&n.op===r.op&&n.field.isEqual(r.field)&&lr(n.value,r.value)}(t,e):t instanceof Te?function(n,r){return r instanceof Te&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&yC(s,r.filters[o]),!0):!1}(t,e):void K()}function vC(t,e){const n=t.filters.concat(e);return Te.create(n,t.op)}function wC(t){return t instanceof pe?function(e){return`${e.field.canonicalString()} ${e.op} ${Co(e.value)}`}(t):t instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(wC).join(" ,")+"}"}(t):"Filter"}class cP extends pe{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class dP extends pe{constructor(e,n){super(e,"in",n),this.keys=SC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hP extends pe{constructor(e,n){super(e,"not-in",n),this.keys=SC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class fP extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cl(n)&&bl(n.arrayValue,this.value)}}class EC extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class pP extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bl(this.value.arrayValue,n)}}class mP extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n="asc"){this.field=e,this.dir=n}}function gP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=s??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Dt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ne(this.comparator);return n.data=e,n}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function As(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Ne(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=za(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(za(this.value))}}function xC(t){const e=[];return Ts(t.fields,(n,r)=>{const i=new ot([n]);if(uc(r)){const s=xC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,J.min(),J.min(),J.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,J.min(),J.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,J.min(),J.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function vm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yP(t,e,n,r,i,s,o)}function fs(t){const e=q(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e._t=n}return e._t}function Yl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function Xc(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Yc(t,e){return t.filters.filter(n=>n instanceof pe&&n.field.isEqual(e))}function Bw(t,e,n){let r=lc,i=!0;for(const s of Yc(t,e)){let o=lc,a=!0;switch(s.op){case"<":case"<=":o=lP(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=lc}Aw({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Aw({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Vw(t,e,n){let r=Kr,i=!0;for(const s of Yc(t,e)){let o=Kr,a=!0;switch(s.op){case">=":case">":o=uP(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Kr}Ow({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Ow({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this.gt=null,this.startAt,this.endAt}}function bC(t,e,n,r,i,s,o,a){return new Ir(t,e,n,r,i,s,o,a)}function jo(t){return new Ir(t)}function zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ky(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qd(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function _y(t){return t.collectionGroup!==null}function Zi(t){const e=q(t);if(e.wt===null){e.wt=[];const n=Qd(e),r=ky(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new co(n)),e.wt.push(new co(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new co(ot.keyField(),s))}}}return e.wt}function Sn(t){const e=q(t);if(!e.gt)if(e.limitType==="F")e.gt=vm(e.path,e.collectionGroup,Zi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Zi(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new co(s.field,o))}const r=e.endAt?new pi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pi(e.startAt.position,e.startAt.inclusive):null;e.gt=vm(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function wm(t,e){e.getFirstInequalityField(),Qd(t);const n=t.filters.concat([e]);return new Ir(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jc(t,e,n){return new Ir(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jl(t,e){return Yl(Sn(t),Sn(e))&&t.limitType===e.limitType}function CC(t){return`${fs(Sn(t))}|lt:${t.limitType}`}function Sm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>wC(r)).join(", ")}]`),Xl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),`Target(${n})`}(Sn(t))}; limitType=${t.limitType})`}function Zl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Zi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Mw(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Zi(n),r)||n.endAt&&!function(i,s,o){const a=Mw(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Zi(n),r))}(t,e)}function IC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,n)=>{let r=!1;for(const i of Zi(t)){const s=vP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vP(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?fi(a,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:El(e)?"-0":e}}function _C(t){return{integerValue:""+t}}function RC(t,e){return hC(e)?_C(e):kC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function wP(t,e,n){return t instanceof To?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ps?NC(t,e):t instanceof ms?DC(t,e):function(r,i){const s=$C(r,i),o=Uw(s)+Uw(r.It);return mm(s)&&mm(r.It)?_C(o):kC(r.Tt,o)}(t,e)}function SP(t,e,n){return t instanceof ps?NC(t,e):t instanceof ms?DC(t,e):n}function $C(t,e){return t instanceof ko?mm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class To extends Xd{}class ps extends Xd{constructor(e){super(),this.elements=e}}function NC(t,e){const n=PC(e);for(const r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ms extends Xd{constructor(e){super(),this.elements=e}}function DC(t,e){let n=PC(e);for(const r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}class ko extends Xd{constructor(e,n){super(),this.Tt=e,this.It=n}}function Uw(t){return Ze(t.integerValue||t.doubleValue)}function PC(t){return Cl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.field=e,this.transform=n}}function EP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ps&&r instanceof ps||n instanceof ms&&r instanceof ms?bo(n.elements,r.elements,lr):n instanceof ko&&r instanceof ko?lr(n.It,r.It):n instanceof To&&r instanceof To}(t.transform,e.transform)}class xP{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function AC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wo(t.key,Ke.none()):new qo(t.key,t.data,Ke.none());{const n=t.data,r=Pt.empty();let i=new Ne(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Tr(t.key,r,new pn(i.toArray()),Ke.none())}}function bP(t,e,n){t instanceof qo?function(r,i,s){const o=r.value.clone(),a=qw(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Tr?function(r,i,s){if(!cc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=qw(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(OC(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ua(t,e,n,r){return t instanceof qo?function(i,s,o,a){if(!cc(i.precondition,s))return o;const l=i.value.clone(),u=Ww(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Tr?function(i,s,o,a){if(!cc(i.precondition,s))return o;const l=Ww(i.fieldTransforms,a,s),u=s.data;return u.setAll(OC(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return cc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function CP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$C(r.transform,i||null);s!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&bo(n,r,(i,s)=>EP(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qo extends Yd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}let Tr=class extends Yd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function OC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qw(t,e,n){const r=new Map;Y(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,SP(o,a,n[i]))}return r}function Ww(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wP(s,o,e))}return r}class Wo extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ry extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,ve;function MC(t){switch(t){default:return K();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function LC(t){if(t===void 0)return st("GRPC error has no .code"),_.UNKNOWN;switch(t){case ct.OK:return _.OK;case ct.CANCELLED:return _.CANCELLED;case ct.UNKNOWN:return _.UNKNOWN;case ct.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case ct.INTERNAL:return _.INTERNAL;case ct.UNAVAILABLE:return _.UNAVAILABLE;case ct.UNAUTHENTICATED:return _.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case ct.NOT_FOUND:return _.NOT_FOUND;case ct.ALREADY_EXISTS:return _.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return _.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case ct.ABORTED:return _.ABORTED;case ct.OUT_OF_RANGE:return _.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return _.UNIMPLEMENTED;case ct.DATA_LOSS:return _.DATA_LOSS;default:return K()}}(ve=ct||(ct={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new tt(z.comparator);function mn(){return TP}const FC=new tt(z.comparator);function Ia(...t){let e=FC;for(const n of t)e=e.insert(n.key,n);return e}function BC(t){let e=FC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function nr(){return ja()}function VC(){return ja()}function ja(){return new Ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const kP=new tt(z.comparator),_P=new Ne(z.comparator);function le(...t){let e=_P;for(const n of t)e=e.add(n);return e}const RP=new Ne(ae);function Jd(){return RP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tu(J.min(),i,Jd(),mn(),le())}}class nu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class zC{constructor(e,n){this.targetId=e,this.Rt=n}}class UC{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Kw{constructor(){this.Pt=0,this.vt=Hw(),this.bt=vt.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=le(),n=le(),r=le();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new nu(this.bt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=Hw()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class $P{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=mn(),this.Kt=Gw(),this.Gt=new Ne(ae)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(Xc(s))if(r===0){const o=new z(s.path);this.zt(n,o,Ve.newNoDocument(o,J.min()))}else Y(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Xc(a.target)){const l=new z(a.target.path);this.Ut.get(l)!==null||this.ne(o,l)||this.zt(o,l,Ve.newNoDocument(l,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=le();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new tu(e,n,this.Gt,this.Ut,r);return this.Ut=mn(),this.Kt=Gw(),this.Gt=new Ne(ae),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.$t(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new Kw,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new Ne(ae),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Kw),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function Gw(){return new tt(z.comparator)}function Hw(){return new tt(z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),DP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),PP=(()=>({and:"AND",or:"OR"}))();class AP{constructor(e,n){this.databaseId=e,this.yt=n}}function _o(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.yt?e.toBase64():e.toUint8Array()}function OP(t,e){return _o(t,e.toTimestamp())}function lt(t){return Y(!!t),J.fromTimestamp(function(e){const n=hi(e);return new Ge(n.seconds,n.nanos)}(t))}function $y(t,e){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function qC(t){const e=we.fromString(t);return Y(ZC(e)),e}function Il(t,e){return $y(t.databaseId,e.path)}function or(t,e){const n=qC(e);if(n.get(1)!==t.databaseId.projectId)throw new O(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(KC(n))}function Em(t,e){return $y(t.databaseId,e)}function WC(t){const e=qC(t);return e.length===4?we.emptyPath():KC(e)}function Tl(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KC(t){return Y(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qw(t,e,n){return{name:Il(t,e),fields:n.value.mapValue.fields}}function GC(t,e,n){const r=or(t,e.name),i=lt(e.updateTime),s=e.createTime?lt(e.createTime):J.min(),o=new Pt({mapValue:{fields:e.fields}}),a=Ve.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function MP(t,e){return"found"in e?function(n,r){Y(!!r.found),r.found.name,r.found.updateTime;const i=or(n,r.found.name),s=lt(r.found.updateTime),o=r.found.createTime?lt(r.found.createTime):J.min(),a=new Pt({mapValue:{fields:r.found.fields}});return Ve.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){Y(!!r.missing),Y(!!r.readTime);const i=or(n,r.missing),s=lt(r.readTime);return Ve.newNoDocument(i,s)}(t,e):K()}function LP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.yt?(Y(u===void 0||typeof u=="string"),vt.fromBase64String(u||"")):(Y(u===void 0||u instanceof Uint8Array),vt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?_.UNKNOWN:LC(l.code);return new O(u,l.message||"")}(o);n=new UC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=or(t,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):J.min(),a=new Pt({mapValue:{fields:r.document.fields}}),l=Ve.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new dc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=or(t,r.document),s=r.readTime?lt(r.readTime):J.min(),o=Ve.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=or(t,r.document),s=r.removedTargetIds||[];n=new dc([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new IP(i),o=r.targetId;n=new zC(o,s)}}return n}function kl(t,e){let n;if(e instanceof qo)n={update:Qw(t,e.key,e.value)};else if(e instanceof Wo)n={delete:Il(t,e.key)};else if(e instanceof Tr)n={update:Qw(t,e.key,e.data),updateMask:jP(e.fieldMask)};else{if(!(e instanceof Ry))return K();n={verify:Il(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof To)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ps)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ms)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ko)return{fieldPath:s.field.canonicalString(),increment:o.It};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:OP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:K()}(t,e.precondition)),n}function xm(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ke.updateTime(lt(i.updateTime)):i.exists!==void 0?Ke.exists(i.exists):Ke.none()}(e.currentDocument):Ke.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)Y(o.setToServerValue==="REQUEST_TIME"),a=new To;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new ps(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new ms(u)}else"increment"in o?a=new ko(s,o.increment):K();const l=ot.fromServerFormat(o.fieldPath);return new eu(l,a)}(t,i)):[];if(e.update){e.update.name;const i=or(t,e.update.name),s=new Pt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new pn(l.map(u=>ot.fromServerFormat(u)))}(e.updateMask);return new Tr(i,s,o,n,r)}return new qo(i,s,n,r)}if(e.delete){const i=or(t,e.delete);return new Wo(i,n)}if(e.verify){const i=or(t,e.verify);return new Ry(i,n)}return K()}function FP(t,e){return t&&t.length>0?(Y(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?lt(r.updateTime):lt(i);return s.isEqual(J.min())&&(s=lt(i)),new xP(s,r.transformResults||[])}(n,e))):[]}function HC(t,e){return{documents:[Em(t,e.path)]}}function QC(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Em(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Em(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return JC(Te.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Bs(c.field),direction:VP(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.yt||Xl(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function XC(t){let e=WC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=YC(c);return d instanceof Te&&Ty(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new co(Vs(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Xl(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new pi(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new pi(h,d)}(n.endAt)),bC(e,i,o,s,a,"F",l,u)}function BP(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function YC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Vs(e.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Vs(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vs(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vs(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(e){return pe.create(Vs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Te.create(e.compositeFilter.filters.map(n=>YC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(e.compositeFilter.op))}(t):K()}function VP(t){return NP[t]}function zP(t){return DP[t]}function UP(t){return PP[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function Vs(t){return ot.fromServerFormat(t.fieldPath)}function JC(t){return t instanceof pe?function(e){if(e.op==="=="){if(Pw(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NAN"}};if(Dw(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Pw(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NAN"}};if(Dw(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(e.field),op:zP(e.op),value:e.value}}}(t):t instanceof Te?function(e){const n=e.getFilters().map(r=>JC(r));return n.length===1?n[0]:{compositeFilter:{op:UP(e.op),filters:n}}}(t):K()}function jP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xw(e)),e=qP(t.get(n),e);return Xw(e)}function qP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Xw(t){return t+""}function rr(t){const e=t.length;if(Y(e>=2),e===2)return Y(t.charAt(0)===""&&t.charAt(1)===""),we.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&K(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:K()}s=o+2}return new we(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e){return[t,rn(e)]}function eI(t,e,n){return[t,rn(e),n]}const WP={},KP=["prefixPath","collectionGroup","readTime","documentId"],GP=["prefixPath","collectionGroup","documentId"],HP=["collectionGroup","readTime","prefixPath","documentId"],QP=["canonicalId","targetId"],XP=["targetId","path"],YP=["path","targetId"],JP=["collectionId","parent"],ZP=["indexId","uid"],eA=["uid","sequenceNumber"],tA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nA=["indexId","uid","orderedDocumentKey"],rA=["userId","collectionPath","documentId"],iA=["userId","collectionPath","largestBatchId"],sA=["userId","collectionGroup","largestBatchId"],tI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oA=[...tI,"documentOverlays"],nI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rI=nI,aA=[...rI,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends cC{constructor(e,n){super(),this.re=e,this.currentSequenceNumber=n}}function It(t,e){const n=q(t);return Kn.M(n.re,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bP(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=AC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,r)=>jw(n,r))&&bo(this.baseMutations,e.baseMutations,(n,r)=>jw(n,r))}}class Dy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length);let i=kP;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Dy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=J.min(),o=J.min(),a=vt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.oe=e}}function lA(t,e){let n;if(e.document)n=GC(t.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=z.fromSegments(e.noDocument.path),i=ys(e.noDocument.readTime);n=Ve.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return K();{const r=z.fromSegments(e.unknownDocument.path),i=ys(e.unknownDocument.version);n=Ve.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Ge(r[0],r[1]);return J.fromTimestamp(i)}(e.readTime)),n}function Jw(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Zc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Il(i,s.key),fields:s.data.value.mapValue.fields,updateTime:_o(i,s.version.toTimestamp()),createTime:_o(i,s.createTime.toTimestamp())}}(t.oe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gs(e.version)};else{if(!e.isUnknownDocument())return K();r.unknownDocument={path:n.path.toArray(),version:gs(e.version)}}return r}function Zc(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ys(t){const e=new Ge(t.seconds,t.nanoseconds);return J.fromTimestamp(e)}function Mi(t,e){const n=(e.baseMutations||[]).map(s=>xm(t.oe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>xm(t.oe,s)),i=Ge.fromMillis(e.localWriteTimeMs);return new Ny(e.batchId,i,n,r)}function Ta(t){const e=ys(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ys(t.lastLimboFreeSnapshotVersion):J.min();let r;var i;return t.query.documents!==void 0?(Y((i=t.query).documents.length===1),r=Sn(jo(WC(i.documents[0])))):r=function(s){return Sn(XC(s))}(t.query),new ii(r,t.targetId,0,t.lastListenSequenceNumber,e,n,vt.fromBase64String(t.resumeToken))}function sI(t,e){const n=gs(e.snapshotVersion),r=gs(e.lastLimboFreeSnapshotVersion);let i;i=Xc(e.target)?HC(t.oe,e.target):QC(t.oe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fs(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ay(t){const e=XC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jc(e,e.limit,"L"):e}function bf(t,e){return new Py(e.largestBatchId,xm(t.oe,e.overlayMutation))}function Zw(t,e){const n=e.path.lastSegment();return[t,rn(e.path.popLast()),n]}function e1(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:gs(r.readTime),documentKey:rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{getBundleMetadata(e,n){return t1(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ys(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return t1(e).put({bundleId:(r=n).id,createTime:gs(lt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return n1(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Ay(i.bundledQuery),readTime:ys(i.readTime)};var i})}saveNamedQuery(e,n){return n1(e).put(function(r){return{name:r.name,readTime:gs(lt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function t1(t){return It(t,"bundles")}function n1(t){return It(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.Tt=e,this.userId=n}static ue(e,n){const r=n.uid||"";return new Zd(e,r)}getOverlay(e,n){return da(e).get(Zw(this.userId,n)).next(r=>r?bf(this.Tt,r):null)}getOverlays(e,n){const r=nr();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Py(n,o);i.push(this.ce(e,a))}),T.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(rn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(da(e).Y("collectionPathOverlayIndex",a))}),T.waitFor(s)}getOverlaysForCollection(e,n,r){const i=nr(),s=rn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return da(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=bf(this.Tt,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=nr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return da(e).X({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=bf(this.Tt,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}ce(e,n){return da(e).put(function(r,i,s){const[o,a,l]=Zw(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:kl(r.oe,s.mutation)}}(this.Tt,this.userId,n))}}function da(t){return It(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){}ae(e,n){this.he(e,n),n.le()}he(e,n){if("nullValue"in e)this.fe(n,5);else if("booleanValue"in e)this.fe(n,10),n.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(n,15),n.de(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.fe(n,13):(this.fe(n,15),El(r)?n.de(0):n.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(n,20),typeof r=="string"?n._e(r):(n._e(`${r.seconds||""}`),n.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,n),this.me(n);else if("bytesValue"in e)this.fe(n,30),n.ge(cs(e.bytesValue)),this.me(n);else if("referenceValue"in e)this.ye(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(n,45),n.de(r.latitude||0),n.de(r.longitude||0)}else"mapValue"in e?pC(e)?this.fe(n,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,n),this.me(n)):"arrayValue"in e?(this.Ie(e.arrayValue,n),this.me(n)):K()}we(e,n){this.fe(n,25),this.Te(e,n)}Te(e,n){n._e(e)}pe(e,n){const r=e.fields||{};this.fe(n,55);for(const i of Object.keys(r))this.we(i,n),this.he(r[i],n)}Ie(e,n){const r=e.values||[];this.fe(n,50);for(const i of r)this.he(i,n)}ye(e,n){this.fe(n,37),z.fromName(e).path.forEach(r=>{this.fe(n,60),this.Te(r,n)})}fe(e,n){e.de(n)}me(e){e.de(2)}}Li.Ee=new Li;function cA(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function r1(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=cA(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class dA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Re(r.value),r=n.next();this.Pe()}ve(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.be(r.value),r=n.next();this.Ve()}Se(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=n.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.Pe()}De(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=n.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Ve()}Ce(e){const n=this.xe(e),r=r1(n);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}ke(e){const n=this.xe(e),r=r1(n);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Re(e){const n=255&e;n===0?(this.Me(0),this.Me(255)):n===255?(this.Me(255),this.Me(0)):this.Me(n)}be(e){const n=255&e;n===0?(this.Fe(0),this.Fe(255)):n===255?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hA{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class fA{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class ha{constructor(){this.Le=new dA,this.qe=new hA(this.Le),this.Ue=new fA(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return e===0?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ge(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fi(this.indexId,this.documentKey,this.arrayValue,r)}}function Pr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=i1(t.arrayValue,e.arrayValue),n!==0?n:(n=i1(t.directionalValue,e.directionalValue),n!==0?n:z.comparator(t.documentKey,e.documentKey)))}function i1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const n of e.filters){const r=n;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){Y(e.collectionGroup===this.collectionId);const n=fm(e);if(n!==void 0&&!this.He(n))return!1;const r=Di(e);let i=0,s=0;for(;i<r.length&&this.He(r[i]);++i);if(i===r.length)return!0;if(this.ze!==void 0){const o=r[i];if(!this.Je(this.ze,o)||!this.Ye(this.Qe[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Qe.length||!this.Ye(this.Qe[s++],o))return!1}return!0}He(e){for(const n of this.je)if(this.Je(n,e))return!0;return!1}Je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Ye(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){var e,n;if(Y(t instanceof pe||t instanceof Te),t instanceof pe){if(t instanceof EC){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>pe.create(t.field,"==",s)))||[];return Te.create(i,"or")}return t}const r=t.filters.map(i=>oI(i));return Te.create(r,t.op)}function mA(t){if(t.getFilters().length===0)return[];const e=Tm(oI(t));return Y(aI(e)),Cm(e)||Im(e)?[e]:e.getFilters()}function Cm(t){return t instanceof pe}function Im(t){return t instanceof Te&&Ty(t)}function aI(t){return Cm(t)||Im(t)||function(e){if(e instanceof Te&&gm(e)){for(const n of e.getFilters())if(!Cm(n)&&!Im(n))return!1;return!0}return!1}(t)}function Tm(t){if(Y(t instanceof pe||t instanceof Te),t instanceof pe)return t;if(t.filters.length===1)return Tm(t.filters[0]);const e=t.filters.map(r=>Tm(r));let n=Te.create(e,t.op);return n=ed(n),aI(n)?n:(Y(n instanceof Te),Y(Io(n)),Y(n.filters.length>1),n.filters.reduce((r,i)=>Oy(r,i)))}function Oy(t,e){let n;return Y(t instanceof pe||t instanceof Te),Y(e instanceof pe||e instanceof Te),n=t instanceof pe?e instanceof pe?function(r,i){return Te.create([r,i],"and")}(t,e):s1(t,e):e instanceof pe?s1(e,t):function(r,i){if(Y(r.filters.length>0&&i.filters.length>0),Io(r)&&Io(i))return vC(r,i.getFilters());const s=gm(r)?r:i,o=gm(r)?i:r,a=s.filters.map(l=>Oy(l,o));return Te.create(a,"or")}(t,e),ed(n)}function s1(t,e){if(Io(e))return vC(e,t.getFilters());{const n=e.filters.map(r=>Oy(t,r));return Te.create(n,"or")}}function ed(t){if(Y(t instanceof pe||t instanceof Te),t instanceof pe)return t;const e=t.getFilters();if(e.length===1)return ed(e[0]);if(gC(t))return t;const n=e.map(i=>ed(i)),r=[];return n.forEach(i=>{i instanceof pe?r.push(i):i instanceof Te&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Te.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.Ze=new My}addToCollectionParentIndex(e,n){return this.Ze.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(kn.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class My{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ne(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ne(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Uint8Array(0);class yA{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new My,this.tn=new Ti(r=>fs(r),(r,i)=>Yl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const s={collectionId:r,parent:rn(i)};return o1(e).put(s)}return T.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[sC(n),""],!1,!0);return o1(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(rr(o.parent))}return r})}addFieldIndex(e,n){const r=qu(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=pa(e);return s.next(a=>{o.put(e1(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=qu(e),i=pa(e),s=fa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=fa(e);let i=!0;const s=new Map;return T.forEach(this.en(n),o=>this.nn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=le();const a=[];return T.forEach(s,(l,u)=>{var c;M("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`} to execute ${fs(n)}`);const d=function(w,E){const x=fm(E);if(x===void 0)return null;for(const b of Yc(w,x.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}(u,l),h=function(w,E){const x=new Map;for(const b of Di(E))for(const C of Yc(w,b.fieldPath))switch(C.op){case"==":case"in":x.set(b.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return x.set(b.fieldPath.canonicalString(),C.value),Array.from(x.values())}return null}(u,l),p=function(w,E){const x=[];let b=!0;for(const C of Di(E)){const k=C.kind===0?Bw(w,C.fieldPath,w.startAt):Vw(w,C.fieldPath,w.startAt);x.push(k.value),b&&(b=k.inclusive)}return new pi(x,b)}(u,l),g=function(w,E){const x=[];let b=!0;for(const C of Di(E)){const k=C.kind===0?Vw(w,C.fieldPath,w.endAt):Bw(w,C.fieldPath,w.endAt);x.push(k.value),b&&(b=k.inclusive)}return new pi(x,b)}(u,l),v=this.sn(l,u,p),S=this.sn(l,u,g),y=this.rn(l,u,h),m=this.on(l.indexId,d,v,p.inclusive,S,g.inclusive,y);return T.forEach(m,w=>r.J(w,n.limit).next(E=>{E.forEach(x=>{const b=z.fromSegments(x.documentKey);o.has(b)||(o=o.add(b),a.push(b))})}))}).next(()=>a)}return T.resolve(null)})}en(e){let n=this.tn.get(e);return n||(e.filters.length===0?n=[e]:n=mA(Te.create(e.filters,"and")).map(r=>vm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,n),n)}on(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.un(n[d/u]):ju,p=this.cn(e,h,r[d%u],i),g=this.an(e,h,s[d%u],o),v=a.map(S=>this.cn(e,h,S,!0));c.push(...this.createRange(p,g,v))}return c}cn(e,n,r,i){const s=new Fi(e,z.empty(),n,r);return i?s:s.Ge()}an(e,n,r,i){const s=new Fi(e,z.empty(),n,r);return i?s.Ge():s}nn(e,n){const r=new pA(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.We(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.en(n);return T.forEach(i,s=>this.nn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new Ne(ot.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}hn(e,n){const r=new ha;for(const i of Di(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ke(i.kind);Li.Ee.ae(s,o)}return r.Be()}un(e){const n=new ha;return Li.Ee.ae(e,n.Ke(0)),n.Be()}ln(e,n){const r=new ha;return Li.Ee.ae(hs(this.databaseId,n),r.Ke(function(i){const s=Di(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Be()}rn(e,n,r){if(r===null)return[];let i=[];i.push(new ha);let s=0;for(const o of Di(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&Cl(a))i=this.dn(i,o,a);else{const u=l.Ke(o.kind);Li.Ee.ae(a,u)}}return this._n(i)}sn(e,n,r){return this.rn(e,n,r.position)}_n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Be();return n}dn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ha;l.seed(a.Be()),Li.Ee.ae(o,l.Ke(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof pe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=qu(e),i=pa(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return T.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new Qc(c.sequenceNumber,new kn(ys(c.readTime),new z(rr(c.documentKey)),c.largestBatchId)):Qc.empty(),h=u.fields.map(([p,g])=>new ZD(ot.fromServerFormat(p),g));return new oC(u.indexId,u.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ae(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=qu(e),s=pa(e);return this.wn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>T.forEach(a,l=>s.put(e1(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return T.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?T.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),T.forEach(a,l=>this.mn(e,i,l).next(u=>{const c=this.gn(s,l);return u.isEqual(c)?T.resolve():this.yn(e,s,l,u,c)}))))})}pn(e,n,r,i){return fa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.ln(r,n.key),documentKey:n.key.path.toArray()})}In(e,n,r,i){return fa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.ln(r,n.key),n.key.path.toArray()])}mn(e,n,r){const i=fa(e);let s=new Ne(Pr);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,n)])},(o,a)=>{s=s.add(new Fi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}gn(e,n){let r=new Ne(Pr);const i=this.hn(n,e);if(i==null)return r;const s=fm(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Cl(o))for(const a of o.arrayValue.values||[])r=r.add(new Fi(n.indexId,e.key,this.un(a),i))}else r=r.add(new Fi(n.indexId,e.key,ju,i));return r}yn(e,n,r,i,s){M("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const h=a.getIterator(),p=l.getIterator();let g=As(h),v=As(p);for(;g||v;){let S=!1,y=!1;if(g&&v){const m=u(g,v);m<0?y=!0:m>0&&(S=!0)}else g!=null?y=!0:S=!0;S?(c(v),v=As(p)):y?(d(g),g=As(h)):(g=As(h),v=As(p))}}(i,s,Pr,a=>{o.push(this.pn(e,n,r,a))},a=>{o.push(this.In(e,n,r,a))}),T.waitFor(o)}wn(e){let n=1;return pa(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Pr(o,a)).filter((o,a,l)=>!a||Pr(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Pr(o,e),l=Pr(o,n);if(a===0)i[0]=e.Ge();else if(a>0&&l<0)i.push(o),i.push(o.Ge());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Tn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,ju,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,ju,[]];s.push(IDBKeyRange.bound(a,l))}return s}Tn(e,n){return Pr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(a1)}getMinOffset(e,n){return T.mapArray(this.en(n),r=>this.nn(e,r).next(i=>i||K())).next(a1)}}function o1(t){return It(t,"collectionParents")}function fa(t){return It(t,"indexEntries")}function qu(t){return It(t,"indexConfiguration")}function pa(t){return It(t,"indexState")}function a1(t){Y(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;by(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new kn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class un{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{Y(a===1)}));const u=[];for(const c of n.mutations){const d=eI(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return T.waitFor(s).next(()=>u)}function td(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw K();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class eh{constructor(e,n,r,i){this.userId=e,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}static ue(e,n,r,i){Y(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new eh(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ar(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=zs(e),o=Ar(e);return o.add({}).next(a=>{Y(typeof a=="number");const l=new Ny(a,n,r,i),u=function(h,p,g){const v=g.baseMutations.map(y=>kl(h.oe,y)),S=g.mutations.map(y=>kl(h.oe,y));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:S}}(this.Tt,this.userId,l),c=[];let d=new Ne((h,p)=>ae(h.canonicalString(),p.canonicalString()));for(const h of i){const p=eI(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(p,WP))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.En[a]=l.keys()}),T.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Ar(e).get(n).next(r=>r?(Y(r.userId===this.userId),Mi(this.Tt,r)):null)}An(e,n){return this.En[n]?T.resolve(this.En[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.En[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ar(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Y(a.batchId>=r),s=Mi(this.Tt,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ar(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ar(e).W("userMutationsIndex",n).next(r=>r.map(i=>Mi(this.Tt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=hc(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return zs(e).X({range:i},(o,a,l)=>{const[u,c,d]=o,h=rr(c);if(u===this.userId&&n.path.isEqual(h))return Ar(e).get(d).next(p=>{if(!p)throw K();Y(p.userId===this.userId),s.push(Mi(this.Tt,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ae);const i=[];return n.forEach(s=>{const o=hc(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=zs(e).X({range:a},(u,c,d)=>{const[h,p,g]=u,v=rr(p);h===this.userId&&s.path.isEqual(v)?r=r.add(g):d.done()});i.push(l)}),T.waitFor(i).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=hc(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ne(ae);return zs(e).X({range:o},(l,u,c)=>{const[d,h,p]=l,g=rr(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Rn(e,a))}Rn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ar(e).get(s).next(o=>{if(o===null)throw K();Y(o.userId===this.userId),r.push(Mi(this.Tt,o))}))}),T.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return lI(e.re,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Pn(n.batchId)}),T.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return T.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return zs(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=rr(s[1]);i.push(l)}else a.done()}).next(()=>{Y(i.length===0)})})}containsKey(e,n){return uI(e,this.userId,n)}vn(e){return cI(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uI(t,e,n){const r=hc(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return zs(t).X({range:s,Z:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Ar(t){return It(t,"mutations")}function zs(t){return It(t,"documentMutations")}function cI(t){return It(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new vs(0)}static Sn(){return new vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.referenceDelegate=e,this.Tt=n}allocateTargetId(e){return this.Dn(e).next(n=>{const r=new vs(n.highestTargetId);return n.highestTargetId=r.next(),this.Cn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(n=>J.fromTimestamp(new Ge(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Dn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Cn(e,i)))}addTargetData(e,n){return this.xn(e,n).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(n,r),this.Cn(e,r))))}updateTargetData(e,n){return this.xn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Os(e).delete(n.targetId)).next(()=>this.Dn(e)).next(r=>(Y(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Os(e).X((o,a)=>{const l=Ta(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>T.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Os(e).X((r,i)=>{const s=Ta(i);n(s)})}Dn(e){return u1(e).get("targetGlobalKey").next(n=>(Y(n!==null),n))}Cn(e,n){return u1(e).put("targetGlobalKey",n)}xn(e,n){return Os(e).put(sI(this.Tt,n))}Nn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Os(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Ta(a);Yl(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ur(e);return n.forEach(o=>{const a=rn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),T.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ur(e);return T.forEach(n,s=>{const o=rn(s.path);return T.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ur(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ur(e);let s=le();return i.X({range:r,Z:!0},(o,a,l)=>{const u=rr(o[1]),c=new z(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=rn(n.path),i=IDBKeyRange.bound([r],[sC(r)],!1,!0);let s=0;return Ur(e).X({index:"documentTargetsIndex",Z:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ie(e,n){return Os(e).get(n).next(r=>r?Ta(r):null)}}function Os(t){return It(t,"targets")}function u1(t){return It(t,"targetGlobal")}function Ur(t){return It(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class wA{constructor(e){this.kn=e,this.buffer=new Ne(c1),this.$n=0}Mn(){return++this.$n}On(e){const n=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Fn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return this.Fn!==null}Bn(e){M("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Fn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ii(n)?M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ci(n)}await this.Bn(3e5)})}}class EA{constructor(e,n){this.Ln=e,this.params=n}calculateTargetCount(e,n){return this.Ln.qn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return T.resolve(fn.at);const r=new wA(n);return this.Ln.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.Ln.Un(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Ln.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Ln.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(M("LruGarbageCollector","Garbage collection skipped; disabled"),T.resolve(l1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l1):this.Kn(e,n))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),hm()<=be.DEBUG&&M("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),T.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new EA(r,i)}(this,n)}qn(e){const n=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Gn(e){let n=0;return this.Un(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Un(e,n){return this.Qn(e,(r,i)=>n(i))}addReference(e,n,r){return Wu(e,r)}removeReference(e,n,r){return Wu(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Wu(e,n)}jn(e,n){return function(r,i){let s=!1;return cI(r).tt(o=>uI(r,o,i).next(a=>(a&&(s=!0),T.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Qn(e,(o,a)=>{if(a<=n){const l=this.jn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,J.min()),Ur(e).delete([0,rn(o.path)])))});i.push(l)}}).next(()=>T.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Wu(e,n)}Qn(e,n){const r=Ur(e);let i,s=fn.at;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==fn.at&&n(new z(rr(i)),s),s=u,i=l):s=fn.at}).next(()=>{s!==fn.at&&n(new z(rr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wu(t,e){return Ur(t).put(function(n,r){return{targetId:0,path:rn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.changes=new Ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return _i(e).put(r)}removeEntry(e,n,r){return _i(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Zc(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.zn(e,r)))}getEntry(e,n){let r=Ve.newInvalidDocument(n);return _i(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ma(n))},(i,s)=>{r=this.Wn(n,s)}).next(()=>r)}Hn(e,n){let r={size:0,document:Ve.newInvalidDocument(n)};return _i(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ma(n))},(i,s)=>{r={document:this.Wn(n,s),size:td(s)}}).next(()=>r)}getEntries(e,n){let r=mn();return this.Jn(e,n,(i,s)=>{const o=this.Wn(i,s);r=r.insert(i,o)}).next(()=>r)}Yn(e,n){let r=mn(),i=new tt(z.comparator);return this.Jn(e,n,(s,o)=>{const a=this.Wn(s,o);r=r.insert(s,a),i=i.insert(s,td(o))}).next(()=>({documents:r,Zn:i}))}Jn(e,n,r){if(n.isEmpty())return T.resolve();let i=new Ne(f1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(ma(i.first()),ma(i.last())),o=i.getIterator();let a=o.getNext();return _i(e).X({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=z.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&f1(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.j(ma(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Zc(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _i(e).W(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=mn();for(const c of l){const d=this.Wn(z.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(Zl(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=mn();const o=h1(n,r),a=h1(n,kn.max());return _i(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.Wn(z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new CA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return d1(e).get("remoteDocumentGlobalKey").next(n=>(Y(!!n),n))}zn(e,n){return d1(e).put("remoteDocumentGlobalKey",n)}Wn(e,n){if(n){const r=lA(this.Tt,n);if(!(r.isNoDocument()&&r.version.isEqual(J.min())))return r}return Ve.newInvalidDocument(e)}}function hI(t){return new bA(t)}class CA extends dI{constructor(e,n){super(),this.Xn=e,this.trackRemovals=n,this.ts=new Ti(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ne((s,o)=>ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ts.get(s);if(n.push(this.Xn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Jw(this.Xn.Tt,o);i=i.add(s.path.popLast());const u=td(l);r+=u-a.size,n.push(this.Xn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Jw(this.Xn.Tt,o.convertToNoDocument(J.min()));n.push(this.Xn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Xn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Xn.updateMetadata(e,r)),T.waitFor(n)}getFromCache(e,n){return this.Xn.Hn(e,n).next(r=>(this.ts.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Xn.Yn(e,n).next(({documents:r,Zn:i})=>(i.forEach((s,o)=>{this.ts.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function d1(t){return It(t,"remoteDocumentGlobal")}function _i(t){return It(t,"remoteDocumentsV14")}function ma(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function h1(t,e){const n=e.documentKey.path.toArray();return[t,Zc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function f1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ae(n[s],r[s]),i)return i;return i=ae(n.length,r.length),i||(i=ae(n[n.length-2],r[r.length-2]),i||ae(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ua(r.mutation,i,pn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ia();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=mn();const o=ja(),a=ja();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Tr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ua(c.mutation,u,c.mutation.getFieldMask(),Ge.now())):o.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new IA(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ja();let i=new tt((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||pn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=VC();c.forEach(h=>{if(!s.has(h)){const p=AC(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_y(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):T.resolve(nr());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,le())).next(c=>({batchId:a,changes:BC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ia();return this.indexManager.getCollectionParents(e,i).next(o=>T.forEach(o,a=>{const l=function(u,c){return new Ir(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Ve.newInvalidDocument(u)))});let o=Ia();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ua(u.mutation,l,pn.empty(),Ge.now()),Zl(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return T.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:lt(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(r){return{name:r.name,query:Ay(r.bundledQuery),readTime:lt(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.overlays=new tt(z.comparator),this.ss=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=nr();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=nr(),s=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=nr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=nr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Py(n,r));let s=this.ss.get(n);s===void 0&&(s=le(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.rs=new Ne(wt.os),this.us=new Ne(wt.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new wt(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new wt(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new z(new we([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new z(new we([])),r=new wt(n,e),i=new wt(n,e+1);let s=le();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return z.comparator(e.key,n.key)||ae(e.gs,n.gs)}static cs(e,n){return ae(e.gs,n.gs)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ne(wt.os)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ny(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ae);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),T.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;z.isDocumentKey(s)||(s=s.child(""));const o=new wt(new z(s),0);let a=new Ne(ae);return this.ps.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gs)),!0)},o),T.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Y(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return T.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,n){const r=new wt(n,0),i=this.ps.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.Rs=e,this.docs=new tt(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=mn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mn();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||by(lC(c),r)<=0||(i.has(c.key)||Zl(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Ps(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $A(this)}getSize(e){return T.resolve(this.size)}}class $A extends dI{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.persistence=e,this.vs=new Ti(n=>fs(n),Yl),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Ly,this.targetCount=0,this.Ss=vs.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),T.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new vs(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.xn(n),T.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new fn(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new NA(this),this.indexManager=new gA,this.remoteDocumentCache=function(r){return new RA(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new iI(n),this.$s=new TA(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new _A(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const i=new DA(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,n){return T.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class DA extends cC{constructor(e){super(),this.currentSequenceNumber=e}}class th{constructor(e){this.persistence=e,this.Bs=new Ly,this.Ls=null}static qs(e){return new th(e)}get Us(){if(this.Ls)return this.Ls;throw K()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),T.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Us,r=>{const i=z.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return T.or([()=>T.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.Tt=e}F(e,n,r,i){const s=new Hd("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yw,{unique:!0}),a.createObjectStore("documentMutations")}(e),p1(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=T.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),p1(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").W().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yw,{unique:!0});const c=l.store("mutations"),d=u.map(h=>c.put(h));return T.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Gs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(s)))),r<7&&i>=7&&(o=o.next(()=>this.js(s))),r<8&&i>=8&&(o=o.next(()=>this.zs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Ws(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:rA});l.createIndex("collectionPathOverlayIndex",iA,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",sA,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:KP});l.createIndex("documentKeyIndex",GP),l.createIndex("collectionGroupIndex",HP)}(e)).next(()=>this.Hs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.Js(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:ZP}).createIndex("sequenceNumberIndex",eA,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:tA}).createIndex("documentKeyIndex",nA,{unique:!1})}(e))),o}Qs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=td(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>T.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>T.forEach(a,l=>{Y(l.userId===s.userId);const u=Mi(this.Tt,l);return lI(e,s.userId,u).next(()=>{})}))}))}js(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new we(o),u=function(c){return[0,rn(c)]}(l);s.push(n.get(u).next(c=>c?T.resolve():(d=>n.put({targetId:0,path:rn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>T.waitFor(s))})}zs(e,n){e.createObjectStore("collectionParents",{keyPath:JP});const r=n.store("collectionParents"),i=new My,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:rn(l)})}};return n.store("remoteDocuments").X({Z:!0},(o,a)=>{const l=new we(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Z:!0},([o,a,l],u)=>{const c=rr(a);return s(c.popLast())}))}Ws(e){const n=e.store("targets");return n.X((r,i)=>{const s=Ta(i),o=sI(this.Tt,s);return n.put(o)})}Hs(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new z(we.fromString(u.document.name).popFirst(5)):u.noDocument?z.fromSegments(u.noDocument.path):u.unknownDocument?z.fromSegments(u.unknownDocument.path):K()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>T.waitFor(i))}Js(e,n){const r=n.store("mutations"),i=hI(this.Tt),s=new pI(th.qs,this.Tt.oe);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:le();Mi(this.Tt,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),T.forEach(a,(l,u)=>{const c=new Et(u),d=Zd.ue(this.Tt,c),h=s.getIndexManager(c),p=eh.ue(c,this.Tt,h,s.referenceDelegate);return new fI(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new bm(n,fn.at),l).next()})})}}function p1(t){t.createObjectStore("targetDocuments",{keyPath:XP}).createIndex("documentTargetsIndex",YP,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",QP,{unique:!0}),t.createObjectStore("targetGlobal")}const Cf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fy{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ys=s,this.window=o,this.document=a,this.Zs=u,this.Xs=c,this.ti=d,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=h=>Promise.resolve(),!Fy.C())throw new O(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xA(this,i),this.oi=n+"main",this.Tt=new iI(l),this.ui=new Kn(this.oi,this.ti,new PA(this.Tt)),this.Ns=new vA(this.referenceDelegate,this.Tt),this.remoteDocumentCache=hI(this.Tt),this.$s=new uA,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,c===!1&&st("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(_.FAILED_PRECONDITION,Cf);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new fn(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){return this.ri=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(async()=>{this.started&&await this.ai()}))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ku(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(n=>{n||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(n=>this.isPrimary&&!n?this.mi(e).next(()=>!1):!!n&&this.gi(e).next(()=>!0))).catch(e=>{if(Ii(e))return M("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return ga(e).get("owner").next(n=>T.resolve(this.yi(n)))}pi(e){return Ku(e).delete(this.clientId)}async Ii(){if(this.isPrimary&&!this.Ti(this.ii,18e5)){this.ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=It(n,"clientMetadata");return r.W().next(i=>{const s=this.Ei(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return T.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ci)for(const n of e)this.ci.removeItem(this.Ai(n.clientId))}}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?T.resolve(!0):ga(e).get("owner").next(n=>{if(n!==null&&this.Ti(n.leaseTimestampMs,5e3)&&!this.Ri(n.ownerId)){if(this.yi(n)&&this.networkEnabled)return!0;if(!this.yi(n)){if(!n.allowTabSynchronization)throw new O(_.FAILED_PRECONDITION,Cf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ku(e).W().next(r=>this.Ei(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&M("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.xs=!1,this.Pi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.bi(),await this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new bm(e,fn.at);return this.mi(n).next(()=>this.pi(n))}),this.ui.close(),this.Vi()}Ei(e,n){return e.filter(r=>this.Ti(r.updateTimeMs,n)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>Ku(e).W().next(n=>this.Ei(n,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,n){return eh.ue(e,this.Tt,n,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yA(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return Zd.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,n,r){M("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ti)===15?aA:o===14?rI:o===13?nI:o===12?oA:o===11?tI:void K();var o;let a;return this.ui.runTransaction(e,i,s,l=>(a=new bm(l,this.Cs?this.Cs.next():fn.at),n==="readwrite-primary"?this._i(a).next(u=>!!u||this.wi(a)).next(u=>{if(!u)throw st(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new O(_.FAILED_PRECONDITION,uC);return r(a)}).next(u=>this.gi(a).next(()=>u)):this.Di(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Di(e){return ga(e).get("owner").next(n=>{if(n!==null&&this.Ti(n.leaseTimestampMs,5e3)&&!this.Ri(n.ownerId)&&!this.yi(n)&&!(this.Xs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new O(_.FAILED_PRECONDITION,Cf)})}gi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ga(e).put("owner",n)}static C(){return Kn.C()}mi(e){const n=ga(e);return n.get("owner").next(r=>this.yi(r)?(M("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):T.resolve())}Ti(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(st(`Detected an update time that is in the future: ${e} > ${r}`),!1))}hi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground=this.document.visibilityState==="visible")}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ei=()=>{this.Pi();const n=/(?:Version|Mobile)\/1[456]/;f$()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var n;try{const r=((n=this.ci)===null||n===void 0?void 0:n.getItem(this.Ai(e)))!==null;return M("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return st("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){st("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ga(t){return It(t,"owner")}function Ku(t){return It(t,"clientMetadata")}function By(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Fi(e,n))}Mi(e,n){if(zw(n))return T.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jc(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Bi(n,a);return this.Li(n,u,o,l.readTime)?this.Mi(e,Jc(n,null,"F")):this.qi(e,u,n,l)}))})))}Oi(e,n,r,i){return zw(n)||i.isEqual(J.min())?this.Fi(e,n):this.$i.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.Fi(e,n):(hm()<=be.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sm(n)),this.qi(e,o,n,aC(i,-1)))})}Bi(e,n){let r=new Ne(TC(e));return n.forEach((i,s)=>{Zl(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,n){return hm()<=be.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Sm(n)),this.$i.getDocumentsMatchingQuery(e,n,kn.min())}qi(e,n,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new tt(ae),this.Gi=new Ti(s=>fs(s),Yl),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function gI(t,e,n,r){return new AA(t,e,n,r)}async function yI(t,e){const n=q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:a}))})})}function OA(t,e){const n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=T.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(g=>{const v=l.docVersions.get(p);Y(v!==null),g.version.compareTo(v)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vI(t){const e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function MA(t,e){const n=q(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ns.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ns.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(vt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(g,v,S){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(h,p,c)&&a.push(n.Ns.updateTargetData(s,p))});let l=mn(),u=le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(wI(s,o,e.documentUpdates).next(c=>{l=c.Hi,u=c.Ji})),!r.isEqual(J.min())){const c=n.Ns.getLastRemoteSnapshotVersion(s).next(d=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ki=i,s))}function wI(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=mn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Hi:o,Ji:i}})}function LA(t,e){const n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ro(t,e){const n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new ii(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}async function $o(t,e,n){const r=q(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ii(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}function nd(t,e,n){const r=q(t);let i=J.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=q(a),d=c.Gi.get(u);return d!==void 0?T.resolve(c.Ki.get(d)):c.Ns.getTargetData(l,u)}(r,o,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:le())).next(a=>(xI(r,IC(e),a),{documents:a,Yi:s})))}function SI(t,e){const n=q(t),r=q(n.Ns),i=n.Ki.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ie(s,e).next(o=>o?o.target:null))}function EI(t,e){const n=q(t),r=n.Qi.get(e)||J.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ji.getAllFromCollectionGroup(i,e,aC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(xI(n,e,i),i))}function xI(t,e,n){let r=t.Qi.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}async function FA(t,e,n,r){const i=q(t);let s=le(),o=mn();for(const u of n){const c=e.Zi(u.metadata.name);u.document&&(s=s.add(c));const d=e.Xi(u);d.setReadTime(e.tr(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ji.newChangeBuffer({trackRemovals:!0}),l=await Ro(i,function(u){return Sn(jo(we.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>wI(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Ns.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ns.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.Hi,c.Ji)).next(()=>c.Hi)))}async function BA(t,e,n=le()){const r=await Ro(t,Sn(Ay(e.bundledQuery))),i=q(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=lt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$s.saveNamedQuery(s,e);const a=r.withResumeToken(vt.EMPTY_BYTE_STRING,o);return i.Ki=i.Ki.insert(a.targetId,a),i.Ns.updateTargetData(s,a).next(()=>i.Ns.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ns.addMatchingKeys(s,n,r.targetId)).next(()=>i.$s.saveNamedQuery(s,e))})}function m1(t,e){return`firestore_clients_${t}_${e}`}function g1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function If(t,e){return`firestore_targets_${t}_${e}`}class rd{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static er(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new O(i.error.code,i.error.message))),o?new rd(e,n,i.state,s):(st("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qa{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static er(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new O(r.error.code,r.error.message))),s?new qa(e,r.state,i):(st("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class id{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static er(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Jd();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=hC(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new id(e,s):(st("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class zy{constructor(e,n){this.clientId=e,this.onlineState=n}static er(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new zy(n.clientId,n.onlineState):(st("SharedClientState",`Failed to parse online state: ${e}`),null)}}class km{constructor(){this.activeTargetIds=Jd()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tf{constructor(e,n,r,i,s){this.window=e,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new tt(ae),this.started=!1,this.hr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.lr=m1(this.persistenceKey,this.rr),this.dr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new km),this._r=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.gr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.yr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Si();for(const r of e){if(r===this.rr)continue;const i=this.getItem(m1(this.persistenceKey,r));if(i){const s=id.er(r,i);s&&(this.ar=this.ar.insert(s.clientId,s))}}this.pr();const n=this.storage.getItem(this.gr);if(n){const r=this.Ir(n);r&&this.Tr(r)}for(const r of this.hr)this.cr(r);this.hr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let n=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,n,r){this.Ar(e,n,r),this.Rr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(If(this.persistenceKey,e));if(r){const i=qa.er(e,r);i&&(n=i.state)}}return this.Pr.sr(e),this.pr(),n}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(If(this.persistenceKey,e))}updateQueryState(e,n,r){this.vr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Rr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return M("SharedClientState","READ",e,n),n}setItem(e,n){M("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){M("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){const n=e;if(n.storageArea===this.storage){if(M("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void st("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this._r.test(n.key)){if(n.newValue==null){const r=this.Sr(n.key);return this.Dr(r,null)}{const r=this.Cr(n.key,n.newValue);if(r)return this.Dr(r.clientId,r)}}else if(this.wr.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(this.mr.test(n.key)){if(n.newValue!==null){const r=this.$r(n.key,n.newValue);if(r)return this.Mr(r)}}else if(n.key===this.gr){if(n.newValue!==null){const r=this.Ir(n.newValue);if(r)return this.Tr(r)}}else if(n.key===this.dr){const r=function(i){let s=fn.at;if(i!=null)try{const o=JSON.parse(i);Y(typeof o=="number"),s=o}catch(o){st("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==fn.at&&this.sequenceNumberHandler(r)}else if(n.key===this.yr){const r=this.Or(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Fr(i)))}}}else this.hr.push(n)})}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,n,r){const i=new rd(this.currentUser,e,n,r),s=g1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.nr())}Rr(e){const n=g1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(n))}vr(e,n,r){const i=If(this.persistenceKey,e),s=new qa(e,n,r);this.setItem(i,s.nr())}Vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.yr,n)}Sr(e){const n=this._r.exec(e);return n?n[1]:null}Cr(e,n){const r=this.Sr(e);return id.er(r,n)}Nr(e,n){const r=this.wr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return rd.er(new Et(s),i,n)}$r(e,n){const r=this.mr.exec(e),i=Number(r[1]);return qa.er(i,n)}Ir(e){return zy.er(e)}Or(e){return JSON.parse(e)}async kr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Br(e.batchId,e.state,e.error);M("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,n){const r=n?this.ar.insert(e,n):this.ar.remove(e),i=this.Er(this.ar),s=this.Er(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.qr(o,a).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let n=Jd();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class bI{constructor(){this.Ur=new km,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new km,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function kf(){return Gu===null?Gu=268435456+Math.round(2147483648*Math.random()):Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class jA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=kf(),a=this.fo(e,n);M("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this._o(l,i,s),this.wo(e,a,l,r).then(u=>(M("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw xo("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){const r=zA[e];return`${this.co}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){const s=kf();return new Promise((o,a)=>{const l=new zD;l.setWithCredentials(!0),l.listenOnce(FD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xf.NO_ERROR:const c=l.getResponseJson();M(qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case xf.TIMEOUT:M(qt,`RPC '${e}' ${s} timed out`),a(new O(_.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const d=l.getStatus();if(M(qt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(v){const S=v.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(S)>=0?S:_.UNKNOWN}(p.status);a(new O(g,p.message))}else a(new O(_.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(_.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{M(qt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);M(qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}yo(e,n,r){const i=kf(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MD(),a=LD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new VD({})),this._o(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");M(qt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let d=!1,h=!1;const p=new UA({Yr:v=>{h?M(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(M(qt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),M(qt,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},Zr:()=>c.close()}),g=(v,S,y)=>{v.listen(S,m=>{try{y(m)}catch(w){setTimeout(()=>{throw w},0)}})};return g(c,zu.EventType.OPEN,()=>{h||M(qt,`RPC '${e}' stream ${i} transport opened.`)}),g(c,zu.EventType.CLOSE,()=>{h||(h=!0,M(qt,`RPC '${e}' stream ${i} transport closed`),p.oo())}),g(c,zu.EventType.ERROR,v=>{h||(h=!0,xo(qt,`RPC '${e}' stream ${i} transport errored:`,v),p.oo(new O(_.UNAVAILABLE,"The operation could not be completed")))}),g(c,zu.EventType.MESSAGE,v=>{var S;if(!h){const y=v.data[0];Y(!!y);const m=y,w=m.error||((S=m[0])===null||S===void 0?void 0:S.error);if(w){M(qt,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let x=function(C){const k=ct[C];if(k!==void 0)return LC(k)}(E),b=w.message;x===void 0&&(x=_.INTERNAL,b="Unknown error status: "+E+" with message "+w.message),h=!0,p.oo(new O(x,b)),c.close()}else M(qt,`RPC '${e}' stream ${i} received:`,y),p.uo(y)}}),g(a,BD.STAT_EVENT,v=>{v.stat===kw.PROXY?M(qt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===kw.NOPROXY&&M(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.ro()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return typeof window<"u"?window:null}function fc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){return new AP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,s,o,a,l){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Uy(e,n)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new O(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qA extends II{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=LP(this.Tt,e),r=function(i){if(!("targetChange"in i))return J.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?lt(s.readTime):J.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=Tl(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=Xc(a)?{documents:HC(i,a)}:{query:QC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=jC(i,s.resumeToken):s.snapshotVersion.compareTo(J.min())>0&&(o.readTime=_o(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=BP(this.Tt,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=Tl(this.Tt),n.removeTarget=e,this.qo(n)}}class WA extends II{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=FP(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.eu(r,n)}return Y(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Tl(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kl(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new O(_.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(_.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(_.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class GA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(st(n),this.cu=!1):M("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{ki(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=q(a);l.mu.add(4),await Ko(l),l.pu.set("Unknown"),l.mu.delete(4),await iu(l)}(this))})}),this.pu=new GA(r,i)}}async function iu(t){if(ki(t))for(const e of t.gu)await e(!0)}async function Ko(t){for(const e of t.gu)await e(!1)}function nh(t,e){const n=q(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),Wy(n)?qy(n):Ho(n).Mo()&&jy(n,e))}function _l(t,e){const n=q(t),r=Ho(n);n.wu.delete(e),r.Mo()&&TI(n,e),n.wu.size===0&&(r.Mo()?r.Bo():ki(n)&&n.pu.set("Unknown"))}function jy(t,e){t.Iu.Ot(e.targetId),Ho(t).Jo(e)}function TI(t,e){t.Iu.Ot(e),Ho(t).Yo(e)}function qy(t){t.Iu=new $P({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),Ho(t).start(),t.pu.au()}function Wy(t){return ki(t)&&!Ho(t).$o()&&t.wu.size>0}function ki(t){return q(t).mu.size===0}function kI(t){t.Iu=void 0}async function QA(t){t.wu.forEach((e,n)=>{jy(t,e)})}async function XA(t,e){kI(t),Wy(t)?(t.pu.fu(e),qy(t)):t.pu.set("Unknown")}async function YA(t,e,n){if(t.pu.set("Online"),e instanceof UC&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sd(t,r)}else if(e instanceof dc?t.Iu.Qt(e):e instanceof zC?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(J.min()))try{const r=await vI(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.wu.get(l);u&&i.wu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.wu.get(a);if(!l)return;i.wu.set(a,l.withResumeToken(vt.EMPTY_BYTE_STRING,l.snapshotVersion)),TI(i,a);const u=new ii(l.target,a,1,l.sequenceNumber);jy(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){M("RemoteStore","Failed to raise snapshot:",r),await sd(t,r)}}async function sd(t,e,n){if(!Ii(e))throw e;t.mu.add(1),await Ko(t),t.pu.set("Offline"),n||(n=()=>vI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await iu(t)})}function _I(t,e){return e().catch(n=>sd(t,n,e))}async function Go(t){const e=q(t),n=mi(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;JA(e);)try{const i=await LA(e.localStore,r);if(i===null){e._u.length===0&&n.Bo();break}r=i.batchId,ZA(e,i)}catch(i){await sd(e,i)}RI(e)&&$I(e)}function JA(t){return ki(t)&&t._u.length<10}function ZA(t,e){t._u.push(e);const n=mi(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function RI(t){return ki(t)&&!mi(t).$o()&&t._u.length>0}function $I(t){mi(t).start()}async function e2(t){mi(t).su()}async function t2(t){const e=mi(t);for(const n of t._u)e.tu(n.mutations)}async function n2(t,e,n){const r=t._u.shift(),i=Dy.from(r,e,n);await _I(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Go(t)}async function r2(t,e){e&&mi(t).Xo&&await async function(n,r){if(i=r.code,MC(i)&&i!==_.ABORTED){const s=n._u.shift();mi(n).Fo(),await _I(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Go(n)}var i}(t,e),RI(t)&&$I(t)}async function v1(t,e){const n=q(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=ki(n);n.mu.add(3),await Ko(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await iu(n)}async function _m(t,e){const n=q(t);e?(n.mu.delete(2),await iu(n)):e||(n.mu.add(2),await Ko(n),n.pu.set("Unknown"))}function Ho(t){return t.Tu||(t.Tu=function(e,n,r){const i=q(e);return i.ru(),new qA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:QA.bind(null,t),no:XA.bind(null,t),Ho:YA.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.Fo(),Wy(t)?qy(t):t.pu.set("Unknown")):(await t.Tu.stop(),kI(t))})),t.Tu}function mi(t){return t.Eu||(t.Eu=function(e,n,r){const i=q(e);return i.ru(),new WA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:e2.bind(null,t),no:r2.bind(null,t),nu:t2.bind(null,t),eu:n2.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.Fo(),await Go(t)):(await t.Eu.stop(),t._u.length>0&&(M("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ky(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qo(t,e){if(st("AsyncQueue",`${e}: ${t}`),Ii(t))return new O(_.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=Ia(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.Au=new tt(z.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(n,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(n):e.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):K():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new No(e,n,ho.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Pu=void 0,this.listeners=[]}}class s2{constructor(){this.queries=new Ti(e=>CC(e),Jl),this.onlineState="Unknown",this.vu=new Set}}async function Gy(t,e){const n=q(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new i2),i)try{s.Pu=await n.onListen(r)}catch(o){const a=Qo(o,`Initialization of query '${Sm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Pu&&e.Vu(s.Pu)&&Qy(n)}async function Hy(t,e){const n=q(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function o2(t,e){const n=q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Pu=i}}r&&Qy(n)}function a2(t,e,n){const r=q(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Qy(t){t.vu.forEach(e=>{e.next()})}class Xy{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.$u||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n){this.Mu=e,this.byteLength=n}Ou(){return"metadata"in this.Mu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.Tt=e}Zi(e){return or(this.Tt,e)}Xi(e){return e.metadata.exists?GC(this.Tt,e.document,!1):Ve.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return lt(e)}}class u2{constructor(e,n,r){this.Fu=e,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NI(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++n;const r=we.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Lu(e){const n=new Map,r=new S1(this.Tt);for(const i of e)if(i.metadata.queries){const s=r.Zi(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||le()).add(s);n.set(o,a)}}return n}async complete(){const e=await FA(this.localStore,new S1(this.Tt),this.documents,this.Fu.id),n=this.Lu(this.documents);for(const r of this.queries)await BA(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:e}}}function NI(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.key=e}}class PI{constructor(e){this.key=e}}class AI{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=le(),this.mutatedKeys=le(),this.ju=TC(e),this.zu=new ho(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new w1,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Zl(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;h&&p?h.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),S=!0):this.Yu(h,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.ju(p,l)>0||u&&this.ju(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),S=!0):h&&!p&&(r.track({type:1,doc:h}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((u,c)=>function(d,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return p(d)-p(h)}(u.type,c.type)||this.ju(u.doc,c.doc)),this.Zu(r);const o=n?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,l=a!==this.Gu;return this.Gu=a,s.length!==0||l?{snapshot:new No(this.query,e.zu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new w1,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=le(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new PI(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new DI(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=le();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return No.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class c2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d2{constructor(e){this.key=e,this.ic=!1}}class h2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Ti(a=>CC(a),Jl),this.uc=new Map,this.cc=new Set,this.ac=new tt(z.comparator),this.hc=new Map,this.lc=new Ly,this.fc={},this.dc=new Map,this._c=vs.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function f2(t,e){const n=tv(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await Ro(n.localStore,Sn(e));n.isPrimaryClient&&nh(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Yy(n,e,r,a==="current",o.resumeToken)}return i}async function Yy(t,e,n,r,i){t.mc=(d,h,p)=>async function(g,v,S,y){let m=v.view.Hu(S);m.Li&&(m=await nd(g.localStore,v.query,!1).then(({documents:x})=>v.view.Hu(x,m)));const w=y&&y.targetChanges.get(v.targetId),E=v.view.applyChanges(m,g.isPrimaryClient,w);return Rm(g,v.targetId,E.tc),E.snapshot}(t,d,h,p);const s=await nd(t.localStore,e,!0),o=new AI(e,s.Yi),a=o.Hu(s.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Rm(t,n,u.tc);const c=new c2(e,n,o);return t.oc.set(e,c),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),u.snapshot}async function p2(t,e){const n=q(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!Jl(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $o(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_l(n.remoteStore,r.targetId),Do(n,r.targetId)}).catch(Ci)):(Do(n,r.targetId),await $o(n.localStore,r.targetId,!0))}async function m2(t,e,n){const r=nv(t);try{const i=await function(s,o){const a=q(s),l=Ge.now(),u=o.reduce((h,p)=>h.add(p.key),le());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=mn(),g=le();return a.ji.getEntries(h,u).next(v=>{p=v,p.forEach((S,y)=>{y.isValidDocument()||(g=g.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(v=>{c=v;const S=[];for(const y of o){const m=CP(y,c.get(y.key).overlayedDocument);m!=null&&S.push(new Tr(y.key,m,xC(m.value.mapValue),Ke.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,S,o)}).next(v=>{d=v;const S=v.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(h,v.batchId,S)})}).then(()=>({batchId:d.batchId,changes:BC(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.fc[s.currentUser.toKey()];l||(l=new tt(ae)),l=l.insert(o,a),s.fc[s.currentUser.toKey()]=l}(r,i.batchId,n),await kr(r,i.changes),await Go(r.remoteStore)}catch(i){const s=Qo(i,"Failed to persist write");n.reject(s)}}async function OI(t,e){const n=q(t);try{const r=await MA(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?Y(o.ic):i.removedDocuments.size>0&&(Y(o.ic),o.ic=!1))}),await kr(n,r,e)}catch(r){await Ci(r)}}function E1(t,e,n){const r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=q(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&Qy(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g2(t,e,n){const r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new tt(z.comparator);o=o.insert(s,Ve.newNoDocument(s,J.min()));const a=le().add(s),l=new tu(J.min(),new Map,new Ne(ae),o,a);await OI(r,l),r.ac=r.ac.remove(s),r.hc.delete(e),ev(r)}else await $o(r.localStore,e,!1).then(()=>Do(r,e,n)).catch(Ci)}async function y2(t,e){const n=q(t),r=e.batch.batchId;try{const i=await OA(n.localStore,e);Zy(n,r,null),Jy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kr(n,i)}catch(i){await Ci(i)}}async function v2(t,e,n){const r=q(t);try{const i=await function(s,o){const a=q(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Y(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Zy(r,e,n),Jy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kr(r,i)}catch(i){await Ci(i)}}async function w2(t,e){const n=q(t);ki(n.remoteStore)||M("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=q(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.dc.get(r)||[];i.push(e),n.dc.set(r,i)}catch(r){const i=Qo(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Jy(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function Zy(t,e,n){const r=q(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function Do(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||MI(t,r)})}function MI(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(_l(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),ev(t))}function Rm(t,e,n){for(const r of n)r instanceof DI?(t.lc.addReference(r.key,e),S2(t,r)):r instanceof PI?(M("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||MI(t,r.key)):K()}function S2(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(M("SyncEngine","New document in limbo: "+n),t.cc.add(r),ev(t))}function ev(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new z(we.fromString(e)),r=t._c.next();t.hc.set(r,new d2(n)),t.ac=t.ac.insert(n,r),nh(t.remoteStore,new ii(Sn(jo(n.path)),r,2,fn.at))}}async function kr(t,e,n){const r=q(t),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((a,l)=>{o.push(r.mc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Vy.Ni(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(a,l){const u=q(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>T.forEach(l,d=>T.forEach(d.Ci,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>T.forEach(d.xi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Ii(c))throw c;M("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ki.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);u.Ki=u.Ki.insert(d,g)}}}(r.localStore,s))}async function E2(t,e){const n=q(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(i,s){i.dc.forEach(o=>{o.forEach(a=>{a.reject(new O(_.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kr(n,r.Wi)}}function x2(t,e){const n=q(t),r=n.hc.get(e);if(r&&r.ic)return le().add(r.key);{let i=le();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}async function b2(t,e){const n=q(t),r=await nd(n.localStore,e.query,!0),i=e.view.nc(r);return n.isPrimaryClient&&Rm(n,e.targetId,i.tc),i}async function C2(t,e){const n=q(t);return EI(n.localStore,e).then(r=>kr(n,r))}async function I2(t,e,n,r){const i=q(t),s=await function(o,a){const l=q(o),u=q(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.An(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):T.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Go(i.remoteStore):n==="acknowledged"||n==="rejected"?(Zy(i,e,r||null),Jy(i,e),function(o,a){q(q(o).mutationQueue).Pn(a)}(i.localStore,e)):K(),await kr(i,s)):M("SyncEngine","Cannot apply mutation batch with id: "+e)}async function T2(t,e){const n=q(t);if(tv(n),nv(n),e===!0&&n.wc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await x1(n,r.toArray());n.wc=!0,await _m(n.remoteStore,!0);for(const s of i)nh(n.remoteStore,s)}else if(e===!1&&n.wc!==!1){const r=[];let i=Promise.resolve();n.uc.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Do(n,o),$o(n.localStore,o,!0))),_l(n.remoteStore,o)}),await i,await x1(n,r),function(s){const o=q(s);o.hc.forEach((a,l)=>{_l(o.remoteStore,l)}),o.lc._s(),o.hc=new Map,o.ac=new tt(z.comparator)}(n),n.wc=!1,await _m(n.remoteStore,!1)}}async function x1(t,e,n){const r=q(t),i=[],s=[];for(const o of e){let a;const l=r.uc.get(o);if(l&&l.length!==0){a=await Ro(r.localStore,Sn(l[0]));for(const u of l){const c=r.oc.get(u),d=await b2(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await SI(r.localStore,o);a=await Ro(r.localStore,u),await Yy(r,LI(u),o,!1,a.resumeToken)}i.push(a)}return r.rc.Ho(s),i}function LI(t){return bC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function k2(t){const e=q(t);return q(q(e.localStore).persistence).Si()}async function _2(t,e,n,r){const i=q(t);if(i.wc)return void M("SyncEngine","Ignoring unexpected query state notification.");const s=i.uc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await EI(i.localStore,IC(s[0])),a=tu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",vt.EMPTY_BYTE_STRING);await kr(i,o,a);break}case"rejected":await $o(i.localStore,e,!0),Do(i,e,r);break;default:K()}}async function R2(t,e,n){const r=tv(t);if(r.wc){for(const i of e){if(r.uc.has(i)){M("SyncEngine","Adding an already active target "+i);continue}const s=await SI(r.localStore,i),o=await Ro(r.localStore,s);await Yy(r,LI(s),o.targetId,!1,o.resumeToken),nh(r.remoteStore,o)}for(const i of n)r.uc.has(i)&&await $o(r.localStore,i,!1).then(()=>{_l(r.remoteStore,i),Do(r,i)}).catch(Ci)}}function tv(t){const e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g2.bind(null,e),e.rc.Ho=o2.bind(null,e.eventManager),e.rc.gc=a2.bind(null,e.eventManager),e}function nv(t){const e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,e),e}function $2(t,e,n){const r=q(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,h){const p=q(d),g=lt(h.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",v=>p.$s.getBundleMetadata(v,h.id)).then(v=>!!v&&v.createTime.compareTo(g)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(NI(a));const l=new u2(a,i.localStore,s.Tt);let u=await s.yc();for(;u;){const d=await l.Bu(u);d&&o._updateProgress(d),u=await s.yc()}const c=await l.complete();return await kr(i,c.Uu,void 0),await function(d,h){const p=q(d);return p.persistence.runTransaction("Save bundle","readwrite",g=>p.$s.saveBundleMetadata(g,h))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.qu)}catch(a){return xo("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class FI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=ru(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return gI(this.persistence,new mI,e.initialUser,this.Tt)}Tc(e){return new pI(th.qs,this.Tt)}Ic(e){return new bI}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BI extends FI{constructor(e,n,r){super(),this.Pc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Pc.initialize(this,e),await nv(this.Pc.syncEngine),await Go(this.Pc.remoteStore),await this.persistence.di(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ec(e){return gI(this.persistence,new mI,e.initialUser,this.Tt)}Ac(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new SA(r,e.asyncQueue,n)}Rc(e,n){const r=new rP(n,this.persistence);return new nP(e.asyncQueue,r)}Tc(e){const n=By(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Fy(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,CI(),fc(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new bI}}class N2 extends BI{constructor(e,n){super(e,n,!1),this.Pc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Pc.syncEngine;this.sharedClientState instanceof Tf&&(this.sharedClientState.syncEngine={Br:I2.bind(null,n),Lr:_2.bind(null,n),qr:R2.bind(null,n),Si:k2.bind(null,n),Fr:C2.bind(null,n)},await this.sharedClientState.start()),await this.persistence.di(async r=>{await T2(this.Pc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Ic(e){const n=CI();if(!Tf.C(n))throw new O(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=By(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tf(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class rv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E2.bind(null,this.syncEngine),await _m(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new s2}createDatastore(e){const n=ru(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new jA(i));var i;return function(s,o,a,l){return new KA(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>E1(this.syncEngine,a,0),o=y1.C()?new y1:new VA,new HA(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new h2(r,i,s,o,a,l);return u&&(c.wc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=q(e);M("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await Ko(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.Vc=e,this.Tt=n,this.metadata=new bt,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}async getMetadata(){return this.metadata.promise}async yc(){return await this.getMetadata(),this.Dc()}async Dc(){const e=await this.Cc();if(e===null)return null;const n=this.Sc.decode(e),r=Number(n);isNaN(r)&&this.xc(`length string (${n}) is not valid number`);const i=await this.Nc(r);return new l2(JSON.parse(i),e.length+r)}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Cc(){for(;this.kc()<0&&!await this.$c(););if(this.buffer.length===0)return null;const e=this.kc();e<0&&this.xc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Nc(e){for(;this.buffer.length<e;)await this.$c()&&this.xc("Reached the end of bundle when more is expected.");const n=this.Sc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}async $c(){const e=await this.Vc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new O(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=q(r),o=Tl(s.Tt)+"/documents",a={documents:i.map(d=>Il(s.Tt,d))},l=await s.mo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(d=>{const h=MP(s.Tt,d);u.set(h.key.toString(),h)});const c=[];return i.forEach(d=>{const h=u.get(d.toString());Y(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=z.fromPath(r);this.mutations.push(new Ry(i,this.precondition(i)))}),await async function(n,r){const i=q(n),s=Tl(i.Tt)+"/documents",o={writes:r.map(a=>kl(i.Tt,a))};await i.lo("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw K();n=J.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new O(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?Ke.exists(!1):Ke.updateTime(n):Ke.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new O(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ke.updateTime(n)}return Ke.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Mc=r.maxAttempts,this.ko=new Uy(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){this.ko.vo(async()=>{const e=new P2(this.datastore),n=this.Fc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Bc(i)}))}).catch(r=>{this.Bc(r)})})}Fc(e){try{const n=this.updateFunction(e);return!Xl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!MC(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=iC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{M("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qo(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function VI(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function zI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iv(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>v1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>v1(e.remoteStore,s)),t.onlineComponents=e}async function iv(t){return t.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),await VI(t,new FI)),t.offlineComponents}async function ih(t){return t.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),await zI(t,new rv)),t.onlineComponents}function UI(t){return iv(t).then(e=>e.persistence)}function sv(t){return iv(t).then(e=>e.localStore)}function jI(t){return ih(t).then(e=>e.remoteStore)}function ov(t){return ih(t).then(e=>e.syncEngine)}function M2(t){return ih(t).then(e=>e.datastore)}async function Po(t){const e=await ih(t),n=e.eventManager;return n.onListen=f2.bind(null,e.syncEngine),n.onUnlisten=p2.bind(null,e.syncEngine),n}function L2(t){return t.asyncQueue.enqueue(async()=>{const e=await UI(t),n=await jI(t);return e.setNetworkEnabled(!0),function(r){const i=q(r);return i.mu.delete(0),iu(i)}(n)})}function F2(t){return t.asyncQueue.enqueue(async()=>{const e=await UI(t),n=await jI(t);return e.setNetworkEnabled(!1),async function(r){const i=q(r);i.mu.add(0),await Ko(i),i.pu.set("Offline")}(n)})}function B2(t,e){const n=new bt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=q(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new O(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Qo(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await sv(t),e,n)),n.promise}function qI(t,e,n={}){const r=new bt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new rh({next:d=>{s.enqueueAndForget(()=>Hy(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new O(_.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new O(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Xy(jo(o.path),u,{includeMetadataChanges:!0,$u:!0});return Gy(i,c)}(await Po(t),t.asyncQueue,e,n,r)),r.promise}function V2(t,e){const n=new bt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await nd(r,i,!0),a=new AI(i,o.Yi),l=a.Hu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=Qo(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await sv(t),e,n)),n.promise}function WI(t,e,n={}){const r=new bt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new rh({next:d=>{s.enqueueAndForget(()=>Hy(i,c)),d.fromCache&&a.source==="server"?l.reject(new O(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Xy(o,u,{includeMetadataChanges:!0,$u:!0});return Gy(i,c)}(await Po(t),t.asyncQueue,e,n,r)),r.promise}function z2(t,e){const n=new rh(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){q(r).vu.add(i),i.next()}(await Po(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){q(r).vu.delete(i)}(await Po(t),n))}}function U2(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new D2(l,u)}(function(l,u){if(l instanceof Uint8Array)return b1(l,u);if(l instanceof ArrayBuffer)return b1(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,ru(e));t.asyncQueue.enqueueAndForget(async()=>{$2(await ov(t),i,r)})}function j2(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=q(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.$s.getNamedQuery(s,r))}(await sv(t),e))}const C1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e,n){if(!n)throw new O(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KI(t,e,n,r){if(e===!0&&r===!0)throw new O(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I1(t){if(!z.isDocumentKey(t))throw new O(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T1(t){if(z.isDocumentKey(t))throw new O(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function xe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sh(t);throw new O(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GI(t,e){if(e<=0)throw new O(_.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new O(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new qD;switch(n.type){case"gapi":const r=n.client;return new HD(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new O(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=C1.get(e);n&&(M("ComponentProvider","Removing Datastore"),C1.delete(e),n.terminate())}(this),Promise.resolve()}}function q2(t,e,n,r={}){var i;const s=(t=xe(t,su))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&xo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Et.MOCK_USER;else{o=c$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new O(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Et(l)}t._authCredentials=new WD(new rC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}}class Lt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lt(this.firestore,e,this._query)}}class ar extends Lt{constructor(e,n,r){super(e,n,jo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new z(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function HI(t,e,...n){if(t=ht(t),av("collection","path",e),t instanceof su){const r=we.fromString(e,...n);return T1(r),new ar(t,null,r)}{if(!(t instanceof Ue||t instanceof ar))throw new O(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return T1(r),new ar(t.firestore,null,r)}}function W2(t,e){if(t=xe(t,su),av("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(_.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lt(t,null,function(n){return new Ir(we.emptyPath(),n)}(e))}function od(t,e,...n){if(t=ht(t),arguments.length===1&&(e=iC.R()),av("doc","path",e),t instanceof su){const r=we.fromString(e,...n);return I1(r),new Ue(t,null,new z(r))}{if(!(t instanceof Ue||t instanceof ar))throw new O(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return I1(r),new Ue(t.firestore,t instanceof ar?t.converter:null,new z(r))}}function QI(t,e){return t=ht(t),e=ht(e),(t instanceof Ue||t instanceof ar)&&(e instanceof Ue||e instanceof ar)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function XI(t,e){return t=ht(t),e=ht(e),t instanceof Lt&&e instanceof Lt&&t.firestore===e.firestore&&Jl(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Uy(this,"async_queue_retry"),this.Hc=()=>{const n=fc();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=fc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=fc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new bt;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!Ii(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw st("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=Ky.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&K()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function $m(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class G2{constructor(){this._progressObserver={},this._taskCompletionResolver=new bt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=-1;class nt extends su{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new K2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YI(this),this._firestoreClient.terminate()}}function Tt(t){return t._firestoreClient||YI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YI(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new iP(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new O2(t._authCredentials,t._appCheckCredentials,t._queue,r)}function Q2(t,e){ZI(t=xe(t,nt));const n=Tt(t),r=t._freezeSettings(),i=new rv;return JI(n,i,new BI(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function X2(t){ZI(t=xe(t,nt));const e=Tt(t),n=t._freezeSettings(),r=new rv;return JI(e,r,new N2(r,n.cacheSizeBytes))}function JI(t,e,n){const r=new bt;return t.asyncQueue.enqueue(async()=>{try{await VI(t,n),await zI(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===_.FAILED_PRECONDITION||o.code===_.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;xo("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function Y2(t){if(t._initialized&&!t._terminated)throw new O(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!Kn.C())return Promise.resolve();const r=n+"main";await Kn.delete(r)}(By(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function J2(t){return function(e){const n=new bt;return e.asyncQueue.enqueueAndForget(async()=>w2(await ov(e),n)),n.promise}(Tt(t=xe(t,nt)))}function Z2(t){return L2(Tt(t=xe(t,nt)))}function eO(t){return F2(Tt(t=xe(t,nt)))}function tO(t,e){const n=Tt(t=xe(t,nt)),r=new G2;return U2(n,t._databaseId,e,r),r}function nO(t,e){return j2(Tt(t=xe(t,nt)),e).then(n=>n?new Lt(t,null,n.query):null)}function ZI(t){if(t._initialized||t._terminated)throw new O(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(vt.fromBase64String(e))}catch(n){throw new O(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ur(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=/^__.*__$/;class iO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new qo(e,this.data,n,this.fieldTransforms)}}class eT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class ah{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new ah(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return ad(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(tT(this.ra)&&rO.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class sO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||ru(e)}wa(e,n,r,i=!1){return new ah({ra:e,methodName:n,_a:r,path:ot.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function _s(t){const e=t._freezeSettings(),n=ru(t._databaseId);return new sO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lh(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);dv("Data must be an object, but it was:",o,r);const a=iT(r,o);let l,u;if(s.merge)l=new pn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Nm(e,d,n);if(!o.contains(h))throw new O(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);oT(c,h)||c.push(h)}l=new pn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new iO(new Pt(a),l,u)}class ou extends ks{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ou}}function nT(t,e,n){return new ah({ra:3,_a:e.settings._a,methodName:t._methodName,ca:n},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class lv extends ks{_toFieldTransform(e){return new eu(e.path,new To)}isEqual(e){return e instanceof lv}}class oO extends ks{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=nT(this,e,!0),r=this.ma.map(s=>Rs(s,n)),i=new ps(r);return new eu(e.path,i)}isEqual(e){return this===e}}class aO extends ks{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=nT(this,e,!0),r=this.ma.map(s=>Rs(s,n)),i=new ms(r);return new eu(e.path,i)}isEqual(e){return this===e}}class lO extends ks{constructor(e,n){super(e),this.ga=n}_toFieldTransform(e){const n=new ko(e.Tt,RC(e.Tt,this.ga));return new eu(e.path,n)}isEqual(e){return this===e}}function uv(t,e,n,r){const i=t.wa(1,e,n);dv("Data must be an object, but it was:",i,r);const s=[],o=Pt.empty();Ts(r,(l,u)=>{const c=hv(e,l,n);u=ht(u);const d=i.ha(c);if(u instanceof ou)s.push(c);else{const h=Rs(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new pn(s);return new eT(o,a,i.fieldTransforms)}function cv(t,e,n,r,i,s){const o=t.wa(1,e,n),a=[Nm(e,r,n)],l=[i];if(s.length%2!=0)throw new O(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Nm(e,s[h])),l.push(s[h+1]);const u=[],c=Pt.empty();for(let h=a.length-1;h>=0;--h)if(!oT(u,a[h])){const p=a[h];let g=l[h];g=ht(g);const v=o.ha(p);if(g instanceof ou)u.push(p);else{const S=Rs(g,v);S!=null&&(u.push(p),c.set(p,S))}}const d=new pn(u);return new eT(c,d,o.fieldTransforms)}function rT(t,e,n,r=!1){return Rs(n,t.wa(r?4:3,e))}function Rs(t,e){if(sT(t=ht(t)))return dv("Unsupported field value:",e,t),iT(t,e);if(t instanceof ks)return function(n,r){if(!tT(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Rs(o,r.la(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return RC(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ge.fromDate(n);return{timestampValue:_o(r.Tt,i)}}if(n instanceof Ge){const i=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_o(r.Tt,i)}}if(n instanceof oh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ur)return{bytesValue:jC(r.Tt,n._byteString)};if(n instanceof Ue){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$y(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${sh(n)}`)}(t,e)}function iT(t,e){const n={};return dC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(r,i)=>{const s=Rs(i,e.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof oh||t instanceof ur||t instanceof Ue||t instanceof ks)}function dv(t,e,n){if(!sT(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=sh(n);throw r==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+r)}}function Nm(t,e,n){if((e=ht(e))instanceof gi)return e._internalPath;if(typeof e=="string")return hv(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const uO=new RegExp("[~\\*/\\[\\]]");function hv(t,e,n){if(e.search(uO)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gi(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new O(_.INVALID_ARGUMENT,a+t+l)}function oT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends Rl{data(){return super.data()}}function uh(t,e){return typeof e=="string"?hv(t,e):e instanceof gi?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fv{}class au extends fv{}function Or(t,e,...n){let r=[];e instanceof fv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof pv).length,o=i.filter(a=>a instanceof ch).length;if(s>1||s>0&&o>0)throw new O(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ch extends au{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ch(e,n,r)}_apply(e){const n=this._parse(e);return uT(e._query,n),new Lt(e.firestore,e.converter,wm(e._query,n))}_parse(e){const n=_s(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new O(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){R1(c,u);const h=[];for(const p of c)h.push(_1(a,i,p));d={arrayValue:{values:h}}}else d=_1(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||R1(c,u),d=rT(o,s,c,u==="in"||u==="not-in");return pe.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dO(t,e,n){const r=e,i=uh("where",t);return ch._create(i,r,n)}class pv extends fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Te.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)uT(s,a),s=wm(s,a)}(e._query,n),new Lt(e.firestore,e.converter,wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mv extends au{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mv(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new O(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new O(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new co(i,s);return function(a,l){if(ky(a)===null){const u=Qd(a);u!==null&&cT(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Lt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ir(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function hO(t,e="asc"){const n=e,r=uh("orderBy",t);return mv._create(r,n)}class dh extends au{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dh(e,n,r)}_apply(e){return new Lt(e.firestore,e.converter,Jc(e._query,this._limit,this._limitType))}}function fO(t){return GI("limit",t),dh._create("limit",t,"F")}function pO(t){return GI("limitToLast",t),dh._create("limitToLast",t,"L")}class hh extends au{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hh(e,n,r)}_apply(e){const n=lT(e,this.type,this._docOrFields,this._inclusive);return new Lt(e.firestore,e.converter,function(r,i){return new Ir(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function mO(...t){return hh._create("startAt",t,!0)}function gO(...t){return hh._create("startAfter",t,!1)}class fh extends au{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new fh(e,n,r)}_apply(e){const n=lT(e,this.type,this._docOrFields,this._inclusive);return new Lt(e.firestore,e.converter,function(r,i){return new Ir(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function yO(...t){return fh._create("endBefore",t,!1)}function vO(...t){return fh._create("endAt",t,!0)}function lT(t,e,n,r){if(n[0]=ht(n[0]),n[0]instanceof Rl)return function(i,s,o,a,l){if(!a)throw new O(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Zi(i))if(c.field.isKeyField())u.push(hs(s,a.key));else{const d=a.data.field(c.field);if(Iy(d))throw new O(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new O(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new pi(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=_s(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new O(_.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let p=0;p<u.length;p++){const g=u[p];if(d[p].field.isKeyField()){if(typeof g!="string")throw new O(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!_y(s)&&g.indexOf("/")!==-1)throw new O(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);const v=s.path.child(we.fromString(g));if(!z.isDocumentKey(v))throw new O(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const S=new z(v);h.push(hs(o,S))}else{const v=rT(a,l,g);h.push(v)}}return new pi(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function _1(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new O(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_y(e)&&n.indexOf("/")!==-1)throw new O(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!z.isDocumentKey(r))throw new O(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hs(t,new z(r))}if(n instanceof Ue)return hs(t,n._key);throw new O(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(n)}.`)}function R1(t,e){if(!Array.isArray(t)||t.length===0)throw new O(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uT(t,e){if(e.isInequality()){const r=Qd(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new O(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=ky(t);s!==null&&cT(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function cT(t,e,n){if(!n.isEqual(e))throw new O(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class gv{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){const r={};return Ts(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new oh(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=hi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);Y(ZC(r));const i=new di(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(n)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wO extends gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xr extends Rl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wa extends xr{data(e={}){return super.data(e)}}class yi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wa(this._firestore,this._userDataWriter,r.key,r,new Ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Wa(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ki(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Wa(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ki(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:SO(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function dT(t,e){return t instanceof xr&&e instanceof xr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof yi&&e instanceof yi&&t._firestore===e._firestore&&XI(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){t=xe(t,Ue);const e=xe(t.firestore,nt);return qI(Tt(e),t._key).then(n=>yv(e,t,n))}class $s extends gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function xO(t){t=xe(t,Ue);const e=xe(t.firestore,nt),n=Tt(e),r=new $s(e);return B2(n,t._key).then(i=>new xr(e,r,t._key,i,new Ki(i!==null&&i.hasLocalMutations,!0),t.converter))}function bO(t){t=xe(t,Ue);const e=xe(t.firestore,nt);return qI(Tt(e),t._key,{source:"server"}).then(n=>yv(e,t,n))}function CO(t){t=xe(t,Lt);const e=xe(t.firestore,nt),n=Tt(e),r=new $s(e);return aT(t._query),WI(n,t._query).then(i=>new yi(e,r,t,i))}function IO(t){t=xe(t,Lt);const e=xe(t.firestore,nt),n=Tt(e),r=new $s(e);return V2(n,t._query).then(i=>new yi(e,r,t,i))}function TO(t){t=xe(t,Lt);const e=xe(t.firestore,nt),n=Tt(e),r=new $s(e);return WI(n,t._query,{source:"server"}).then(i=>new yi(e,r,t,i))}function $1(t,e,n){t=xe(t,Ue);const r=xe(t.firestore,nt),i=ph(t.converter,e,n);return lu(r,[lh(_s(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ke.none())])}function N1(t,e,n,...r){t=xe(t,Ue);const i=xe(t.firestore,nt),s=_s(i);let o;return o=typeof(e=ht(e))=="string"||e instanceof gi?cv(s,"updateDoc",t._key,e,n,r):uv(s,"updateDoc",t._key,e),lu(i,[o.toMutation(t._key,Ke.exists(!0))])}function kO(t){return lu(xe(t.firestore,nt),[new Wo(t._key,Ke.none())])}function _O(t,e){const n=xe(t.firestore,nt),r=od(t),i=ph(t.converter,e);return lu(n,[lh(_s(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function hT(t,...e){var n,r,i;t=ht(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||$m(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($m(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Ue)u=xe(t.firestore,nt),c=jo(t._key.path),l={next:d=>{e[o]&&e[o](yv(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=xe(t,Lt);u=xe(d.firestore,nt),c=d._query;const h=new $s(u);l={next:p=>{e[o]&&e[o](new yi(u,h,d,p))},error:e[o+1],complete:e[o+2]},aT(t._query)}return function(d,h,p,g){const v=new rh(g),S=new Xy(h,v,p);return d.asyncQueue.enqueueAndForget(async()=>Gy(await Po(d),S)),()=>{v.bc(),d.asyncQueue.enqueueAndForget(async()=>Hy(await Po(d),S))}}(Tt(u),c,a,l)}function RO(t,e){return z2(Tt(t=xe(t,nt)),$m(e)?e:{next:e})}function lu(t,e){return function(n,r){const i=new bt;return n.asyncQueue.enqueueAndForget(async()=>m2(await ov(n),r,i)),i.promise}(Tt(t),e)}function yv(t,e,n){const r=n.docs.get(e._key),i=new $s(t);return new xr(t,i,e._key,r,new Ki(n.hasPendingWrites,n.fromCache),e.converter)}const $O={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_s(e)}set(e,n,r){this._verifyNotCommitted();const i=jr(e,this._firestore),s=ph(i.converter,n,r),o=lh(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ke.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=jr(e,this._firestore);let o;return o=typeof(n=ht(n))=="string"||n instanceof gi?cv(this._dataReader,"WriteBatch.update",s._key,n,r,i):uv(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ke.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jr(e,this._firestore);return this._mutations=this._mutations.concat(new Wo(n._key,Ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jr(t,e){if((t=ht(t)).firestore!==e)throw new O(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=_s(e)}get(e){const n=jr(e,this._firestore),r=new wO(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return K();const s=i[0];if(s.isFoundDocument())return new Rl(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Rl(this._firestore,r,n._key,null,n.converter);throw K()})}set(e,n,r){const i=jr(e,this._firestore),s=ph(i.converter,n,r),o=lh(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=jr(e,this._firestore);let o;return o=typeof(n=ht(n))=="string"||n instanceof gi?cv(this._dataReader,"Transaction.update",s._key,n,r,i):uv(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=jr(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=jr(e,this._firestore),r=new $s(this._firestore);return super.get(e).then(i=>new xr(this._firestore,r,n._key,i._document,new Ki(!1,!1),n.converter))}}function PO(t,e,n){t=xe(t,nt);const r=Object.assign(Object.assign({},$O),n);return function(i){if(i.maxAttempts<1)throw new O(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new bt;return i.asyncQueue.enqueueAndForget(async()=>{const l=await M2(i);new A2(i.asyncQueue,l,o,s,a).run()}),a.promise}(Tt(t),i=>e(new DO(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return new ou("deleteField")}function OO(){return new lv("serverTimestamp")}function MO(...t){return new oO("arrayUnion",t)}function LO(...t){return new aO("arrayRemove",t)}function FO(t){return new lO("increment",t)}(function(t,e=!0){(function(n){Uo=n})(Zg),So(new ls("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new nt(new KD(n.getProvider("auth-internal")),new XD(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new O(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new di(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ri(_w,"3.9.0",t),ri(_w,"3.9.0","esm2017")})();const BO="@firebase/firestore-compat",VO="0.3.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function P1(){if(!oP())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}class $l{constructor(e){this._delegate=e}static fromBase64String(e){return P1(),new $l(ur.fromBase64String(e))}static fromUint8Array(e){return D1(),new $l(ur.fromUint8Array(e))}toBase64(){return P1(),this._delegate.toBase64()}toUint8Array(){return D1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return zO(t,["next","error","complete"])}function zO(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{enableIndexedDbPersistence(e,n){return Q2(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return X2(e._delegate)}clearIndexedDbPersistence(e){return Y2(e._delegate)}}class fT{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof di||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&xo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){q2(this._delegate,e,n,r)}enableNetwork(){return Z2(this._delegate)}disableNetwork(){return eO(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,KI("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return J2(this._delegate)}onSnapshotsInSync(e){return RO(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ao(this,HI(this._delegate,e))}catch(n){throw Zt(n,"collection()","Firestore.collection()")}}doc(e){try{return new Mn(this,od(this._delegate,e))}catch(n){throw Zt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jt(this,W2(this._delegate,e))}catch(n){throw Zt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return PO(this._delegate,n=>e(new pT(this,n)))}batch(){return Tt(this._delegate),new mT(new NO(this._delegate,e=>lu(this._delegate,e)))}loadBundle(e){return tO(this._delegate,e)}namedQuery(e){return nO(this._delegate,e).then(n=>n?new Jt(this,n):null)}}class mh extends gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(new ur(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Mn.forKey(n,this.firestore,null)}}function jO(t){UD(t)}class pT{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new mh(e)}get(e){const n=Gi(e);return this._delegate.get(n).then(r=>new Nl(this._firestore,new xr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Gi(e);return r?(vv("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Gi(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Gi(e);return this._delegate.delete(n),this}}class mT{constructor(e){this._delegate=e}set(e,n,r){const i=Gi(e);return r?(vv("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Gi(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Gi(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ws{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Wa(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dl(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ws.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ws(e,new mh(e),n),i.set(n,s)),s}}ws.INSTANCES=new WeakMap;class Mn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mh(e)}static forPath(e,n,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Mn(n,new Ue(n._delegate,r,new z(e)))}static forKey(e,n,r){return new Mn(n,new Ue(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ao(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ao(this.firestore,HI(this._delegate,e))}catch(n){throw Zt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ht(e),e instanceof Ue?QI(this._delegate,e):!1}set(e,n){n=vv("DocumentReference.set",n);try{return n?$1(this._delegate,e,n):$1(this._delegate,e)}catch(r){throw Zt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?N1(this._delegate,e):N1(this._delegate,e,n,...r)}catch(i){throw Zt(i,"updateDoc()","DocumentReference.update()")}}delete(){return kO(this._delegate)}onSnapshot(...e){const n=gT(e),r=yT(e,i=>new Nl(this.firestore,new xr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return hT(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=xO(this._delegate):(e==null?void 0:e.source)==="server"?n=bO(this._delegate):n=EO(this._delegate),n.then(r=>new Nl(this.firestore,new xr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Mn(this.firestore,e?this._delegate.withConverter(ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zt(t,e,n){return t.message=t.message.replace(e,n),t}function gT(t){for(const e of t)if(typeof e=="object"&&!Dm(e))return e;return{}}function yT(t,e){var n,r;let i;return Dm(t[0])?i=t[0]:Dm(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Nl{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Mn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return dT(this._delegate,e._delegate)}}class Dl extends Nl{data(e){const n=this._delegate.data(e);return jD(n!==void 0),n}}class Jt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mh(e)}where(e,n,r){try{return new Jt(this.firestore,Or(this._delegate,dO(e,n,r)))}catch(i){throw Zt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Jt(this.firestore,Or(this._delegate,hO(e,n)))}catch(r){throw Zt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jt(this.firestore,Or(this._delegate,fO(e)))}catch(n){throw Zt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Jt(this.firestore,Or(this._delegate,pO(e)))}catch(n){throw Zt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jt(this.firestore,Or(this._delegate,mO(...e)))}catch(n){throw Zt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jt(this.firestore,Or(this._delegate,gO(...e)))}catch(n){throw Zt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jt(this.firestore,Or(this._delegate,yO(...e)))}catch(n){throw Zt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jt(this.firestore,Or(this._delegate,vO(...e)))}catch(n){throw Zt(n,"endAt()","Query.endAt()")}}isEqual(e){return XI(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=IO(this._delegate):(e==null?void 0:e.source)==="server"?n=TO(this._delegate):n=CO(this._delegate),n.then(r=>new Pm(this.firestore,new yi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=gT(e),r=yT(e,i=>new Pm(this.firestore,new yi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return hT(this._delegate,n,r)}withConverter(e){return new Jt(this.firestore,e?this._delegate.withConverter(ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class qO{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Dl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pm{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Jt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new qO(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Dl(this._firestore,r))})}isEqual(e){return dT(this._delegate,e._delegate)}}class Ao extends Jt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Mn(this.firestore,e):null}doc(e){try{return e===void 0?new Mn(this.firestore,od(this._delegate)):new Mn(this.firestore,od(this._delegate,e))}catch(n){throw Zt(n,"doc()","CollectionReference.doc()")}}add(e){return _O(this._delegate,e).then(n=>new Mn(this.firestore,n))}isEqual(e){return QI(this._delegate,e._delegate)}withConverter(e){return new Ao(this.firestore,e?this._delegate.withConverter(ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gi(t){return xe(t,Ue)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(...e){this._delegate=new gi(...e)}static documentId(){return new wv(ot.keyField().canonicalString())}isEqual(e){return e=ht(e),e instanceof gi?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._delegate=e}static serverTimestamp(){const e=OO();return e._methodName="FieldValue.serverTimestamp",new Bi(e)}static delete(){const e=AO();return e._methodName="FieldValue.delete",new Bi(e)}static arrayUnion(...e){const n=MO(...e);return n._methodName="FieldValue.arrayUnion",new Bi(n)}static arrayRemove(...e){const n=LO(...e);return n._methodName="FieldValue.arrayRemove",new Bi(n)}static increment(e){const n=FO(e);return n._methodName="FieldValue.increment",new Bi(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={Firestore:fT,GeoPoint:oh,Timestamp:Ge,Blob:$l,Transaction:pT,WriteBatch:mT,DocumentReference:Mn,DocumentSnapshot:Nl,Query:Jt,QueryDocumentSnapshot:Dl,QuerySnapshot:Pm,CollectionReference:Ao,FieldPath:wv,FieldValue:Bi,setLogLevel:jO,CACHE_SIZE_UNLIMITED:H2};function KO(t,e){t.INTERNAL.registerComponent(new ls("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},WO)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){KO(t,(e,n)=>new fT(e,n,new UO)),t.registerVersion(BO,VO)}GO(Dd);Dd.initializeApp({apiKey:"AIzaSyBBI5pp8k_acYVn83vSdava18Aj9JJWVI0",authDomain:"quiz-9c685.firebaseapp.com",projectId:"quiz-9c685",storageBucket:"quiz-9c685.appspot.com",messagingSenderId:"378619665748",appId:"1:378619665748:web:6f41afa548572b5cb4bcc1",measurementId:"G-XBY1TSR48W"});const es=Dd.firestore();var HO={black:"#000",white:"#fff"};const ld=HO;var QO={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const _f=QO;var XO={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const Rf=XO;var YO={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const $f=YO;var JO={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const Nf=JO;var ZO={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const Df=ZO;var eM={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const Pf=eM;var tM={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const Sv=tM;function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R.apply(this,arguments)}function Ss(t){return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function Af(t){return t&&Ss(t)==="object"&&t.constructor===Object}function Oo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?R({},t):t;return Af(t)&&Af(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(Af(e[i])&&i in t?r[i]=Oo(t[i],e[i],n):r[i]=e[i])}),r}function nM(t,e){if(Ss(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ss(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vT(t){var e=nM(t,"string");return Ss(e)==="symbol"?e:String(e)}function Zn(t,e,n){return e=vT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mo(t){for(var e="https://mui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}function Ev(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,t),n)}function rM(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function iM(t){t=Es(t);var e=t,n=e.values,r=n[0],i=n[1]/100,s=n[2]/100,o=i*Math.min(s,1-s),a=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(d+r/30)%12;return s-o*Math.max(Math.min(h-3,9-h,1),-1)},l="rgb",u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(l+="a",u.push(n[3])),gh({type:l,values:u})}function Es(t){if(t.type)return t;if(t.charAt(0)==="#")return Es(rM(t));var e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(Mo(3,t));var r=t.substring(e+1,t.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:n,values:r}}function gh(t){var e=t.type,n=t.values;return e.indexOf("rgb")!==-1?n=n.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function sM(t,e){var n=A1(t),r=A1(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function A1(t){t=Es(t);var e=t.type==="hsl"?Es(iM(t)).values:t.values;return e=e.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Dn(t,e){return t=Es(t),e=Ev(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.values[3]=e,gh(t)}function oM(t,e){if(t=Es(t),e=Ev(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]*=1-e;return gh(t)}function aM(t,e){if(t=Es(t),e=Ev(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return gh(t)}function yh(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function te(t,e){if(t==null)return{};var n=yh(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Mr=["xs","sm","md","lg","xl"];function lM(t){var e=t.values,n=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,i=r===void 0?"px":r,s=t.step,o=s===void 0?5:s,a=te(t,["values","unit","step"]);function l(p){var g=typeof n[p]=="number"?n[p]:p;return"@media (min-width:".concat(g).concat(i,")")}function u(p){var g=Mr.indexOf(p)+1,v=n[Mr[g]];if(g===Mr.length)return l("xs");var S=typeof v=="number"&&g>0?v:p;return"@media (max-width:".concat(S-o/100).concat(i,")")}function c(p,g){var v=Mr.indexOf(g);return v===Mr.length-1?l(p):"@media (min-width:".concat(typeof n[p]=="number"?n[p]:p).concat(i,") and ")+"(max-width:".concat((v!==-1&&typeof n[Mr[v+1]]=="number"?n[Mr[v+1]]:g)-o/100).concat(i,")")}function d(p){return c(p,p)}function h(p){return n[p]}return R({keys:Mr,values:n,up:l,down:u,between:c,only:d,width:h},a)}function uM(t,e,n){var r;return R({gutters:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),R({paddingLeft:e(2),paddingRight:e(2)},s,Zn({},t.up("sm"),R({paddingLeft:e(3),paddingRight:e(3)},s[t.up("sm")])))},toolbar:(r={minHeight:56},Zn(r,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Zn(r,t.up("sm"),{minHeight:64}),r)},n)}var O1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ld.white,default:Sv[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Of={text:{primary:ld.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Sv[800],default:"#303030"},action:{active:ld.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function M1(t,e,n,r){var i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=aM(t.main,i):e==="dark"&&(t.dark=oM(t.main,s)))}function cM(t){var e=t.primary,n=e===void 0?{light:$f[300],main:$f[500],dark:$f[700]}:e,r=t.secondary,i=r===void 0?{light:Rf.A200,main:Rf.A400,dark:Rf.A700}:r,s=t.error,o=s===void 0?{light:_f[300],main:_f[500],dark:_f[700]}:s,a=t.warning,l=a===void 0?{light:Pf[300],main:Pf[500],dark:Pf[700]}:a,u=t.info,c=u===void 0?{light:Nf[300],main:Nf[500],dark:Nf[700]}:u,d=t.success,h=d===void 0?{light:Df[300],main:Df[500],dark:Df[700]}:d,p=t.type,g=p===void 0?"light":p,v=t.contrastThreshold,S=v===void 0?3:v,y=t.tonalOffset,m=y===void 0?.2:y,w=te(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function E(k){var N=sM(k,Of.text.primary)>=S?Of.text.primary:O1.text.primary;return N}var x=function(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(N=R({},N),!N.main&&N[D]&&(N.main=N[D]),!N.main)throw new Error(Mo(4,D));if(typeof N.main!="string")throw new Error(Mo(5,JSON.stringify(N.main)));return M1(N,"light",V,m),M1(N,"dark",W,m),N.contrastText||(N.contrastText=E(N.main)),N},b={dark:Of,light:O1},C=Oo(R({common:ld,type:g,primary:x(n),secondary:x(i,"A400","A200","A700"),error:x(o),warning:x(l),info:x(c),success:x(h),grey:Sv,contrastThreshold:S,getContrastText:E,augmentColor:x,tonalOffset:m},b[g]),w);return C}function wT(t){return Math.round(t*1e5)/1e5}function dM(t){return wT(t)}var L1={textTransform:"uppercase"},F1='"Roboto", "Helvetica", "Arial", sans-serif';function hM(t,e){var n=typeof e=="function"?e(t):e,r=n.fontFamily,i=r===void 0?F1:r,s=n.fontSize,o=s===void 0?14:s,a=n.fontWeightLight,l=a===void 0?300:a,u=n.fontWeightRegular,c=u===void 0?400:u,d=n.fontWeightMedium,h=d===void 0?500:d,p=n.fontWeightBold,g=p===void 0?700:p,v=n.htmlFontSize,S=v===void 0?16:v,y=n.allVariants,m=n.pxToRem,w=te(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),E=o/14,x=m||function(k){return"".concat(k/S*E,"rem")},b=function(N,D,V,W,Z){return R({fontFamily:i,fontWeight:N,fontSize:x(D),lineHeight:V},i===F1?{letterSpacing:"".concat(wT(W/D),"em")}:{},Z,y)},C={h1:b(l,96,1.167,-1.5),h2:b(l,60,1.2,-.5),h3:b(c,48,1.167,0),h4:b(c,34,1.235,.25),h5:b(c,24,1.334,0),h6:b(h,20,1.6,.15),subtitle1:b(c,16,1.75,.15),subtitle2:b(h,14,1.57,.1),body1:b(c,16,1.5,.15),body2:b(c,14,1.43,.15),button:b(h,14,1.75,.4,L1),caption:b(c,12,1.66,.4),overline:b(c,12,2.66,1,L1)};return Oo(R({htmlFontSize:S,pxToRem:x,round:dM,fontFamily:i,fontSize:o,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:h,fontWeightBold:g},C),w,{clone:!1})}var fM=.2,pM=.14,mM=.12;function je(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(fM,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(pM,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(mM,")")].join(",")}var gM=["none",je(0,2,1,-1,0,1,1,0,0,1,3,0),je(0,3,1,-2,0,2,2,0,0,1,5,0),je(0,3,3,-2,0,3,4,0,0,1,8,0),je(0,2,4,-1,0,4,5,0,0,1,10,0),je(0,3,5,-1,0,5,8,0,0,1,14,0),je(0,3,5,-1,0,6,10,0,0,1,18,0),je(0,4,5,-2,0,7,10,1,0,2,16,1),je(0,5,5,-3,0,8,10,1,0,3,14,2),je(0,5,6,-3,0,9,12,1,0,3,16,2),je(0,6,6,-3,0,10,14,1,0,4,18,3),je(0,6,7,-4,0,11,15,1,0,4,20,3),je(0,7,8,-4,0,12,17,2,0,5,22,4),je(0,7,8,-4,0,13,19,2,0,5,24,4),je(0,7,9,-4,0,14,21,2,0,5,26,4),je(0,8,9,-5,0,15,22,2,0,6,28,5),je(0,8,10,-5,0,16,24,2,0,6,30,5),je(0,8,11,-5,0,17,26,2,0,6,32,5),je(0,9,11,-5,0,18,28,2,0,7,34,6),je(0,9,12,-6,0,19,29,2,0,7,36,6),je(0,10,13,-6,0,20,31,3,0,8,38,7),je(0,10,13,-6,0,21,33,3,0,8,40,7),je(0,10,14,-6,0,22,35,3,0,8,42,7),je(0,11,14,-7,0,23,36,3,0,9,44,8),je(0,11,15,-7,0,24,38,3,0,9,46,8)];const yM=gM;var vM={borderRadius:4};const wM=vM;function Am(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SM(t){if(Array.isArray(t))return Am(t)}function EM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ST(t,e){if(t){if(typeof t=="string")return Am(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Am(t,e)}}function xM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xv(t){return SM(t)||EM(t)||ST(t)||xM()}function bM(t){if(Array.isArray(t))return t}function CM(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function IM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bv(t,e){return bM(t)||CM(t,e)||ST(t,e)||IM()}function TM(t){var e=t.spacing||8;return typeof e=="number"?function(n){return e*n}:Array.isArray(e)?function(n){return e[n]}:typeof e=="function"?e:function(){}}function kM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(t.mui)return t;var e=TM({spacing:t}),n=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.length===0?e(1):s.length===1?e(s[0]):s.map(function(a){if(typeof a=="string")return a;var l=e(a);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var B1={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},V1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function z1(t){return"".concat(Math.round(t),"ms")}const _M={easing:B1,duration:V1,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,i=r===void 0?V1.standard:r,s=n.easing,o=s===void 0?B1.easeInOut:s,a=n.delay,l=a===void 0?0:a;return te(n,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(u){return"".concat(u," ").concat(typeof i=="string"?i:z1(i)," ").concat(o," ").concat(typeof l=="string"?l:z1(l))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var n=e/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var RM={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const ET=RM;function $M(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.breakpoints,n=e===void 0?{}:e,r=t.mixins,i=r===void 0?{}:r,s=t.palette,o=s===void 0?{}:s,a=t.spacing,l=t.typography,u=l===void 0?{}:l,c=te(t,["breakpoints","mixins","palette","spacing","typography"]),d=cM(o),h=lM(n),p=kM(a),g=Oo({breakpoints:h,direction:"ltr",mixins:uM(h,p,i),overrides:{},palette:d,props:{},shadows:yM,typography:hM(d,u),spacing:p,shape:wM,transitions:_M,zIndex:ET},c),v=arguments.length,S=new Array(v>1?v-1:0),y=1;y<v;y++)S[y-1]=arguments[y];return g=S.reduce(function(m,w){return Oo(m,w)},g),g}var NM=typeof Symbol=="function"&&Symbol.for;const DM=NM?Symbol.for("mui.nested"):"__THEME_NESTED__";var PM=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function AM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.disableGlobal,n=e===void 0?!1:e,r=t.productionPrefix,i=r===void 0?"jss":r,s=t.seed,o=s===void 0?"":s,a=o===""?"":"".concat(o,"-"),l=0,u=function(){return l+=1,l};return function(c,d){var h=d.options.name;if(h&&h.indexOf("Mui")===0&&!d.options.link&&!n){if(PM.indexOf(c.key)!==-1)return"Mui-".concat(c.key);var p="".concat(a).concat(h,"-").concat(c.key);return!d.options.theme[DM]||o!==""?p:"".concat(p,"-").concat(u())}return"".concat(a).concat(i).concat(u())}}function xT(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var i=e.props[n],s;for(s in i)r[s]===void 0&&(r[s]=i[s]);return r}var U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu=(typeof window>"u"?"undefined":U1(window))==="object"&&(typeof document>"u"?"undefined":U1(document))==="object"&&document.nodeType===9;function j1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vT(r.key),r)}}function Cv(t,e,n){return e&&j1(t.prototype,e),n&&j1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Om(t,e){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Om(t,e)}function vh(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Om(t,e)}function Mm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var OM={}.constructor;function Lm(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(Lm);if(t.constructor!==OM)return t;var e={};for(var n in t)e[n]=Lm(t[n]);return e}function Iv(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,i=Lm(e),s=r.plugins.onCreateRule(t,i,n);return s||(t[0],null)}var q1=function(e,n){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=n),r+=e[i];return r},ts=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=q1(e[r]," ");else n=q1(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Xo(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function ya(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function Pl(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var i=n,s=i.indent,o=s===void 0?0:s,a=e.fallbacks;n.format===!1&&(o=-1/0);var l=Xo(n),u=l.linebreak,c=l.space;if(t&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var h=a[d];for(var p in h){var g=h[p];g!=null&&(r&&(r+=u),r+=ya(p+":"+c+ts(g)+";",o))}}else for(var v in a){var S=a[v];S!=null&&(r&&(r+=u),r+=ya(v+":"+c+ts(S)+";",o))}for(var y in e){var m=e[y];m!=null&&y!=="fallbacks"&&(r&&(r+=u),r+=ya(y+":"+c+ts(m)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+u+r+u),ya(""+t+c+"{"+r,o)+ya("}",o))}var MM=/([[\].#*$><+~=|^:(),"'`\s])/g,W1=typeof CSS<"u"&&CSS.escape,Tv=function(t){return W1?W1(t):t.replace(MM,"\\$1")},bT=function(){function t(n,r,i){this.type="style",this.isProcessed=!1;var s=i.sheet,o=i.Renderer;this.key=n,this.options=i,this.style=r,s?this.renderer=s.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,i,s){if(i===void 0)return this.style[r];var o=s?s.force:!1;if(!o&&this.style[r]===i)return this;var a=i;(!s||s.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,u=r in this.style;if(l&&!u&&!o)return this;var c=l&&u;if(c?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return c?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},t}(),Fm=function(t){vh(e,t);function e(r,i,s){var o;o=t.call(this,r,i,s)||this;var a=s.selector,l=s.scoped,u=s.sheet,c=s.generateId;return a?o.selectorText=a:l!==!1&&(o.id=c(Mm(Mm(o)),u),o.selectorText="."+Tv(o.id)),o}var n=e.prototype;return n.applyTo=function(i){var s=this.renderer;if(s){var o=this.toJSON();for(var a in o)s.setProperty(i,a,o[a])}return this},n.toJSON=function(){var i={};for(var s in this.style){var o=this.style[s];typeof o!="object"?i[s]=o:Array.isArray(o)&&(i[s]=ts(o))}return i},n.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?R({},i,{allowEmpty:!0}):i;return Pl(this.selectorText,this.style,a)},Cv(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var s=this.renderer,o=this.renderable;if(!(!o||!s)){var a=s.setSelector(o,i);a||s.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(bT),LM={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new Fm(e,n,r)}},Mf={indent:1,children:!0},FM=/@([\w-]+)/,BM=function(){function t(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var s=n.match(FM);this.at=s?s[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new wh(R({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=Mf);var i=Xo(r),s=i.linebreak;if(r.indent==null&&(r.indent=Mf.indent),r.children==null&&(r.children=Mf.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+s+o+s+"}":""},t}(),VM=/@container|@media|@supports\s+/,zM={onCreateRule:function(e,n,r){return VM.test(e)?new BM(e,n,r):null}},Lf={indent:1,children:!0},UM=/@keyframes\s+([\w-]+)/,Bm=function(){function t(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var s=n.match(UM);s&&s[1]?this.name=s[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var o=i.scoped,a=i.sheet,l=i.generateId;this.id=o===!1?this.name:Tv(l(this,a)),this.rules=new wh(R({},i,{parent:this}));for(var u in r)this.rules.add(u,r[u],R({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=Lf);var i=Xo(r),s=i.linebreak;if(r.indent==null&&(r.indent=Lf.indent),r.children==null&&(r.children=Lf.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+s+o+s),this.at+" "+this.id+" {"+o+"}"},t}(),jM=/@keyframes\s+/,qM=/\$([\w-]+)/g,Vm=function(e,n){return typeof e=="string"?e.replace(qM,function(r,i){return i in n?n[i]:r}):e},K1=function(e,n,r){var i=e[n],s=Vm(i,r);s!==i&&(e[n]=s)},WM={onCreateRule:function(e,n,r){return typeof e=="string"&&jM.test(e)?new Bm(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&K1(e,"animation-name",r.keyframes),"animation"in e&&K1(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var i=r.options.sheet;if(!i)return e;switch(n){case"animation":return Vm(e,i.keyframes);case"animation-name":return Vm(e,i.keyframes);default:return e}}},KM=function(t){vh(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?R({},i,{allowEmpty:!0}):i;return Pl(this.key,this.style,a)},e}(bT),GM={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new KM(e,n,r):null}},HM=function(){function t(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){var i=Xo(r),s=i.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=Pl(this.at,this.style[a]),this.style[a+1]&&(o+=s);return o}return Pl(this.at,this.style,r)},t}(),QM=/@font-face/,XM={onCreateRule:function(e,n,r){return QM.test(e)?new HM(e,n,r):null}},YM=function(){function t(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){return Pl(this.key,this.style,r)},t}(),JM={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new YM(e,n,r):null}},ZM=function(){function t(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",s=0;s<this.value.length;s++)i+=this.key+" "+this.value[s]+";",this.value[s+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),eL={"@charset":!0,"@import":!0,"@namespace":!0},tL={onCreateRule:function(e,n,r){return e in eL?new ZM(e,n,r):null}},G1=[LM,zM,WM,GM,XM,JM,tL],nL={process:!0},H1={force:!0,process:!0},wh=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,i,s){var o=this.options,a=o.parent,l=o.sheet,u=o.jss,c=o.Renderer,d=o.generateId,h=o.scoped,p=R({classes:this.classes,parent:a,sheet:l,jss:u,Renderer:c,generateId:d,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},s),g=r;r in this.raw&&(g=r+"-d"+this.counter++),this.raw[g]=i,g in this.classes&&(p.selector="."+Tv(this.classes[g]));var v=Iv(g,i,p);if(!v)return null;this.register(v);var S=p.index===void 0?this.index.length:p.index;return this.index.splice(S,0,v),v},e.replace=function(r,i,s){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var l=s;return a!==-1&&(l=R({},s,{index:a})),this.add(r,i,l)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof Fm?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof Bm&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof Fm?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof Bm&&delete this.keyframes[r.name]},e.update=function(){var r,i,s;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],s=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,s);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],i,s)},e.updateOne=function(r,i,s){s===void 0&&(s=nL);var o=this.options,a=o.jss.plugins,l=o.sheet;if(r.rules instanceof t){r.rules.update(i,s);return}var u=r.style;if(a.onUpdate(i,r,l,s),s.process&&u&&u!==r.style){a.onProcessStyle(r.style,r,l);for(var c in r.style){var d=r.style[c],h=u[c];d!==h&&r.prop(c,d,H1)}for(var p in u){var g=r.style[p],v=u[p];g==null&&g!==v&&r.prop(p,null,H1)}}},e.toString=function(r){for(var i="",s=this.options.sheet,o=s?s.options.link:!1,a=Xo(r),l=a.linebreak,u=0;u<this.index.length;u++){var c=this.index[u],d=c.toString(r);!d&&!o||(i&&(i+=l),i+=d)}return i},t}(),CT=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=R({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new wh(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,s){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,i,s);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,i,s){var o=this.rules.get(r);if(!o)return this.addRule(r,i,s);var a=this.rules.replace(r,i,s);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var s=[];for(var o in r){var a=this.addRule(o,r[o],i);a&&s.push(a)}return s},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,s){return this.rules.updateOne(r,i,s),this},e.toString=function(r){return this.rules.toString(r)},t}(),rL=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,i,s){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,i,s);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,s=0;s<this.registry.onProcessRule.length;s++)this.registry.onProcessRule[s](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,s){for(var o=0;o<this.registry.onProcessStyle.length;o++)i.style=this.registry.onProcessStyle[o](i.style,i,s)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,s,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,s,o)},e.onChangeValue=function(r,i,s){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,i,s);return o},e.use=function(r,i){i===void 0&&(i={queue:"external"});var s=this.plugins[i.queue];s.indexOf(r)===-1&&(s.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var l in a)l in o&&o[l].push(a[l]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),iL=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var i=this.registry,s=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||s>=this.index){i.push(r);return}for(var o=0;o<i.length;o++)if(i[o].options.index>s){i.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,s=i.attached,o=yh(i,["attached"]),a=Xo(o),l=a.linebreak,u="",c=0;c<this.registry.length;c++){var d=this.registry[c];s!=null&&d.attached!==s||(u&&(u+=l),u+=d.toString(o))}return u},Cv(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Ka=new iL,zm=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),Um="2f1acc6c3a606b082e5eef5e54414ffb";zm[Um]==null&&(zm[Um]=0);var Q1=zm[Um]++,X1=function(e){e===void 0&&(e={});var n=0,r=function(s,o){n+=1;var a="",l="";return o&&(o.options.classNamePrefix&&(l=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(l||"c")+Q1+a+n:l+s.key+"-"+Q1+(a?"-"+a:"")+"-"+n};return r},IT=function(e){var n;return function(){return n||(n=e()),n}},sL=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},oL=function(e,n,r){try{var i=r;if(Array.isArray(r)&&(i=ts(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,i);else{var s=i?i.indexOf("!important"):-1,o=s>-1?i.substr(0,s-1):i;e.style.setProperty(n,o,s>-1?"important":"")}}catch{return!1}return!0},aL=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},lL=function(e,n){return e.selectorText=n,e.selectorText===n},TT=IT(function(){return document.querySelector("head")});function uL(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function cL(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function dL(t){for(var e=TT(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function hL(t){var e=Ka.registry;if(e.length>0){var n=uL(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=cL(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var i=dL(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function fL(t,e){var n=e.insertionPoint,r=hL(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,s=i.parentNode;s&&s.insertBefore(t,i.nextSibling);return}TT().appendChild(t)}var pL=IT(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),Y1=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},J1=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},mL=function(){var e=document.createElement("style");return e.textContent=`
`,e},gL=function(){function t(n){this.getPropertyValue=sL,this.setProperty=oL,this.removeProperty=aL,this.setSelector=lL,this.hasInsertedRules=!1,this.cssRules=[],n&&Ka.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,s=r.meta,o=r.element;this.element=o||mL(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),s&&this.element.setAttribute("data-meta",s);var a=pL();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){fL(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var s=0;s<r.index.length;s++)this.insertRule(r.index[s],s,i)},e.insertRule=function(r,i,s){if(s===void 0&&(s=this.element.sheet),r.rules){var o=r,a=s;if(r.type==="conditional"||r.type==="keyframes"){var l=J1(s,i);if(a=Y1(s,o.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(o.rules,a),a}var u=r.toString();if(!u)return!1;var c=J1(s,i),d=Y1(s,u,c);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,c,d),d)},e.refCssRule=function(r,i,s){r.renderable=s,r.options.parent instanceof CT&&this.cssRules.splice(i,0,s)},e.deleteRule=function(r){var i=this.element.sheet,s=this.indexOf(r);return s===-1?!1:(i.deleteRule(s),this.cssRules.splice(s,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var s=this.indexOf(r);return s===-1?!1:(this.element.sheet.deleteRule(s),this.cssRules.splice(s,1),this.insertRule(i,s))},e.getRules=function(){return this.element.sheet.cssRules},t}(),yL=0,vL=function(){function t(n){this.id=yL++,this.version="10.10.0",this.plugins=new rL,this.options={id:{minify:!1},createGenerateId:X1,Renderer:uu?gL:null,plugins:[]},this.generateId=X1({minify:!1});for(var r=0;r<G1.length;r++)this.plugins.use(G1[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=R({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var s=i,o=s.index;typeof o!="number"&&(o=Ka.index===0?0:Ka.index+1);var a=new CT(r,R({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),Ka.remove(r),this},e.createRule=function(r,i,s){if(i===void 0&&(i={}),s===void 0&&(s={}),typeof r=="object")return this.createRule(void 0,r,i);var o=R({},s,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=Iv(r,i,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.forEach(function(a){r.plugins.use(a)}),this},t}(),kT=function(e){return new vL(e)},kv=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function _T(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if(i==="function")e||(e={}),e[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var s=_T(r);s&&(e||(e={}),e[n]=s)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */kT();var RT=Date.now(),Ff="fnValues"+RT,Bf="fnStyle"+ ++RT,wL=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var s=Iv(n,{},i);return s[Bf]=r,s},onProcessStyle:function(n,r){if(Ff in r||Bf in r)return n;var i={};for(var s in n){var o=n[s];typeof o=="function"&&(delete n[s],i[s]=o)}return r[Ff]=i,n},onUpdate:function(n,r,i,s){var o=r,a=o[Bf];a&&(o.style=a(n)||{});var l=o[Ff];if(l)for(var u in l)o.prop(u,l[u](n),s)}}};const SL=wL;var si="@global",jm="@global ",EL=function(){function t(n,r,i){this.type="global",this.at=si,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new wh(R({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),xL=function(){function t(n,r,i){this.type="global",this.at=si,this.isProcessed=!1,this.key=n,this.options=i;var s=n.substr(jm.length);this.rule=i.jss.createRule(s,r,R({},i,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),bL=/\s*,\s*/g;function $T(t,e){for(var n=t.split(bL),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function CL(t,e){var n=t.options,r=t.style,i=r?r[si]:null;if(i){for(var s in i)e.addRule(s,i[s],R({},n,{selector:$T(s,t.selector)}));delete r[si]}}function IL(t,e){var n=t.options,r=t.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,si.length)!==si)){var s=$T(i.substr(si.length),t.selector);e.addRule(s,r[i],R({},n,{selector:s})),delete r[i]}}function TL(){function t(n,r,i){if(!n)return null;if(n===si)return new EL(n,r,i);if(n[0]==="@"&&n.substr(0,jm.length)===jm)return new xL(n,r,i);var s=i.parent;return s&&(s.type==="global"||s.options.parent&&s.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function e(n,r){n.type!=="style"||!r||(CL(n,r),IL(n,r))}return{onCreateRule:t,onProcessRule:e}}var Z1=/\s*,\s*/g,kL=/&/g,_L=/\$([\w-]+)/g;function RL(){function t(i,s){return function(o,a){var l=i.getRule(a)||s&&s.getRule(a);return l?l.selector:a}}function e(i,s){for(var o=s.split(Z1),a=i.split(Z1),l="",u=0;u<o.length;u++)for(var c=o[u],d=0;d<a.length;d++){var h=a[d];l&&(l+=", "),l+=h.indexOf("&")!==-1?h.replace(kL,c):c+" "+h}return l}function n(i,s,o){if(o)return R({},o,{index:o.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=R({},i.options,{nestingLevel:a,index:s.indexOf(i)+1});return delete l.name,l}function r(i,s,o){if(s.type!=="style")return i;var a=s,l=a.options.parent,u,c;for(var d in i){var h=d.indexOf("&")!==-1,p=d[0]==="@";if(!(!h&&!p)){if(u=n(a,l,u),h){var g=e(d,a.selector);c||(c=t(l,o)),g=g.replace(_L,c);var v=a.key+"-"+d;"replaceRule"in l?l.replaceRule(v,i[d],R({},u,{selector:g})):l.addRule(v,i[d],R({},u,{selector:g}))}else p&&l.addRule(d,{},u).addRule(a.key,i[d],{selector:a.selector});delete i[d]}}return i}return{onProcessStyle:r}}var $L=/[A-Z]/g,NL=/^ms-/,Vf={};function DL(t){return"-"+t.toLowerCase()}function NT(t){if(Vf.hasOwnProperty(t))return Vf[t];var e=t.replace($L,DL);return Vf[t]=NL.test(e)?"-"+e:e}function ud(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:NT(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(ud):e.fallbacks=ud(t.fallbacks)),e}function PL(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=ud(n[r]);return n}return ud(n)}function e(n,r,i){if(r.indexOf("--")===0)return n;var s=NT(r);return r===s?n:(i.prop(s,n),null)}return{onProcessStyle:t,onChangeValue:e}}var $=kv&&CSS?CSS.px:"px",Hu=kv&&CSS?CSS.ms:"ms",Ms=kv&&CSS?CSS.percent:"%",AL={"animation-delay":Hu,"animation-duration":Hu,"background-position":$,"background-position-x":$,"background-position-y":$,"background-size":$,border:$,"border-bottom":$,"border-bottom-left-radius":$,"border-bottom-right-radius":$,"border-bottom-width":$,"border-left":$,"border-left-width":$,"border-radius":$,"border-right":$,"border-right-width":$,"border-top":$,"border-top-left-radius":$,"border-top-right-radius":$,"border-top-width":$,"border-width":$,"border-block":$,"border-block-end":$,"border-block-end-width":$,"border-block-start":$,"border-block-start-width":$,"border-block-width":$,"border-inline":$,"border-inline-end":$,"border-inline-end-width":$,"border-inline-start":$,"border-inline-start-width":$,"border-inline-width":$,"border-start-start-radius":$,"border-start-end-radius":$,"border-end-start-radius":$,"border-end-end-radius":$,margin:$,"margin-bottom":$,"margin-left":$,"margin-right":$,"margin-top":$,"margin-block":$,"margin-block-end":$,"margin-block-start":$,"margin-inline":$,"margin-inline-end":$,"margin-inline-start":$,padding:$,"padding-bottom":$,"padding-left":$,"padding-right":$,"padding-top":$,"padding-block":$,"padding-block-end":$,"padding-block-start":$,"padding-inline":$,"padding-inline-end":$,"padding-inline-start":$,"mask-position-x":$,"mask-position-y":$,"mask-size":$,height:$,width:$,"min-height":$,"max-height":$,"min-width":$,"max-width":$,bottom:$,left:$,top:$,right:$,inset:$,"inset-block":$,"inset-block-end":$,"inset-block-start":$,"inset-inline":$,"inset-inline-end":$,"inset-inline-start":$,"box-shadow":$,"text-shadow":$,"column-gap":$,"column-rule":$,"column-rule-width":$,"column-width":$,"font-size":$,"font-size-delta":$,"letter-spacing":$,"text-decoration-thickness":$,"text-indent":$,"text-stroke":$,"text-stroke-width":$,"word-spacing":$,motion:$,"motion-offset":$,outline:$,"outline-offset":$,"outline-width":$,perspective:$,"perspective-origin-x":Ms,"perspective-origin-y":Ms,"transform-origin":Ms,"transform-origin-x":Ms,"transform-origin-y":Ms,"transform-origin-z":Ms,"transition-delay":Hu,"transition-duration":Hu,"vertical-align":$,"flex-basis":$,"shape-margin":$,size:$,gap:$,grid:$,"grid-gap":$,"row-gap":$,"grid-row-gap":$,"grid-column-gap":$,"grid-template-rows":$,"grid-template-columns":$,"grid-auto-rows":$,"grid-auto-columns":$,"box-shadow-x":$,"box-shadow-y":$,"box-shadow-blur":$,"box-shadow-spread":$,"font-line-height":$,"text-shadow-x":$,"text-shadow-y":$,"text-shadow-blur":$};function DT(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var OL=DT(AL);function Ga(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Ga(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=Ga(i,e[i],n);else for(var s in e)e[s]=Ga(t+"-"+s,e[s],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||OL[t];return o&&!(e===0&&o===$)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function ML(t){t===void 0&&(t={});var e=DT(t);function n(i,s){if(s.type!=="style")return i;for(var o in i)i[o]=Ga(o,i[o],e);return i}function r(i,s){return Ga(s,i,e)}return{onProcessStyle:n,onChangeValue:r}}var ka="",qm="",PT="",AT="",LL=uu&&"ontouchstart"in document.documentElement;if(uu){var zf={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},FL=document.createElement("p"),Uf=FL.style,BL="Transform";for(var jf in zf)if(jf+BL in Uf){ka=jf,qm=zf[jf];break}ka==="Webkit"&&"msHyphens"in Uf&&(ka="ms",qm=zf.ms,AT="edge"),ka==="Webkit"&&"-apple-trailing-word"in Uf&&(PT="apple")}var ue={js:ka,css:qm,vendor:PT,browser:AT,isTouch:LL};function VL(t){return t[1]==="-"||ue.js==="ms"?t:"@"+ue.css+"keyframes"+t.substr(10)}var zL={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:ue.js==="ms"?"-webkit-"+e:ue.css+e}},UL={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:ue.js==="Webkit"?ue.css+"print-"+e:e}},jL=/[-\s]+(.)?/g;function qL(t,e){return e?e.toUpperCase():""}function _v(t){return t.replace(jL,qL)}function vi(t){return _v("-"+t)}var WL={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(ue.js==="Webkit"){var r="mask-image";if(_v(r)in n)return e;if(ue.js+vi(r)in n)return ue.css+e}return e}},KL={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:ue.vendor==="apple"&&!ue.isTouch?ue.css+e:e}},GL={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:ue.css+e}},HL={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:ue.css+e}},QL={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:ue.js==="Webkit"||ue.js==="ms"&&ue.browser!=="edge"?ue.css+e:e}},XL={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:ue.js==="Moz"||ue.js==="ms"||ue.vendor==="apple"?ue.css+e:e}},YL={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(ue.js==="Webkit"){var r="WebkitColumn"+vi(e);return r in n?ue.css+"column-"+e:!1}if(ue.js==="Moz"){var i="page"+vi(e);return i in n?"page-"+e:!1}return!1}},JL={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(ue.js==="Moz")return e;var r=e.replace("-inline","");return ue.js+vi(r)in n?ue.css+r:!1}},ZL={supportedProperty:function(e,n){return _v(e)in n?e:!1}},eF={supportedProperty:function(e,n){var r=vi(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:ue.js+r in n?ue.css+e:ue.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},tF={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:ue.js==="ms"?""+ue.css+e:e}},nF={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:ue.js==="ms"?ue.css+"scroll-chaining":e}},rF={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},iF={supportedProperty:function(e,n){var r=rF[e];return r&&ue.js+vi(r)in n?ue.css+r:!1}},OT={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},sF=Object.keys(OT),oF=function(e){return ue.css+e},aF={supportedProperty:function(e,n,r){var i=r.multiple;if(sF.indexOf(e)>-1){var s=OT[e];if(!Array.isArray(s))return ue.js+vi(s)in n?ue.css+s:!1;if(!i)return!1;for(var o=0;o<s.length;o++)if(!(ue.js+vi(s[0])in n))return!1;return s.map(oF)}return!1}},MT=[zL,UL,WL,KL,GL,HL,QL,XL,YL,JL,ZL,eF,tF,nF,iF,aF],eS=MT.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),lF=MT.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,xv(e.noPrefill)),t},[]),_a,Vi={};if(uu){_a=document.createElement("p");var qf=window.getComputedStyle(document.documentElement,"");for(var Wf in qf)isNaN(Wf)||(Vi[qf[Wf]]=qf[Wf]);lF.forEach(function(t){return delete Vi[t]})}function Wm(t,e){if(e===void 0&&(e={}),!_a)return t;if(Vi[t]!=null)return Vi[t];(t==="transition"||t==="transform")&&(e[t]=t in _a.style);for(var n=0;n<eS.length&&(Vi[t]=eS[n](t,_a.style,e),!Vi[t]);n++);try{_a.style[t]=""}catch{return!1}return Vi[t]}var Ls={},uF={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},cF=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Lr;function dF(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?Wm(e):", "+Wm(n);return r||e||n}uu&&(Lr=document.createElement("p"));function tS(t,e){var n=e;if(!Lr||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Ls[r]!=null)return Ls[r];try{Lr.style[t]=n}catch{return Ls[r]=!1,!1}if(uF[t])n=n.replace(cF,dF);else if(Lr.style[t]===""&&(n=ue.css+n,n==="-ms-flex"&&(Lr.style[t]="-ms-flexbox"),Lr.style[t]=n,Lr.style[t]===""))return Ls[r]=!1,!1;return Lr.style[t]="",Ls[r]=n,Ls[r]}function hF(){function t(i){if(i.type==="keyframes"){var s=i;s.at=VL(s.at)}}function e(i){for(var s in i){var o=i[s];if(s==="fallbacks"&&Array.isArray(o)){i[s]=o.map(e);continue}var a=!1,l=Wm(s);l&&l!==s&&(a=!0);var u=!1,c=tS(l,ts(o));c&&c!==o&&(u=!0),(a||u)&&(a&&delete i[s],i[l||s]=c||o)}return i}function n(i,s){return s.type!=="style"?i:e(i)}function r(i,s){return tS(s,ts(i))||i}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function fF(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},s=Object.keys(n).sort(t),o=0;o<s.length;o++)i[s[o]]=n[s[o]];return i}}}function pF(){return{plugins:[SL(),TL(),RL(),PL(),ML(),typeof window>"u"?null:hF(),fF()]}}function Rv(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.baseClasses,n=t.newClasses;if(t.Component,!n)return e;var r=R({},e);return Object.keys(n).forEach(function(i){n[i]&&(r[i]="".concat(e[i]," ").concat(n[i]))}),r}var mF={set:function(e,n,r,i){var s=e.get(n);s||(s=new Map,e.set(n,s)),s.set(r,i)},get:function(e,n,r){var i=e.get(n);return i?i.get(r):void 0},delete:function(e,n,r){var i=e.get(n);i.delete(r)}};const ro=mF;var gF=Le.createContext(null);const yF=gF;function Sh(){var t=Le.useContext(yF);return t}var vF=kT(pF()),wF=AM(),SF=new Map,EF={disableGeneration:!1,generateClassName:wF,jss:vF,sheetsCache:null,sheetsManager:SF,sheetsRegistry:null},xF=Le.createContext(EF),nS=-1e9;function bF(){return nS+=1,nS}var CF={};const IF=CF;function TF(t){var e=typeof t=="function";return{create:function(r,i){var s;try{s=e?t(r):t}catch(l){throw l}if(!i||!r.overrides||!r.overrides[i])return s;var o=r.overrides[i],a=R({},s);return Object.keys(o).forEach(function(l){a[l]=Oo(a[l],o[l])}),a},options:{}}}function kF(t,e,n){var r=t.state,i=t.stylesOptions;if(i.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var s=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,s=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,s=!0),s&&(r.cacheClasses.value=Rv({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}function _F(t,e){var n=t.state,r=t.theme,i=t.stylesOptions,s=t.stylesCreator,o=t.name;if(!i.disableGeneration){var a=ro.get(i.sheetsManager,s,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},ro.set(i.sheetsManager,s,r,a));var l=R({},s.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=i.sheetsRegistry;if(a.refs===0){var c;i.sheetsCache&&(c=ro.get(i.sheetsCache,s,r));var d=s.create(r,o);c||(c=i.jss.createStyleSheet(d,R({link:!1},l)),c.attach(),i.sheetsCache&&ro.set(i.sheetsCache,s,r,c)),u&&u.add(c),a.staticSheet=c,a.dynamicStyles=_T(d)}if(a.dynamicStyles){var h=i.jss.createStyleSheet(a.dynamicStyles,R({link:!0},l));h.update(e),h.attach(),n.dynamicSheet=h,n.classes=Rv({baseClasses:a.staticSheet.classes,newClasses:h.classes}),u&&u.add(h)}else n.classes=a.staticSheet.classes;a.refs+=1}}function RF(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function $F(t){var e=t.state,n=t.theme,r=t.stylesOptions,i=t.stylesCreator;if(!r.disableGeneration){var s=ro.get(r.sheetsManager,i,n);s.refs-=1;var o=r.sheetsRegistry;s.refs===0&&(ro.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(s.staticSheet),o&&o.remove(s.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}}function NF(t,e){var n=Le.useRef([]),r,i=Le.useMemo(function(){return{}},e);n.current!==i&&(n.current=i,r=t()),Le.useEffect(function(){return function(){r&&r()}},[i])}function LT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.name,r=e.classNamePrefix,i=e.Component,s=e.defaultTheme,o=s===void 0?IF:s,a=te(e,["name","classNamePrefix","Component","defaultTheme"]),l=TF(t),u=n||r||"makeStyles";l.options={index:bF(),name:n,meta:u,classNamePrefix:u};var c=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=Sh()||o,g=R({},Le.useContext(xF),a),v=Le.useRef(),S=Le.useRef();NF(function(){var m={name:n,state:{},stylesCreator:l,stylesOptions:g,theme:p};return _F(m,h),S.current=!1,v.current=m,function(){$F(m)}},[p,l]),Le.useEffect(function(){S.current&&RF(v.current,h),S.current=!0});var y=kF(v.current,h.classes,i);return y};return c}function DF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=FT(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function oe(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=FT(t))&&(r&&(r+=" "),r+=e);return r}var Km={},PF={get exports(){return Km},set exports(t){Km=t}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=typeof Symbol=="function"&&Symbol.for,$v=kt?Symbol.for("react.element"):60103,Nv=kt?Symbol.for("react.portal"):60106,Eh=kt?Symbol.for("react.fragment"):60107,xh=kt?Symbol.for("react.strict_mode"):60108,bh=kt?Symbol.for("react.profiler"):60114,Ch=kt?Symbol.for("react.provider"):60109,Ih=kt?Symbol.for("react.context"):60110,Dv=kt?Symbol.for("react.async_mode"):60111,Th=kt?Symbol.for("react.concurrent_mode"):60111,kh=kt?Symbol.for("react.forward_ref"):60112,_h=kt?Symbol.for("react.suspense"):60113,AF=kt?Symbol.for("react.suspense_list"):60120,Rh=kt?Symbol.for("react.memo"):60115,$h=kt?Symbol.for("react.lazy"):60116,OF=kt?Symbol.for("react.block"):60121,MF=kt?Symbol.for("react.fundamental"):60117,LF=kt?Symbol.for("react.responder"):60118,FF=kt?Symbol.for("react.scope"):60119;function $n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $v:switch(t=t.type,t){case Dv:case Th:case Eh:case bh:case xh:case _h:return t;default:switch(t=t&&t.$$typeof,t){case Ih:case kh:case $h:case Rh:case Ch:return t;default:return e}}case Nv:return e}}}function BT(t){return $n(t)===Th}_e.AsyncMode=Dv;_e.ConcurrentMode=Th;_e.ContextConsumer=Ih;_e.ContextProvider=Ch;_e.Element=$v;_e.ForwardRef=kh;_e.Fragment=Eh;_e.Lazy=$h;_e.Memo=Rh;_e.Portal=Nv;_e.Profiler=bh;_e.StrictMode=xh;_e.Suspense=_h;_e.isAsyncMode=function(t){return BT(t)||$n(t)===Dv};_e.isConcurrentMode=BT;_e.isContextConsumer=function(t){return $n(t)===Ih};_e.isContextProvider=function(t){return $n(t)===Ch};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$v};_e.isForwardRef=function(t){return $n(t)===kh};_e.isFragment=function(t){return $n(t)===Eh};_e.isLazy=function(t){return $n(t)===$h};_e.isMemo=function(t){return $n(t)===Rh};_e.isPortal=function(t){return $n(t)===Nv};_e.isProfiler=function(t){return $n(t)===bh};_e.isStrictMode=function(t){return $n(t)===xh};_e.isSuspense=function(t){return $n(t)===_h};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Eh||t===Th||t===bh||t===xh||t===_h||t===AF||typeof t=="object"&&t!==null&&(t.$$typeof===$h||t.$$typeof===Rh||t.$$typeof===Ch||t.$$typeof===Ih||t.$$typeof===kh||t.$$typeof===MF||t.$$typeof===LF||t.$$typeof===FF||t.$$typeof===OF)};_e.typeOf=$n;(function(t){t.exports=_e})(PF);var Pv=Km,BF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},VF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Av={};Av[Pv.ForwardRef]=zF;Av[Pv.Memo]=VT;function rS(t){return Pv.isMemo(t)?VT:Av[t.$$typeof]||BF}var UF=Object.defineProperty,jF=Object.getOwnPropertyNames,iS=Object.getOwnPropertySymbols,qF=Object.getOwnPropertyDescriptor,WF=Object.getPrototypeOf,sS=Object.prototype;function zT(t,e,n){if(typeof e!="string"){if(sS){var r=WF(e);r&&r!==sS&&zT(t,r,n)}var i=jF(e);iS&&(i=i.concat(iS(e)));for(var s=rS(t),o=rS(e),a=0;a<i.length;++a){var l=i[a];if(!VF[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=qF(e,l);try{UF(t,l,u)}catch{}}}}return t}var KF=zT,GF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){var i=n.defaultTheme,s=n.withTheme,o=s===void 0?!1:s,a=n.name,l=te(n,["defaultTheme","withTheme","name"]),u=a,c=LT(e,R({defaultTheme:i,Component:r,name:a||r.displayName,classNamePrefix:u},l)),d=Le.forwardRef(function(p,g){p.classes;var v=p.innerRef,S=te(p,["classes","innerRef"]),y=c(R({},r.defaultProps,p)),m,w=S;return(typeof a=="string"||o)&&(m=Sh()||i,a&&(w=xT({theme:m,name:a,props:S})),o&&!w.theme&&(w.theme=m)),Le.createElement(r,R({ref:v||g,classes:y},w))});return KF(d,r),d}};const HF=GF;var QF=$M();const Ov=QF;function Nh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return LT(t,R({defaultTheme:Ov},e))}function Mv(){var t=Sh()||Ov;return t}function Ce(t,e){return HF(t,R({defaultTheme:Ov},e))}function at(t){if(typeof t!="string")throw new Error(Mo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Gm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(r,i){return i==null?r:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.apply(this,a),i.apply(this,a)}},function(){})}var XF=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},UT=f.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.className,o=e.color,a=o===void 0?"inherit":o,l=e.component,u=l===void 0?"svg":l,c=e.fontSize,d=c===void 0?"medium":c,h=e.htmlColor,p=e.titleAccess,g=e.viewBox,v=g===void 0?"0 0 24 24":g,S=te(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return f.createElement(u,R({className:oe(i.root,s,a!=="inherit"&&i["color".concat(at(a))],d!=="default"&&d!=="medium"&&i["fontSize".concat(at(d))]),focusable:"false",viewBox:v,color:h,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},S),r,p?f.createElement("title",null,p):null)});UT.muiName="SvgIcon";const oS=Ce(XF,{name:"MuiSvgIcon"})(UT);function Dh(t,e){var n=function(i,s){return Le.createElement(oS,R({ref:s},i),t)};return n.muiName=oS.muiName,Le.memo(Le.forwardRef(n))}function jT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,n;function r(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=this,l=function(){t.apply(a,s)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=function(){clearTimeout(n)},r}function Kf(t,e){return f.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function br(t){return t&&t.ownerDocument||document}function qT(t){var e=br(t);return e.defaultView||window}function Al(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function WT(t){var e=t.controlled,n=t.default;t.name,t.state;var r=f.useRef(e!==void 0),i=r.current,s=f.useState(n),o=s[0],a=s[1],l=i?e:o,u=f.useCallback(function(c){i||a(c)},[]);return[l,u]}var YF=typeof window<"u"?f.useLayoutEffect:f.useEffect;function Hi(t){var e=f.useRef(t);return YF(function(){e.current=t}),f.useCallback(function(){return e.current.apply(void 0,arguments)},[])}function wn(t,e){return f.useMemo(function(){return t==null&&e==null?null:function(n){Al(t,n),Al(e,n)}},[t,e])}var Ph=!0,Hm=!1,aS=null,JF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZF(t){var e=t.type,n=t.tagName;return!!(n==="INPUT"&&JF[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function eB(t){t.metaKey||t.altKey||t.ctrlKey||(Ph=!0)}function Gf(){Ph=!1}function tB(){this.visibilityState==="hidden"&&Hm&&(Ph=!0)}function nB(t){t.addEventListener("keydown",eB,!0),t.addEventListener("mousedown",Gf,!0),t.addEventListener("pointerdown",Gf,!0),t.addEventListener("touchstart",Gf,!0),t.addEventListener("visibilitychange",tB,!0)}function rB(t){var e=t.target;try{return e.matches(":focus-visible")}catch{}return Ph||ZF(e)}function iB(){Hm=!0,window.clearTimeout(aS),aS=window.setTimeout(function(){Hm=!1},100)}function sB(){var t=f.useCallback(function(e){var n=Cn.findDOMNode(e);n!=null&&nB(n.ownerDocument)},[]);return{isFocusVisible:rB,onBlurVisible:iB,ref:t}}var lS={},oB={get exports(){return lS},set exports(t){lS=t}},Ae={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=60103,Oh=60106,cu=60107,du=60108,hu=60114,fu=60109,pu=60110,mu=60112,gu=60113,Lv=60120,yu=60115,vu=60116,KT=60121,GT=60122,HT=60117,QT=60129,XT=60131;if(typeof Symbol=="function"&&Symbol.for){var Rt=Symbol.for;Ah=Rt("react.element"),Oh=Rt("react.portal"),cu=Rt("react.fragment"),du=Rt("react.strict_mode"),hu=Rt("react.profiler"),fu=Rt("react.provider"),pu=Rt("react.context"),mu=Rt("react.forward_ref"),gu=Rt("react.suspense"),Lv=Rt("react.suspense_list"),yu=Rt("react.memo"),vu=Rt("react.lazy"),KT=Rt("react.block"),GT=Rt("react.server.block"),HT=Rt("react.fundamental"),QT=Rt("react.debug_trace_mode"),XT=Rt("react.legacy_hidden")}function Xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ah:switch(t=t.type,t){case cu:case hu:case du:case gu:case Lv:return t;default:switch(t=t&&t.$$typeof,t){case pu:case mu:case vu:case yu:case fu:return t;default:return e}}case Oh:return e}}}var aB=fu,lB=Ah,uB=mu,cB=cu,dB=vu,hB=yu,fB=Oh,pB=hu,mB=du,gB=gu;Ae.ContextConsumer=pu;Ae.ContextProvider=aB;Ae.Element=lB;Ae.ForwardRef=uB;Ae.Fragment=cB;Ae.Lazy=dB;Ae.Memo=hB;Ae.Portal=fB;Ae.Profiler=pB;Ae.StrictMode=mB;Ae.Suspense=gB;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(t){return Xn(t)===pu};Ae.isContextProvider=function(t){return Xn(t)===fu};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah};Ae.isForwardRef=function(t){return Xn(t)===mu};Ae.isFragment=function(t){return Xn(t)===cu};Ae.isLazy=function(t){return Xn(t)===vu};Ae.isMemo=function(t){return Xn(t)===yu};Ae.isPortal=function(t){return Xn(t)===Oh};Ae.isProfiler=function(t){return Xn(t)===hu};Ae.isStrictMode=function(t){return Xn(t)===du};Ae.isSuspense=function(t){return Xn(t)===gu};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cu||t===hu||t===QT||t===du||t===gu||t===Lv||t===XT||typeof t=="object"&&t!==null&&(t.$$typeof===vu||t.$$typeof===yu||t.$$typeof===fu||t.$$typeof===pu||t.$$typeof===mu||t.$$typeof===HT||t.$$typeof===KT||t[0]===GT)};Ae.typeOf=Xn;(function(t){t.exports=Ae})(oB);const uS={disabled:!1},cd=Le.createContext(null);var yB=function(e){return e.scrollTop},Ra="unmounted",Pi="exited",Ai="entering",Us="entered",Qm="exiting",_r=function(t){vh(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Pi,s.appearStatus=Ai):l=Us:r.unmountOnExit||r.mountOnEnter?l=Ra:l=Pi,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ra?{status:Pi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ai&&o!==Us&&(s=Ai):(o===Ai||o===Us)&&(s=Qm)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ai){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this);o&&yB(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pi&&this.setState({status:Ra})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Lu.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||uS.disabled){this.safeSetState({status:Us},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ai},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Us},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Lu.findDOMNode(this);if(!s||uS.disabled){this.safeSetState({status:Pi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Qm},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Pi},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Lu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ra)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=yh(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Le.createElement(cd.Provider,{value:null},typeof o=="function"?o(i,a):Le.cloneElement(Le.Children.only(o),a))},e}(Le.Component);_r.contextType=cd;_r.propTypes={};function Fs(){}_r.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fs,onEntering:Fs,onEntered:Fs,onExit:Fs,onExiting:Fs,onExited:Fs};_r.UNMOUNTED=Ra;_r.EXITED=Pi;_r.ENTERING=Ai;_r.ENTERED=Us;_r.EXITING=Qm;const vB=_r;function Fv(t,e){var n=function(s){return e&&f.isValidElement(s)?e(s):s},r=Object.create(null);return t&&f.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function wB(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Qi(t,e,n){return n[e]!=null?n[e]:t.props[e]}function SB(t,e){return Fv(t.children,function(n){return f.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Qi(n,"appear",t),enter:Qi(n,"enter",t),exit:Qi(n,"exit",t)})})}function EB(t,e,n){var r=Fv(t.children),i=wB(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(f.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=f.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=f.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Qi(o,"exit",t),enter:Qi(o,"enter",t)}):!l&&a&&!c?i[s]=f.cloneElement(o,{in:!1}):l&&a&&f.isValidElement(u)&&(i[s]=f.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Qi(o,"exit",t),enter:Qi(o,"enter",t)}))}}),i}var xB=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},bB={component:"div",childFactory:function(e){return e}},Bv=function(t){vh(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Mm(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?SB(i,a):EB(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Fv(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=R({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=yh(i,["component","childFactory"]),l=this.state.contextValue,u=xB(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Le.createElement(cd.Provider,{value:l},u):Le.createElement(cd.Provider,{value:l},Le.createElement(s,a,u))},e}(Le.Component);Bv.propTypes={};Bv.defaultProps=bB;const CB=Bv;var IB=function(e){return e.scrollTop};function cS(t,e){var n=t.timeout,r=t.style,i=r===void 0?{}:r;return{duration:i.transitionDuration||typeof n=="number"?n:n[e.mode]||0,delay:i.transitionDelay}}var TB=function(e){var n={};return e.shadows.forEach(function(r,i){n["elevation".concat(i)]={boxShadow:r}}),R({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},n)},kB=f.forwardRef(function(e,n){var r=e.classes,i=e.className,s=e.component,o=s===void 0?"div":s,a=e.square,l=a===void 0?!1:a,u=e.elevation,c=u===void 0?1:u,d=e.variant,h=d===void 0?"elevation":d,p=te(e,["classes","className","component","square","elevation","variant"]);return f.createElement(o,R({className:oe(r.root,i,h==="outlined"?r.outlined:r["elevation".concat(c)],!l&&r.rounded),ref:n},p))});const YT=Ce(TB,{name:"MuiPaper"})(kB);var _B=typeof window>"u"?f.useEffect:f.useLayoutEffect;function RB(t){var e=t.classes,n=t.pulsate,r=n===void 0?!1:n,i=t.rippleX,s=t.rippleY,o=t.rippleSize,a=t.in,l=t.onExited,u=l===void 0?function(){}:l,c=t.timeout,d=f.useState(!1),h=d[0],p=d[1],g=oe(e.ripple,e.rippleVisible,r&&e.ripplePulsate),v={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},S=oe(e.child,h&&e.childLeaving,r&&e.childPulsate),y=Hi(u);return _B(function(){if(!a){p(!0);var m=setTimeout(y,c);return function(){clearTimeout(m)}}},[y,a,c]),f.createElement("span",{className:g,style:v},f.createElement("span",{className:S}))}var Xm=550,$B=80,NB=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(Xm,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(Xm,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},DB=f.forwardRef(function(e,n){var r=e.center,i=r===void 0?!1:r,s=e.classes,o=e.className,a=te(e,["center","classes","className"]),l=f.useState([]),u=l[0],c=l[1],d=f.useRef(0),h=f.useRef(null);f.useEffect(function(){h.current&&(h.current(),h.current=null)},[u]);var p=f.useRef(!1),g=f.useRef(null),v=f.useRef(null),S=f.useRef(null);f.useEffect(function(){return function(){clearTimeout(g.current)}},[]);var y=f.useCallback(function(x){var b=x.pulsate,C=x.rippleX,k=x.rippleY,N=x.rippleSize,D=x.cb;c(function(V){return[].concat(xv(V),[f.createElement(RB,{key:d.current,classes:s,timeout:Xm,pulsate:b,rippleX:C,rippleY:k,rippleSize:N})])}),d.current+=1,h.current=D},[s]),m=f.useCallback(function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2?arguments[2]:void 0,k=b.pulsate,N=k===void 0?!1:k,D=b.center,V=D===void 0?i||b.pulsate:D,W=b.fakeElement,Z=W===void 0?!1:W;if(x.type==="mousedown"&&p.current){p.current=!1;return}x.type==="touchstart"&&(p.current=!0);var Q=Z?null:S.current,U=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0},F,B,I;if(V||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)F=Math.round(U.width/2),B=Math.round(U.height/2);else{var P=x.touches?x.touches[0]:x,A=P.clientX,H=P.clientY;F=Math.round(A-U.left),B=Math.round(H-U.top)}if(V)I=Math.sqrt((2*Math.pow(U.width,2)+Math.pow(U.height,2))/3),I%2===0&&(I+=1);else{var ee=Math.max(Math.abs((Q?Q.clientWidth:0)-F),F)*2+2,ye=Math.max(Math.abs((Q?Q.clientHeight:0)-B),B)*2+2;I=Math.sqrt(Math.pow(ee,2)+Math.pow(ye,2))}x.touches?v.current===null&&(v.current=function(){y({pulsate:N,rippleX:F,rippleY:B,rippleSize:I,cb:C})},g.current=setTimeout(function(){v.current&&(v.current(),v.current=null)},$B)):y({pulsate:N,rippleX:F,rippleY:B,rippleSize:I,cb:C})},[i,y]),w=f.useCallback(function(){m({},{pulsate:!0})},[m]),E=f.useCallback(function(x,b){if(clearTimeout(g.current),x.type==="touchend"&&v.current){x.persist(),v.current(),v.current=null,g.current=setTimeout(function(){E(x,b)});return}v.current=null,c(function(C){return C.length>0?C.slice(1):C}),h.current=b},[]);return f.useImperativeHandle(n,function(){return{pulsate:w,start:m,stop:E}},[w,m,E]),f.createElement("span",R({className:oe(s.root,o),ref:S},a),f.createElement(CB,{component:null,exit:!0},u))});const PB=Ce(NB,{flip:!1,name:"MuiTouchRipple"})(f.memo(DB));var AB={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},OB=f.forwardRef(function(e,n){var r=e.action,i=e.buttonRef,s=e.centerRipple,o=s===void 0?!1:s,a=e.children,l=e.classes,u=e.className,c=e.component,d=c===void 0?"button":c,h=e.disabled,p=h===void 0?!1:h,g=e.disableRipple,v=g===void 0?!1:g,S=e.disableTouchRipple,y=S===void 0?!1:S,m=e.focusRipple,w=m===void 0?!1:m,E=e.focusVisibleClassName,x=e.onBlur,b=e.onClick,C=e.onFocus,k=e.onFocusVisible,N=e.onKeyDown,D=e.onKeyUp,V=e.onMouseDown,W=e.onMouseLeave,Z=e.onMouseUp,Q=e.onTouchEnd,U=e.onTouchMove,F=e.onTouchStart,B=e.onDragLeave,I=e.tabIndex,P=I===void 0?0:I,A=e.TouchRippleProps,H=e.type,ee=H===void 0?"button":H,ye=te(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),ne=f.useRef(null);function Se(){return Cn.findDOMNode(ne.current)}var re=f.useRef(null),Re=f.useState(!1),Fe=Re[0],ft=Re[1];p&&Fe&&ft(!1);var Bt=sB(),de=Bt.isFocusVisible,ge=Bt.onBlurVisible,De=Bt.ref;f.useImperativeHandle(r,function(){return{focusVisible:function(){ft(!0),ne.current.focus()}}},[]),f.useEffect(function(){Fe&&w&&!v&&re.current.pulsate()},[v,w,Fe]);function fe(ce,ta){var bk=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;return Hi(function(Gv){ta&&ta(Gv);var Ck=bk;return!Ck&&re.current&&re.current[ce](Gv),!0})}var rt=fe("start",V),he=fe("stop",B),Ie=fe("stop",Z),_t=fe("stop",function(ce){Fe&&ce.preventDefault(),W&&W(ce)}),Nn=fe("start",F),an=fe("stop",Q),zn=fe("stop",U),Vt=fe("stop",function(ce){Fe&&(ge(ce),ft(!1)),x&&x(ce)},!1),ut=Hi(function(ce){ne.current||(ne.current=ce.currentTarget),de(ce)&&(ft(!0),k&&k(ce)),C&&C(ce)}),He=function(){var ta=Se();return d&&d!=="button"&&!(ta.tagName==="A"&&ta.href)},ln=f.useRef(!1),Qt=Hi(function(ce){w&&!ln.current&&Fe&&re.current&&ce.key===" "&&(ln.current=!0,ce.persist(),re.current.stop(ce,function(){re.current.start(ce)})),ce.target===ce.currentTarget&&He()&&ce.key===" "&&ce.preventDefault(),N&&N(ce),ce.target===ce.currentTarget&&He()&&ce.key==="Enter"&&!p&&(ce.preventDefault(),b&&b(ce))}),Rr=Hi(function(ce){w&&ce.key===" "&&re.current&&Fe&&!ce.defaultPrevented&&(ln.current=!1,ce.persist(),re.current.stop(ce,function(){re.current.pulsate(ce)})),D&&D(ce),b&&ce.target===ce.currentTarget&&He()&&ce.key===" "&&!ce.defaultPrevented&&b(ce)}),Xt=d;Xt==="button"&&ye.href&&(Xt="a");var Pe={};Xt==="button"?(Pe.type=ee,Pe.disabled=p):((Xt!=="a"||!ye.href)&&(Pe.role="button"),Pe["aria-disabled"]=p);var $r=wn(i,n),Nr=wn(De,ne),$e=wn($r,Nr),se=f.useState(!1),pt=se[0],zt=se[1];f.useEffect(function(){zt(!0)},[]);var Ds=pt&&!v&&!p;return f.createElement(Xt,R({className:oe(l.root,u,Fe&&[l.focusVisible,E],p&&l.disabled),onBlur:Vt,onClick:b,onFocus:ut,onKeyDown:Qt,onKeyUp:Rr,onMouseDown:rt,onMouseLeave:_t,onMouseUp:Ie,onDragLeave:he,onTouchEnd:an,onTouchMove:zn,onTouchStart:Nn,ref:$e,tabIndex:p?-1:P},Pe,ye),a,Ds?f.createElement(PB,R({ref:re,center:o},A)):null)});const JT=Ce(AB,{name:"MuiButtonBase"})(OB);var MB=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Dn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Dn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Dn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},LB=f.forwardRef(function(e,n){var r=e.edge,i=r===void 0?!1:r,s=e.children,o=e.classes,a=e.className,l=e.color,u=l===void 0?"default":l,c=e.disabled,d=c===void 0?!1:c,h=e.disableFocusRipple,p=h===void 0?!1:h,g=e.size,v=g===void 0?"medium":g,S=te(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return f.createElement(JT,R({className:oe(o.root,a,u!=="default"&&o["color".concat(at(u))],d&&o.disabled,v==="small"&&o["size".concat(at(v))],{start:o.edgeStart,end:o.edgeEnd}[i]),centerRipple:!0,focusRipple:!p,disabled:d,ref:n},S),f.createElement("span",{className:o.label},s))});const FB=Ce(MB,{name:"MuiIconButton"})(LB);var BB=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},dS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},VB=f.forwardRef(function(e,n){var r=e.align,i=r===void 0?"inherit":r,s=e.classes,o=e.className,a=e.color,l=a===void 0?"initial":a,u=e.component,c=e.display,d=c===void 0?"initial":c,h=e.gutterBottom,p=h===void 0?!1:h,g=e.noWrap,v=g===void 0?!1:g,S=e.paragraph,y=S===void 0?!1:S,m=e.variant,w=m===void 0?"body1":m,E=e.variantMapping,x=E===void 0?dS:E,b=te(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),C=u||(y?"p":x[w]||dS[w])||"span";return f.createElement(C,R({className:oe(s.root,o,w!=="inherit"&&s[w],l!=="initial"&&s["color".concat(at(l))],v&&s.noWrap,p&&s.gutterBottom,y&&s.paragraph,i!=="inherit"&&s["align".concat(at(i))],d!=="initial"&&s["display".concat(at(d))]),ref:n},b))});const en=Ce(BB,{name:"MuiTypography"})(VB);var zB=function(e){return{root:R({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Dn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Dn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Dn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Dn(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Dn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Dn(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Dn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},UB=f.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.className,o=e.color,a=o===void 0?"default":o,l=e.component,u=l===void 0?"button":l,c=e.disabled,d=c===void 0?!1:c,h=e.disableElevation,p=h===void 0?!1:h,g=e.disableFocusRipple,v=g===void 0?!1:g,S=e.endIcon,y=e.focusVisibleClassName,m=e.fullWidth,w=m===void 0?!1:m,E=e.size,x=E===void 0?"medium":E,b=e.startIcon,C=e.type,k=C===void 0?"button":C,N=e.variant,D=N===void 0?"text":N,V=te(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),W=b&&f.createElement("span",{className:oe(i.startIcon,i["iconSize".concat(at(x))])},b),Z=S&&f.createElement("span",{className:oe(i.endIcon,i["iconSize".concat(at(x))])},S);return f.createElement(JT,R({className:oe(i.root,i[D],s,a==="inherit"?i.colorInherit:a!=="default"&&i["".concat(D).concat(at(a))],x!=="medium"&&[i["".concat(D,"Size").concat(at(x))],i["size".concat(at(x))]],p&&i.disableElevation,d&&i.disabled,w&&i.fullWidth),component:u,disabled:d,focusRipple:!v,focusVisibleClassName:oe(i.focusVisible,y),ref:n,type:k},V),f.createElement("span",{className:i.label},W,r,Z))});const Fn=Ce(zB,{name:"MuiButton"})(UB);var jB={root:{overflow:"hidden"}},qB=f.forwardRef(function(e,n){var r=e.classes,i=e.className,s=e.raised,o=s===void 0?!1:s,a=te(e,["classes","className","raised"]);return f.createElement(YT,R({className:oe(r.root,i),elevation:o?8:1,ref:n},a))});const dd=Ce(jB,{name:"MuiCard"})(qB);var WB={root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},KB=f.forwardRef(function(e,n){var r=e.disableSpacing,i=r===void 0?!1:r,s=e.classes,o=e.className,a=te(e,["disableSpacing","classes","className"]);return f.createElement("div",R({className:oe(s.root,o,!i&&s.spacing),ref:n},a))});const ZT=Ce(WB,{name:"MuiCardActions"})(KB);var GB={root:{padding:16,"&:last-child":{paddingBottom:24}}},HB=f.forwardRef(function(e,n){var r=e.classes,i=e.className,s=e.component,o=s===void 0?"div":s,a=te(e,["classes","className","component"]);return f.createElement(o,R({className:oe(r.root,i),ref:n},a))});const Ym=Ce(GB,{name:"MuiCardContent"})(HB);var ek=f.createContext();function QB(){return f.useContext(ek)}const Vv=ek;function Ns(){return f.useContext(Vv)}var XB={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},YB=f.forwardRef(function(e,n){var r=e.autoFocus,i=e.checked,s=e.checkedIcon,o=e.classes,a=e.className,l=e.defaultChecked,u=e.disabled,c=e.icon,d=e.id,h=e.inputProps,p=e.inputRef,g=e.name,v=e.onBlur,S=e.onChange,y=e.onFocus,m=e.readOnly,w=e.required,E=e.tabIndex,x=e.type,b=e.value,C=te(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),k=WT({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),N=bv(k,2),D=N[0],V=N[1],W=Ns(),Z=function(P){y&&y(P),W&&W.onFocus&&W.onFocus(P)},Q=function(P){v&&v(P),W&&W.onBlur&&W.onBlur(P)},U=function(P){var A=P.target.checked;V(A),S&&S(P,A)},F=u;W&&typeof F>"u"&&(F=W.disabled);var B=x==="checkbox"||x==="radio";return f.createElement(FB,R({component:"span",className:oe(o.root,a,D&&o.checked,F&&o.disabled),disabled:F,tabIndex:null,role:void 0,onFocus:Z,onBlur:Q,ref:n},C),f.createElement("input",R({autoFocus:r,checked:i,defaultChecked:l,className:o.input,disabled:F,id:B&&d,name:g,onChange:U,readOnly:m,ref:p,required:w,tabIndex:E,type:x,value:b},h)),D?s:c)});const JB=Ce(XB,{name:"PrivateSwitchBase"})(YB),ZB=Dh(f.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),eV=Dh(f.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),tV=Dh(f.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));var nV=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Dn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Dn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},rV=f.createElement(eV,null),iV=f.createElement(ZB,null),sV=f.createElement(tV,null),oV=f.forwardRef(function(e,n){var r=e.checkedIcon,i=r===void 0?rV:r,s=e.classes,o=e.color,a=o===void 0?"secondary":o,l=e.icon,u=l===void 0?iV:l,c=e.indeterminate,d=c===void 0?!1:c,h=e.indeterminateIcon,p=h===void 0?sV:h,g=e.inputProps,v=e.size,S=v===void 0?"medium":v,y=te(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),m=d?p:u,w=d?p:i;return f.createElement(JB,R({type:"checkbox",classes:{root:oe(s.root,s["color".concat(at(a))],d&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:a,inputProps:R({"data-indeterminate":d},g),icon:f.cloneElement(m,{fontSize:m.props.fontSize===void 0&&S==="small"?S:m.props.fontSize}),checkedIcon:f.cloneElement(w,{fontSize:w.props.fontSize===void 0&&S==="small"?S:w.props.fontSize}),ref:n},y))});const hd=Ce(nV,{name:"MuiCheckbox"})(oV);var aV=function(e){return{root:Zn({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce(function(n,r){var i=e.breakpoints.values[r];return i!==0&&(n[e.breakpoints.up(r)]={maxWidth:i}),n},{}),maxWidthXs:Zn({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Zn({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Zn({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Zn({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Zn({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}},lV=f.forwardRef(function(e,n){var r=e.classes,i=e.className,s=e.component,o=s===void 0?"div":s,a=e.disableGutters,l=a===void 0?!1:a,u=e.fixed,c=u===void 0?!1:u,d=e.maxWidth,h=d===void 0?"lg":d,p=te(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return f.createElement(o,R({className:oe(r.root,i,c&&r.fixed,l&&r.disableGutters,h!==!1&&r["maxWidth".concat(at(String(h)))]),ref:n},p))});const uV=Ce(aV,{name:"MuiContainer"})(lV);function cV(t){return t=typeof t=="function"?t():t,Cn.findDOMNode(t)}var Hf=typeof window<"u"?f.useLayoutEffect:f.useEffect,dV=f.forwardRef(function(e,n){var r=e.children,i=e.container,s=e.disablePortal,o=s===void 0?!1:s,a=e.onRendered,l=f.useState(null),u=l[0],c=l[1],d=wn(f.isValidElement(r)?r.ref:null,n);return Hf(function(){o||c(cV(i)||document.body)},[i,o]),Hf(function(){if(u&&!o)return Al(n,u),function(){Al(n,null)}},[n,u,o]),Hf(function(){a&&(u||o)&&a()},[a,u,o]),o?f.isValidElement(r)?f.cloneElement(r,{ref:d}):r:u&&Cn.createPortal(r,u)});const hV=dV;function tk(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function fV(t){var e=br(t);return e.body===t?qT(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ha(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hS(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function fS(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,s=[e,n].concat(xv(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(a){a.nodeType===1&&s.indexOf(a)===-1&&o.indexOf(a.tagName)===-1&&Ha(a,i)})}function Qf(t,e){var n=-1;return t.some(function(r,i){return e(r)?(n=i,!0):!1}),n}function pV(t,e){var n=[],r=[],i=t.container,s;if(!e.disableScrollLock){if(fV(i)){var o=tk();n.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(hS(i)+o,"px"),s=br(i).querySelectorAll(".mui-fixed"),[].forEach.call(s,function(c){r.push(c.style.paddingRight),c.style.paddingRight="".concat(hS(c)+o,"px")})}var a=i.parentElement,l=a.nodeName==="HTML"&&window.getComputedStyle(a)["overflow-y"]==="scroll"?a:i;n.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}var u=function(){s&&[].forEach.call(s,function(d,h){r[h]?d.style.paddingRight=r[h]:d.style.removeProperty("padding-right")}),n.forEach(function(d){var h=d.value,p=d.el,g=d.key;h?p.style.setProperty(g,h):p.style.removeProperty(g)})};return u}function mV(t){var e=[];return[].forEach.call(t.children,function(n){n.getAttribute&&n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}var gV=function(){function t(){DF(this,t),this.modals=[],this.containers=[]}return Cv(t,[{key:"add",value:function(n,r){var i=this.modals.indexOf(n);if(i!==-1)return i;i=this.modals.length,this.modals.push(n),n.modalRef&&Ha(n.modalRef,!1);var s=mV(r);fS(r,n.mountNode,n.modalRef,s,!0);var o=Qf(this.containers,function(a){return a.container===r});return o!==-1?(this.containers[o].modals.push(n),i):(this.containers.push({modals:[n],container:r,restore:null,hiddenSiblingNodes:s}),i)}},{key:"mount",value:function(n,r){var i=Qf(this.containers,function(o){return o.modals.indexOf(n)!==-1}),s=this.containers[i];s.restore||(s.restore=pV(s,r))}},{key:"remove",value:function(n){var r=this.modals.indexOf(n);if(r===-1)return r;var i=Qf(this.containers,function(a){return a.modals.indexOf(n)!==-1}),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(n),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),n.modalRef&&Ha(n.modalRef,!0),fS(s.container,n.mountNode,n.modalRef,s.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var o=s.modals[s.modals.length-1];o.modalRef&&Ha(o.modalRef,!1)}return r}},{key:"isTopModal",value:function(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}]),t}();function yV(t){var e=t.children,n=t.disableAutoFocus,r=n===void 0?!1:n,i=t.disableEnforceFocus,s=i===void 0?!1:i,o=t.disableRestoreFocus,a=o===void 0?!1:o,l=t.getDoc,u=t.isEnabled,c=t.open,d=f.useRef(),h=f.useRef(null),p=f.useRef(null),g=f.useRef(),v=f.useRef(null),S=f.useCallback(function(w){v.current=Cn.findDOMNode(w)},[]),y=wn(e.ref,S),m=f.useRef();return f.useEffect(function(){m.current=c},[c]),!m.current&&c&&typeof window<"u"&&(g.current=l().activeElement),f.useEffect(function(){if(c){var w=br(v.current);!r&&v.current&&!v.current.contains(w.activeElement)&&(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var E=function(){var k=v.current;if(k!==null){if(!w.hasFocus()||s||!u()||d.current){d.current=!1;return}v.current&&!v.current.contains(w.activeElement)&&v.current.focus()}},x=function(k){s||!u()||k.keyCode!==9||w.activeElement===v.current&&(d.current=!0,k.shiftKey?p.current.focus():h.current.focus())};w.addEventListener("focus",E,!0),w.addEventListener("keydown",x,!0);var b=setInterval(function(){E()},50);return function(){clearInterval(b),w.removeEventListener("focus",E,!0),w.removeEventListener("keydown",x,!0),a||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}},[r,s,a,u,c]),f.createElement(f.Fragment,null,f.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),f.cloneElement(e,{ref:y}),f.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))}var pS={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},vV=f.forwardRef(function(e,n){var r=e.invisible,i=r===void 0?!1:r,s=e.open,o=te(e,["invisible","open"]);return s?f.createElement("div",R({"aria-hidden":!0,ref:n},o,{style:R({},pS.root,i?pS.invisible:{},o.style)})):null});const wV=vV;function SV(t){return t=typeof t=="function"?t():t,Cn.findDOMNode(t)}function EV(t){return t.children?t.children.props.hasOwnProperty("in"):!1}var xV=new gV,bV=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},CV=f.forwardRef(function(e,n){var r=Sh(),i=xT({name:"MuiModal",props:R({},e),theme:r}),s=i.BackdropComponent,o=s===void 0?wV:s,a=i.BackdropProps,l=i.children,u=i.closeAfterTransition,c=u===void 0?!1:u,d=i.container,h=i.disableAutoFocus,p=h===void 0?!1:h,g=i.disableBackdropClick,v=g===void 0?!1:g,S=i.disableEnforceFocus,y=S===void 0?!1:S,m=i.disableEscapeKeyDown,w=m===void 0?!1:m,E=i.disablePortal,x=E===void 0?!1:E,b=i.disableRestoreFocus,C=b===void 0?!1:b,k=i.disableScrollLock,N=k===void 0?!1:k,D=i.hideBackdrop,V=D===void 0?!1:D,W=i.keepMounted,Z=W===void 0?!1:W,Q=i.manager,U=Q===void 0?xV:Q,F=i.onBackdropClick,B=i.onClose,I=i.onEscapeKeyDown,P=i.onRendered,A=i.open,H=te(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),ee=f.useState(!0),ye=ee[0],ne=ee[1],Se=f.useRef({}),re=f.useRef(null),Re=f.useRef(null),Fe=wn(Re,n),ft=EV(i),Bt=function(){return br(re.current)},de=function(){return Se.current.modalRef=Re.current,Se.current.mountNode=re.current,Se.current},ge=function(){U.mount(de(),{disableScrollLock:N}),Re.current.scrollTop=0},De=Hi(function(){var ut=SV(d)||Bt().body;U.add(de(),ut),Re.current&&ge()}),fe=f.useCallback(function(){return U.isTopModal(de())},[U]),rt=Hi(function(ut){re.current=ut,ut&&(P&&P(),A&&fe()?ge():Ha(Re.current,!0))}),he=f.useCallback(function(){U.remove(de())},[U]);if(f.useEffect(function(){return function(){he()}},[he]),f.useEffect(function(){A?De():(!ft||!c)&&he()},[A,he,ft,c,De]),!Z&&!A&&(!ft||ye))return null;var Ie=function(){ne(!1)},_t=function(){ne(!0),c&&he()},Nn=function(He){He.target===He.currentTarget&&(F&&F(He),!v&&B&&B(He,"backdropClick"))},an=function(He){He.key!=="Escape"||!fe()||(I&&I(He),w||(He.stopPropagation(),B&&B(He,"escapeKeyDown")))},zn=bV(r||{zIndex:ET}),Vt={};return l.props.tabIndex===void 0&&(Vt.tabIndex=l.props.tabIndex||"-1"),ft&&(Vt.onEnter=Gm(Ie,l.props.onEnter),Vt.onExited=Gm(_t,l.props.onExited)),f.createElement(hV,{ref:rt,container:d,disablePortal:x},f.createElement("div",R({ref:Fe,onKeyDown:an,role:"presentation"},H,{style:R({},zn.root,!A&&ye?zn.hidden:{},H.style)}),V?null:f.createElement(o,R({open:A,onClick:Nn},a)),f.createElement(yV,{disableEnforceFocus:y,disableAutoFocus:p,disableRestoreFocus:C,getDoc:Bt,isEnabled:fe,open:A},f.cloneElement(l,Vt))))});const IV=CV;function Yo(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce(function(i,s){return i[s]=e[s],r&&typeof e[s]>"u"&&(i[s]=r[s]),i},{})}function Qu(t,e){return parseInt(t[e],10)||0}var TV=typeof window<"u"?f.useLayoutEffect:f.useEffect,kV={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},_V=f.forwardRef(function(e,n){var r=e.onChange,i=e.rows,s=e.rowsMax,o=e.rowsMin,a=e.maxRows,l=e.minRows,u=l===void 0?1:l,c=e.style,d=e.value,h=te(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),p=a||s,g=i||o||u,v=f.useRef(d!=null),S=v.current,y=f.useRef(null),m=wn(n,y),w=f.useRef(null),E=f.useRef(0),x=f.useState({}),b=x[0],C=x[1],k=f.useCallback(function(){var D=y.current,V=window.getComputedStyle(D),W=w.current;W.style.width=V.width,W.value=D.value||e.placeholder||"x",W.value.slice(-1)===`
`&&(W.value+=" ");var Z=V["box-sizing"],Q=Qu(V,"padding-bottom")+Qu(V,"padding-top"),U=Qu(V,"border-bottom-width")+Qu(V,"border-top-width"),F=W.scrollHeight-Q;W.value="x";var B=W.scrollHeight-Q,I=F;g&&(I=Math.max(Number(g)*B,I)),p&&(I=Math.min(Number(p)*B,I)),I=Math.max(I,B);var P=I+(Z==="border-box"?Q+U:0),A=Math.abs(I-F)<=1;C(function(H){return E.current<20&&(P>0&&Math.abs((H.outerHeightStyle||0)-P)>1||H.overflow!==A)?(E.current+=1,{overflow:A,outerHeightStyle:P}):H})},[p,g,e.placeholder]);f.useEffect(function(){var D=jT(function(){E.current=0,k()});return window.addEventListener("resize",D),function(){D.clear(),window.removeEventListener("resize",D)}},[k]),TV(function(){k()}),f.useEffect(function(){E.current=0},[d]);var N=function(V){E.current=0,S||k(),r&&r(V)};return f.createElement(f.Fragment,null,f.createElement("textarea",R({value:d,onChange:N,ref:m,rows:g,style:R({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},c)},h)),f.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:R({},kV.shadow,c)}))});const RV=_V;function mS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function zv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return t&&(mS(t.value)&&t.value!==""||e&&mS(t.defaultValue)&&t.defaultValue!=="")}function $V(t){return t.startAdornment}var NV=function(e){var n=e.palette.type==="light",r={color:"currentColor",opacity:n?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},s={opacity:n?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:R({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),"&$marginDense":{paddingTop:4-1}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:4-1},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},DV=typeof window>"u"?f.useEffect:f.useLayoutEffect,PV=f.forwardRef(function(e,n){var r=e["aria-describedby"],i=e.autoComplete,s=e.autoFocus,o=e.classes,a=e.className;e.color;var l=e.defaultValue,u=e.disabled,c=e.endAdornment;e.error;var d=e.fullWidth,h=d===void 0?!1:d,p=e.id,g=e.inputComponent,v=g===void 0?"input":g,S=e.inputProps,y=S===void 0?{}:S,m=e.inputRef;e.margin;var w=e.multiline,E=w===void 0?!1:w,x=e.name,b=e.onBlur,C=e.onChange,k=e.onClick,N=e.onFocus,D=e.onKeyDown,V=e.onKeyUp,W=e.placeholder,Z=e.readOnly,Q=e.renderSuffix,U=e.rows,F=e.rowsMax,B=e.rowsMin,I=e.maxRows,P=e.minRows,A=e.startAdornment,H=e.type,ee=H===void 0?"text":H,ye=e.value,ne=te(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Se=y.value!=null?y.value:ye,re=f.useRef(Se!=null),Re=re.current,Fe=f.useRef(),ft=f.useCallback(function(Xt){},[]),Bt=wn(y.ref,ft),de=wn(m,Bt),ge=wn(Fe,de),De=f.useState(!1),fe=De[0],rt=De[1],he=QB(),Ie=Yo({props:e,muiFormControl:he,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Ie.focused=he?he.focused:fe,f.useEffect(function(){!he&&u&&fe&&(rt(!1),b&&b())},[he,u,fe,b]);var _t=he&&he.onFilled,Nn=he&&he.onEmpty,an=f.useCallback(function(Xt){zv(Xt)?_t&&_t():Nn&&Nn()},[_t,Nn]);DV(function(){Re&&an({value:Se})},[Se,an,Re]);var zn=function(Pe){if(Ie.disabled){Pe.stopPropagation();return}N&&N(Pe),y.onFocus&&y.onFocus(Pe),he&&he.onFocus?he.onFocus(Pe):rt(!0)},Vt=function(Pe){b&&b(Pe),y.onBlur&&y.onBlur(Pe),he&&he.onBlur?he.onBlur(Pe):rt(!1)},ut=function(Pe){if(!Re){var $r=Pe.target||Fe.current;if($r==null)throw new Error(Mo(1));an({value:$r.value})}for(var Nr=arguments.length,$e=new Array(Nr>1?Nr-1:0),se=1;se<Nr;se++)$e[se-1]=arguments[se];y.onChange&&y.onChange.apply(y,[Pe].concat($e)),C&&C.apply(void 0,[Pe].concat($e))};f.useEffect(function(){an(Fe.current)},[]);var He=function(Pe){Fe.current&&Pe.currentTarget===Pe.target&&Fe.current.focus(),k&&k(Pe)},ln=v,Qt=R({},y,{ref:ge});typeof ln!="string"?Qt=R({inputRef:ge,type:ee},Qt,{ref:null}):E?U&&!I&&!P&&!F&&!B?ln="textarea":(Qt=R({minRows:U||P,rowsMax:F,maxRows:I},Qt),ln=RV):Qt=R({type:ee},Qt);var Rr=function(Pe){an(Pe.animationName==="mui-auto-fill-cancel"?Fe.current:{value:"x"})};return f.useEffect(function(){he&&he.setAdornedStart(!!A)},[he,A]),f.createElement("div",R({className:oe(o.root,o["color".concat(at(Ie.color||"primary"))],a,Ie.disabled&&o.disabled,Ie.error&&o.error,h&&o.fullWidth,Ie.focused&&o.focused,he&&o.formControl,E&&o.multiline,A&&o.adornedStart,c&&o.adornedEnd,Ie.margin==="dense"&&o.marginDense),onClick:He,ref:n},ne),A,f.createElement(Vv.Provider,{value:null},f.createElement(ln,R({"aria-invalid":Ie.error,"aria-describedby":r,autoComplete:i,autoFocus:s,defaultValue:l,disabled:Ie.disabled,id:p,onAnimationStart:Rr,name:x,placeholder:W,readOnly:Z,required:Ie.required,rows:U,value:Se,onKeyDown:D,onKeyUp:V},Qt,{className:oe(o.input,y.className,Ie.disabled&&o.disabled,E&&o.inputMultiline,Ie.hiddenLabel&&o.inputHiddenLabel,A&&o.inputAdornedStart,c&&o.inputAdornedEnd,ee==="search"&&o.inputTypeSearch,Ie.margin==="dense"&&o.inputMarginDense),onBlur:Vt,onChange:ut,onFocus:zn}))),c,Q?Q(R({},Ie,{startAdornment:A})):null)});const Uv=Ce(NV,{name:"MuiInputBase"})(PV);var AV=function(e){var n=e.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},nk=f.forwardRef(function(e,n){var r=e.disableUnderline,i=e.classes,s=e.fullWidth,o=s===void 0?!1:s,a=e.inputComponent,l=a===void 0?"input":a,u=e.multiline,c=u===void 0?!1:u,d=e.type,h=d===void 0?"text":d,p=te(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return f.createElement(Uv,R({classes:R({},i,{root:oe(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:l,multiline:c,ref:n,type:h},p))});nk.muiName="Input";const rk=Ce(AV,{name:"MuiFilledInput"})(nk);var OV={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},MV=f.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.className,o=e.color,a=o===void 0?"primary":o,l=e.component,u=l===void 0?"div":l,c=e.disabled,d=c===void 0?!1:c,h=e.error,p=h===void 0?!1:h,g=e.fullWidth,v=g===void 0?!1:g,S=e.focused,y=e.hiddenLabel,m=y===void 0?!1:y,w=e.margin,E=w===void 0?"none":w,x=e.required,b=x===void 0?!1:x,C=e.size,k=e.variant,N=k===void 0?"standard":k,D=te(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),V=f.useState(function(){var Se=!1;return r&&f.Children.forEach(r,function(re){if(Kf(re,["Input","Select"])){var Re=Kf(re,["Select"])?re.props.input:re;Re&&$V(Re.props)&&(Se=!0)}}),Se}),W=V[0],Z=V[1],Q=f.useState(function(){var Se=!1;return r&&f.Children.forEach(r,function(re){Kf(re,["Input","Select"])&&zv(re.props,!0)&&(Se=!0)}),Se}),U=Q[0],F=Q[1],B=f.useState(!1),I=B[0],P=B[1],A=S!==void 0?S:I;d&&A&&P(!1);var H,ee=f.useCallback(function(){F(!0)},[]),ye=f.useCallback(function(){F(!1)},[]),ne={adornedStart:W,setAdornedStart:Z,color:a,disabled:d,error:p,filled:U,focused:A,fullWidth:v,hiddenLabel:m,margin:(C==="small"?"dense":void 0)||E,onBlur:function(){P(!1)},onEmpty:ye,onFilled:ee,onFocus:function(){P(!0)},registerEffect:H,required:b,variant:N};return f.createElement(Vv.Provider,{value:ne},f.createElement(u,R({className:oe(i.root,s,E!=="none"&&i["margin".concat(at(E))],v&&i.fullWidth),ref:n},D),r))});const LV=Ce(OV,{name:"MuiFormControl"})(MV);var FV=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},BV=f.forwardRef(function(e,n){e.checked;var r=e.classes,i=e.className,s=e.control,o=e.disabled;e.inputRef;var a=e.label,l=e.labelPlacement,u=l===void 0?"end":l;e.name,e.onChange,e.value;var c=te(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),d=Ns(),h=o;typeof h>"u"&&typeof s.props.disabled<"u"&&(h=s.props.disabled),typeof h>"u"&&d&&(h=d.disabled);var p={disabled:h};return["checked","name","onChange","value","inputRef"].forEach(function(g){typeof s.props[g]>"u"&&typeof e[g]<"u"&&(p[g]=e[g])}),f.createElement("label",R({className:oe(r.root,i,u!=="end"&&r["labelPlacement".concat(at(u))],h&&r.disabled),ref:n},c),f.cloneElement(s,p),f.createElement(en,{component:"span",className:oe(r.label,h&&r.disabled)},a))});const fd=Ce(FV,{name:"MuiFormControlLabel"})(BV);var VV=function(e){return{root:R({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},zV=f.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.className,o=e.component,a=o===void 0?"p":o;e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant;var l=te(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"]),u=Ns(),c=Yo({props:e,muiFormControl:u,states:["variant","margin","disabled","error","filled","focused","required"]});return f.createElement(a,R({className:oe(i.root,(c.variant==="filled"||c.variant==="outlined")&&i.contained,s,c.disabled&&i.disabled,c.error&&i.error,c.filled&&i.filled,c.focused&&i.focused,c.required&&i.required,c.margin==="dense"&&i.marginDense),ref:n},l),r===" "?f.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)});const UV=Ce(VV,{name:"MuiFormHelperText"})(zV);var jV=function(e){return{root:R({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},qV=f.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.className;e.color;var o=e.component,a=o===void 0?"label":o;e.disabled,e.error,e.filled,e.focused,e.required;var l=te(e,["children","classes","className","color","component","disabled","error","filled","focused","required"]),u=Ns(),c=Yo({props:e,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]});return f.createElement(a,R({className:oe(i.root,i["color".concat(at(c.color||"primary"))],s,c.disabled&&i.disabled,c.error&&i.error,c.filled&&i.filled,c.focused&&i.focused,c.required&&i.required),ref:n},l),r,c.required&&f.createElement("span",{"aria-hidden":!0,className:oe(i.asterisk,c.error&&i.error)}," ","*"))});const WV=Ce(jV,{name:"MuiFormLabel"})(qV);var KV=[0,1,2,3,4,5,6,7,8,9,10],GV=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function HV(t,e,n){var r={};GV.forEach(function(i){var s="grid-".concat(n,"-").concat(i);if(i===!0){r[s]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(i==="auto"){r[s]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var o="".concat(Math.round(i/12*1e8)/1e6,"%");r[s]={flexBasis:o,flexGrow:0,maxWidth:o}}),n==="xs"?R(t,r):t[e.breakpoints.up(n)]=r}function Xf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=parseFloat(t);return"".concat(n/e).concat(String(t).replace(String(n),"")||"px")}function QV(t,e){var n={};return KV.forEach(function(r){var i=t.spacing(r);i!==0&&(n["spacing-".concat(e,"-").concat(r)]={margin:"-".concat(Xf(i,2)),width:"calc(100% + ".concat(Xf(i),")"),"& > $item":{padding:Xf(i,2)}})}),n}var XV=function(e){return R({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},QV(e,"xs"),e.breakpoints.keys.reduce(function(n,r){return HV(n,e,r),n},{}))},YV=f.forwardRef(function(e,n){var r=e.alignContent,i=r===void 0?"stretch":r,s=e.alignItems,o=s===void 0?"stretch":s,a=e.classes,l=e.className,u=e.component,c=u===void 0?"div":u,d=e.container,h=d===void 0?!1:d,p=e.direction,g=p===void 0?"row":p,v=e.item,S=v===void 0?!1:v,y=e.justify,m=e.justifyContent,w=m===void 0?"flex-start":m,E=e.lg,x=E===void 0?!1:E,b=e.md,C=b===void 0?!1:b,k=e.sm,N=k===void 0?!1:k,D=e.spacing,V=D===void 0?0:D,W=e.wrap,Z=W===void 0?"wrap":W,Q=e.xl,U=Q===void 0?!1:Q,F=e.xs,B=F===void 0?!1:F,I=e.zeroMinWidth,P=I===void 0?!1:I,A=te(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),H=oe(a.root,l,h&&[a.container,V!==0&&a["spacing-xs-".concat(String(V))]],S&&a.item,P&&a.zeroMinWidth,g!=="row"&&a["direction-xs-".concat(String(g))],Z!=="wrap"&&a["wrap-xs-".concat(String(Z))],o!=="stretch"&&a["align-items-xs-".concat(String(o))],i!=="stretch"&&a["align-content-xs-".concat(String(i))],(y||w)!=="flex-start"&&a["justify-content-xs-".concat(String(y||w))],B!==!1&&a["grid-xs-".concat(String(B))],N!==!1&&a["grid-sm-".concat(String(N))],C!==!1&&a["grid-md-".concat(String(C))],x!==!1&&a["grid-lg-".concat(String(x))],U!==!1&&a["grid-xl-".concat(String(U))]);return f.createElement(c,R({className:H,ref:n},A))}),JV=Ce(XV,{name:"MuiGrid"})(YV);const Nt=JV;function Jm(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var ZV={entering:{opacity:1,transform:Jm(1)},entered:{opacity:1,transform:"none"}},ik=f.forwardRef(function(e,n){var r=e.children,i=e.disableStrictModeCompat,s=i===void 0?!1:i,o=e.in,a=e.onEnter,l=e.onEntered,u=e.onEntering,c=e.onExit,d=e.onExited,h=e.onExiting,p=e.style,g=e.timeout,v=g===void 0?"auto":g,S=e.TransitionComponent,y=S===void 0?vB:S,m=te(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=f.useRef(),E=f.useRef(),x=Mv(),b=x.unstable_strictMode&&!s,C=f.useRef(null),k=wn(r.ref,n),N=wn(b?C:void 0,k),D=function(P){return function(A,H){if(P){var ee=b?[C.current,A]:[A,H],ye=bv(ee,2),ne=ye[0],Se=ye[1];Se===void 0?P(ne):P(ne,Se)}}},V=D(u),W=D(function(I,P){IB(I);var A=cS({style:p,timeout:v},{mode:"enter"}),H=A.duration,ee=A.delay,ye;v==="auto"?(ye=x.transitions.getAutoHeightDuration(I.clientHeight),E.current=ye):ye=H,I.style.transition=[x.transitions.create("opacity",{duration:ye,delay:ee}),x.transitions.create("transform",{duration:ye*.666,delay:ee})].join(","),a&&a(I,P)}),Z=D(l),Q=D(h),U=D(function(I){var P=cS({style:p,timeout:v},{mode:"exit"}),A=P.duration,H=P.delay,ee;v==="auto"?(ee=x.transitions.getAutoHeightDuration(I.clientHeight),E.current=ee):ee=A,I.style.transition=[x.transitions.create("opacity",{duration:ee,delay:H}),x.transitions.create("transform",{duration:ee*.666,delay:H||ee*.333})].join(","),I.style.opacity="0",I.style.transform=Jm(.75),c&&c(I)}),F=D(d),B=function(P,A){var H=b?P:A;v==="auto"&&(w.current=setTimeout(H,E.current||0))};return f.useEffect(function(){return function(){clearTimeout(w.current)}},[]),f.createElement(y,R({appear:!0,in:o,nodeRef:b?C:void 0,onEnter:W,onEntered:Z,onEntering:V,onExit:U,onExited:F,onExiting:Q,addEndListener:B,timeout:v==="auto"?null:v},m),function(I,P){return f.cloneElement(r,R({style:R({opacity:0,transform:Jm(.75),visibility:I==="exited"&&!o?"hidden":void 0},ZV[I],p,r.props.style),ref:N},P))})});ik.muiSupportAuto=!0;const ez=ik;var tz=function(e){var n=e.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},sk=f.forwardRef(function(e,n){var r=e.disableUnderline,i=e.classes,s=e.fullWidth,o=s===void 0?!1:s,a=e.inputComponent,l=a===void 0?"input":a,u=e.multiline,c=u===void 0?!1:u,d=e.type,h=d===void 0?"text":d,p=te(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return f.createElement(Uv,R({classes:R({},i,{root:oe(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:l,multiline:c,ref:n,type:h},p))});sk.muiName="Input";const jv=Ce(tz,{name:"MuiInput"})(sk);var nz=function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},rz=f.forwardRef(function(e,n){var r=e.classes,i=e.className,s=e.disableAnimation,o=s===void 0?!1:s;e.margin;var a=e.shrink;e.variant;var l=te(e,["classes","className","disableAnimation","margin","shrink","variant"]),u=Ns(),c=a;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);var d=Yo({props:e,muiFormControl:u,states:["margin","variant"]});return f.createElement(WV,R({"data-shrink":c,className:oe(r.root,i,u&&r.formControl,!o&&r.animated,c&&r.shrink,d.margin==="dense"&&r.marginDense,{filled:r.filled,outlined:r.outlined}[d.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},l))});const iz=Ce(nz,{name:"MuiInputLabel"})(rz);var sz=f.createContext({});const oz=sz;var az={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},lz=f.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.className,o=e.component,a=o===void 0?"ul":o,l=e.dense,u=l===void 0?!1:l,c=e.disablePadding,d=c===void 0?!1:c,h=e.subheader,p=te(e,["children","classes","className","component","dense","disablePadding","subheader"]),g=f.useMemo(function(){return{dense:u}},[u]);return f.createElement(oz.Provider,{value:g},f.createElement(a,R({className:oe(i.root,s,u&&i.dense,!d&&i.padding,h&&i.subheader),ref:n},p),h,r))});const uz=Ce(az,{name:"MuiList"})(lz);function gS(t,e){var n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function yS(t,e){var n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function vS(t){return[t.horizontal,t.vertical].map(function(e){return typeof e=="number"?"".concat(e,"px"):e}).join(" ")}function cz(t,e){for(var n=e,r=0;n&&n!==t;)n=n.parentElement,r+=n.scrollTop;return r}function Yf(t){return typeof t=="function"?t():t}var dz={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},hz=f.forwardRef(function(e,n){var r=e.action,i=e.anchorEl,s=e.anchorOrigin,o=s===void 0?{vertical:"top",horizontal:"left"}:s,a=e.anchorPosition,l=e.anchorReference,u=l===void 0?"anchorEl":l,c=e.children,d=e.classes,h=e.className,p=e.container,g=e.elevation,v=g===void 0?8:g,S=e.getContentAnchorEl,y=e.marginThreshold,m=y===void 0?16:y,w=e.onEnter,E=e.onEntered,x=e.onEntering,b=e.onExit,C=e.onExited,k=e.onExiting,N=e.open,D=e.PaperProps,V=D===void 0?{}:D,W=e.transformOrigin,Z=W===void 0?{vertical:"top",horizontal:"left"}:W,Q=e.TransitionComponent,U=Q===void 0?ez:Q,F=e.transitionDuration,B=F===void 0?"auto":F,I=e.TransitionProps,P=I===void 0?{}:I,A=te(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),H=f.useRef(),ee=f.useCallback(function(de){if(u==="anchorPosition")return a;var ge=Yf(i),De=ge&&ge.nodeType===1?ge:br(H.current).body,fe=De.getBoundingClientRect(),rt=de===0?o.vertical:"center";return{top:fe.top+gS(fe,rt),left:fe.left+yS(fe,o.horizontal)}},[i,o.horizontal,o.vertical,a,u]),ye=f.useCallback(function(de){var ge=0;if(S&&u==="anchorEl"){var De=S(de);if(De&&de.contains(De)){var fe=cz(de,De);ge=De.offsetTop+De.clientHeight/2-fe||0}}return ge},[o.vertical,u,S]),ne=f.useCallback(function(de){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:gS(de,Z.vertical)+ge,horizontal:yS(de,Z.horizontal)}},[Z.horizontal,Z.vertical]),Se=f.useCallback(function(de){var ge=ye(de),De={width:de.offsetWidth,height:de.offsetHeight},fe=ne(De,ge);if(u==="none")return{top:null,left:null,transformOrigin:vS(fe)};var rt=ee(ge),he=rt.top-fe.vertical,Ie=rt.left-fe.horizontal,_t=he+De.height,Nn=Ie+De.width,an=qT(Yf(i)),zn=an.innerHeight-m,Vt=an.innerWidth-m;if(he<m){var ut=he-m;he-=ut,fe.vertical+=ut}else if(_t>zn){var He=_t-zn;he-=He,fe.vertical+=He}if(Ie<m){var ln=Ie-m;Ie-=ln,fe.horizontal+=ln}else if(Nn>Vt){var Qt=Nn-Vt;Ie-=Qt,fe.horizontal+=Qt}return{top:"".concat(Math.round(he),"px"),left:"".concat(Math.round(Ie),"px"),transformOrigin:vS(fe)}},[i,u,ee,ye,ne,m]),re=f.useCallback(function(){var de=H.current;if(de){var ge=Se(de);ge.top!==null&&(de.style.top=ge.top),ge.left!==null&&(de.style.left=ge.left),de.style.transformOrigin=ge.transformOrigin}},[Se]),Re=function(ge,De){x&&x(ge,De),re()},Fe=f.useCallback(function(de){H.current=Cn.findDOMNode(de)},[]);f.useEffect(function(){N&&re()}),f.useImperativeHandle(r,function(){return N?{updatePosition:function(){re()}}:null},[N,re]),f.useEffect(function(){if(N){var de=jT(function(){re()});return window.addEventListener("resize",de),function(){de.clear(),window.removeEventListener("resize",de)}}},[N,re]);var ft=B;B==="auto"&&!U.muiSupportAuto&&(ft=void 0);var Bt=p||(i?br(Yf(i)).body:void 0);return f.createElement(IV,R({container:Bt,open:N,ref:n,BackdropProps:{invisible:!0},className:oe(d.root,h)},A),f.createElement(U,R({appear:!0,in:N,onEnter:w,onEntered:E,onExit:b,onExited:C,onExiting:k,timeout:ft},P,{onEntering:Gm(Re,P.onEntering)}),f.createElement(YT,R({elevation:v,ref:Fe},V,{className:oe(d.paper,V.className)}),c)))});const fz=Ce(dz,{name:"MuiPopover"})(hz);function Jf(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function wS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function ok(t,e){if(e===void 0)return!0;var n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function va(t,e,n,r,i,s){for(var o=!1,a=i(t,e,e?n:!1);a;){if(a===t.firstChild){if(o)return;o=!0}var l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!ok(a,s)||l)a=i(t,a,n);else{a.focus();return}}}var pz=typeof window>"u"?f.useEffect:f.useLayoutEffect,mz=f.forwardRef(function(e,n){var r=e.actions,i=e.autoFocus,s=i===void 0?!1:i,o=e.autoFocusItem,a=o===void 0?!1:o,l=e.children,u=e.className,c=e.disabledItemsFocusable,d=c===void 0?!1:c,h=e.disableListWrap,p=h===void 0?!1:h,g=e.onKeyDown,v=e.variant,S=v===void 0?"selectedMenu":v,y=te(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),m=f.useRef(null),w=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});pz(function(){s&&m.current.focus()},[s]),f.useImperativeHandle(r,function(){return{adjustStyleForScrollbar:function(D,V){var W=!m.current.style.width;if(D.clientHeight<m.current.clientHeight&&W){var Z="".concat(tk(),"px");m.current.style[V.direction==="rtl"?"paddingLeft":"paddingRight"]=Z,m.current.style.width="calc(100% + ".concat(Z,")")}return m.current}}},[]);var E=function(D){var V=m.current,W=D.key,Z=br(V).activeElement;if(W==="ArrowDown")D.preventDefault(),va(V,Z,p,d,Jf);else if(W==="ArrowUp")D.preventDefault(),va(V,Z,p,d,wS);else if(W==="Home")D.preventDefault(),va(V,null,p,d,Jf);else if(W==="End")D.preventDefault(),va(V,null,p,d,wS);else if(W.length===1){var Q=w.current,U=W.toLowerCase(),F=performance.now();Q.keys.length>0&&(F-Q.lastTime>500?(Q.keys=[],Q.repeating=!0,Q.previousKeyMatched=!0):Q.repeating&&U!==Q.keys[0]&&(Q.repeating=!1)),Q.lastTime=F,Q.keys.push(U);var B=Z&&!Q.repeating&&ok(Z,Q);Q.previousKeyMatched&&(B||va(V,Z,!1,d,Jf,Q))?D.preventDefault():Q.previousKeyMatched=!1}g&&g(D)},x=f.useCallback(function(N){m.current=Cn.findDOMNode(N)},[]),b=wn(x,n),C=-1;f.Children.forEach(l,function(N,D){f.isValidElement(N)&&(N.props.disabled||(S==="selectedMenu"&&N.props.selected||C===-1)&&(C=D))});var k=f.Children.map(l,function(N,D){if(D===C){var V={};return a&&(V.autoFocus=!0),N.props.tabIndex===void 0&&S==="selectedMenu"&&(V.tabIndex=0),f.cloneElement(N,V)}return N});return f.createElement(uz,R({role:"menu",ref:b,className:u,onKeyDown:E,tabIndex:s?0:-1},y),k)});const gz=mz;var SS={vertical:"top",horizontal:"right"},ES={vertical:"top",horizontal:"left"},yz={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},vz=f.forwardRef(function(e,n){var r=e.autoFocus,i=r===void 0?!0:r,s=e.children,o=e.classes,a=e.disableAutoFocusItem,l=a===void 0?!1:a,u=e.MenuListProps,c=u===void 0?{}:u,d=e.onClose,h=e.onEntering,p=e.open,g=e.PaperProps,v=g===void 0?{}:g,S=e.PopoverClasses,y=e.transitionDuration,m=y===void 0?"auto":y,w=e.TransitionProps;w=w===void 0?{}:w;var E=w.onEntering,x=te(w,["onEntering"]),b=e.variant,C=b===void 0?"selectedMenu":b,k=te(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),N=Mv(),D=i&&!l&&p,V=f.useRef(null),W=f.useRef(null),Z=function(){return W.current},Q=function(P,A){V.current&&V.current.adjustStyleForScrollbar(P,N),h&&h(P,A),E&&E(P,A)},U=function(P){P.key==="Tab"&&(P.preventDefault(),d&&d(P,"tabKeyDown"))},F=-1;f.Children.map(s,function(I,P){f.isValidElement(I)&&(I.props.disabled||(C!=="menu"&&I.props.selected||F===-1)&&(F=P))});var B=f.Children.map(s,function(I,P){return P===F?f.cloneElement(I,{ref:function(H){W.current=Cn.findDOMNode(H),Al(I.ref,H)}}):I});return f.createElement(fz,R({getContentAnchorEl:Z,classes:S,onClose:d,TransitionProps:R({onEntering:Q},x),anchorOrigin:N.direction==="rtl"?SS:ES,transformOrigin:N.direction==="rtl"?SS:ES,PaperProps:R({},v,{classes:R({},v.classes,{root:o.paper})}),open:p,ref:n,transitionDuration:m},k),f.createElement(gz,R({onKeyDown:U,actions:V,autoFocus:i&&(F===-1||l),autoFocusItem:D,variant:C},c,{className:oe(o.list,c.className)}),B))});const wz=Ce(yz,{name:"MuiMenu"})(vz);var Sz=f.forwardRef(function(e,n){var r=e.classes,i=e.className,s=e.disabled,o=e.IconComponent,a=e.inputRef,l=e.variant,u=l===void 0?"standard":l,c=te(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return f.createElement(f.Fragment,null,f.createElement("select",R({className:oe(r.root,r.select,r[u],i,s&&r.disabled),disabled:s,ref:a||n},c)),e.multiple?null:f.createElement(o,{className:oe(r.icon,r["icon".concat(at(u))],s&&r.disabled)}))});const ak=Sz,lk=Dh(f.createElement("path",{d:"M7 10l5 5 5-5z"}));var uk=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Ez=f.createElement(jv,null),ck=f.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.IconComponent,o=s===void 0?lk:s,a=e.input,l=a===void 0?Ez:a,u=e.inputProps;e.variant;var c=te(e,["children","classes","IconComponent","input","inputProps","variant"]),d=Ns(),h=Yo({props:e,muiFormControl:d,states:["variant"]});return f.cloneElement(l,R({inputComponent:ak,inputProps:R({children:r,classes:i,IconComponent:o,variant:h.variant,type:void 0},u,l?l.props.inputProps:{}),ref:n},c))});ck.muiName="Select";Ce(uk,{name:"MuiNativeSelect"})(ck);var xz=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},bz=f.forwardRef(function(e,n){e.children;var r=e.classes,i=e.className,s=e.label,o=e.labelWidth,a=e.notched,l=e.style,u=te(e,["children","classes","className","label","labelWidth","notched","style"]),c=Mv(),d=c.direction==="rtl"?"right":"left";if(s!==void 0)return f.createElement("fieldset",R({"aria-hidden":!0,className:oe(r.root,i),ref:n,style:l},u),f.createElement("legend",{className:oe(r.legendLabelled,a&&r.legendNotched)},s?f.createElement("span",null,s):f.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var h=o>0?o*.75+8:.01;return f.createElement("fieldset",R({"aria-hidden":!0,style:R(Zn({},"padding".concat(at(d)),8),l),className:oe(r.root,i),ref:n},u),f.createElement("legend",{className:r.legend,style:{width:a?h:.01}},f.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const Cz=Ce(xz,{name:"PrivateNotchedOutline"})(bz);var Iz=function(e){var n=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:n}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:n},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},dk=f.forwardRef(function(e,n){var r=e.classes,i=e.fullWidth,s=i===void 0?!1:i,o=e.inputComponent,a=o===void 0?"input":o,l=e.label,u=e.labelWidth,c=u===void 0?0:u,d=e.multiline,h=d===void 0?!1:d,p=e.notched,g=e.type,v=g===void 0?"text":g,S=te(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return f.createElement(Uv,R({renderSuffix:function(m){return f.createElement(Cz,{className:r.notchedOutline,label:l,labelWidth:c,notched:typeof p<"u"?p:!!(m.startAdornment||m.filled||m.focused)})},classes:R({},r,{root:oe(r.root,r.underline),notchedOutline:null}),fullWidth:s,inputComponent:a,multiline:h,ref:n,type:v},S))});dk.muiName="Input";const hk=Ce(Iz,{name:"MuiOutlinedInput"})(dk);function xS(t,e){return Ss(e)==="object"&&e!==null?t===e:String(t)===String(e)}function Tz(t){return t==null||typeof t=="string"&&!t.trim()}var kz=f.forwardRef(function(e,n){var r=e["aria-label"],i=e.autoFocus,s=e.autoWidth,o=e.children,a=e.classes,l=e.className,u=e.defaultValue,c=e.disabled,d=e.displayEmpty,h=e.IconComponent,p=e.inputRef,g=e.labelId,v=e.MenuProps,S=v===void 0?{}:v,y=e.multiple,m=e.name,w=e.onBlur,E=e.onChange,x=e.onClose,b=e.onFocus,C=e.onOpen,k=e.open,N=e.readOnly,D=e.renderValue,V=e.SelectDisplayProps,W=V===void 0?{}:V,Z=e.tabIndex;e.type;var Q=e.value,U=e.variant,F=U===void 0?"standard":U,B=te(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),I=WT({controlled:Q,default:u,name:"Select"}),P=bv(I,2),A=P[0],H=P[1],ee=f.useRef(null),ye=f.useState(null),ne=ye[0],Se=ye[1],re=f.useRef(k!=null),Re=re.current,Fe=f.useState(),ft=Fe[0],Bt=Fe[1],de=f.useState(!1),ge=de[0],De=de[1],fe=wn(n,p);f.useImperativeHandle(fe,function(){return{focus:function(){ne.focus()},node:ee.current,value:A}},[ne,A]),f.useEffect(function(){i&&ne&&ne.focus()},[i,ne]),f.useEffect(function(){if(ne){var $e=br(ne).getElementById(g);if($e){var se=function(){getSelection().isCollapsed&&ne.focus()};return $e.addEventListener("click",se),function(){$e.removeEventListener("click",se)}}}},[g,ne]);var rt=function(se,pt){se?C&&C(pt):x&&x(pt),Re||(Bt(s?null:ne.clientWidth),De(se))},he=function(se){se.button===0&&(se.preventDefault(),ne.focus(),rt(!0,se))},Ie=function(se){rt(!1,se)},_t=f.Children.toArray(o),Nn=function(se){var pt=_t.map(function(Ds){return Ds.props.value}).indexOf(se.target.value);if(pt!==-1){var zt=_t[pt];H(zt.props.value),E&&E(se,zt)}},an=function(se){return function(pt){y||rt(!1,pt);var zt;if(y){zt=Array.isArray(A)?A.slice():[];var Ds=A.indexOf(se.props.value);Ds===-1?zt.push(se.props.value):zt.splice(Ds,1)}else zt=se.props.value;se.props.onClick&&se.props.onClick(pt),A!==zt&&(H(zt),E&&(pt.persist(),Object.defineProperty(pt,"target",{writable:!0,value:{value:zt,name:m}}),E(pt,se)))}},zn=function(se){if(!N){var pt=[" ","ArrowUp","ArrowDown","Enter"];pt.indexOf(se.key)!==-1&&(se.preventDefault(),rt(!0,se))}},Vt=ne!==null&&(Re?k:ge),ut=function(se){!Vt&&w&&(se.persist(),Object.defineProperty(se,"target",{writable:!0,value:{value:A,name:m}}),w(se))};delete B["aria-invalid"];var He,ln,Qt=[],Rr=!1;(zv({value:A})||d)&&(D?He=D(A):Rr=!0);var Xt=_t.map(function($e){if(!f.isValidElement($e))return null;var se;if(y){if(!Array.isArray(A))throw new Error(Mo(2));se=A.some(function(pt){return xS(pt,$e.props.value)}),se&&Rr&&Qt.push($e.props.children)}else se=xS(A,$e.props.value),se&&Rr&&(ln=$e.props.children);return f.cloneElement($e,{"aria-selected":se?"true":void 0,onClick:an($e),onKeyUp:function(zt){zt.key===" "&&zt.preventDefault(),$e.props.onKeyUp&&$e.props.onKeyUp(zt)},role:"option",selected:se,value:void 0,"data-value":$e.props.value})});Rr&&(He=y?Qt.join(", "):ln);var Pe=ft;!s&&Re&&ne&&(Pe=ne.clientWidth);var $r;typeof Z<"u"?$r=Z:$r=c?null:0;var Nr=W.id||(m?"mui-component-select-".concat(m):void 0);return f.createElement(f.Fragment,null,f.createElement("div",R({className:oe(a.root,a.select,a.selectMenu,a[F],l,c&&a.disabled),ref:Se,tabIndex:$r,role:"button","aria-disabled":c?"true":void 0,"aria-expanded":Vt?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[g,Nr].filter(Boolean).join(" ")||void 0,onKeyDown:zn,onMouseDown:c||N?null:he,onBlur:ut,onFocus:b},W,{id:Nr}),Tz(He)?f.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):He),f.createElement("input",R({value:Array.isArray(A)?A.join(","):A,name:m,ref:ee,"aria-hidden":!0,onChange:Nn,tabIndex:-1,className:a.nativeInput,autoFocus:i},B)),f.createElement(h,{className:oe(a.icon,a["icon".concat(at(F))],Vt&&a.iconOpen,c&&a.disabled)}),f.createElement(wz,R({id:"menu-".concat(m||""),anchorEl:ne,open:Vt,onClose:Ie},S,{MenuListProps:R({"aria-labelledby":g,role:"listbox",disableListWrap:!0},S.MenuListProps),PaperProps:R({},S.PaperProps,{style:R({minWidth:Pe},S.PaperProps!=null?S.PaperProps.style:null)})}),Xt))});const _z=kz;var Rz=uk,$z=f.createElement(jv,null),Nz=f.createElement(rk,null),fk=f.forwardRef(function t(e,n){var r=e.autoWidth,i=r===void 0?!1:r,s=e.children,o=e.classes,a=e.displayEmpty,l=a===void 0?!1:a,u=e.IconComponent,c=u===void 0?lk:u,d=e.id,h=e.input,p=e.inputProps,g=e.label,v=e.labelId,S=e.labelWidth,y=S===void 0?0:S,m=e.MenuProps,w=e.multiple,E=w===void 0?!1:w,x=e.native,b=x===void 0?!1:x,C=e.onClose,k=e.onOpen,N=e.open,D=e.renderValue,V=e.SelectDisplayProps,W=e.variant,Z=W===void 0?"standard":W,Q=te(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),U=b?ak:_z,F=Ns(),B=Yo({props:e,muiFormControl:F,states:["variant"]}),I=B.variant||Z,P=h||{standard:$z,outlined:f.createElement(hk,{label:g,labelWidth:y}),filled:Nz}[I];return f.cloneElement(P,R({inputComponent:U,inputProps:R({children:s,IconComponent:c,variant:I,type:void 0,multiple:E},b?{id:d}:{autoWidth:i,displayEmpty:l,labelId:v,MenuProps:m,onClose:C,onOpen:k,open:N,renderValue:D,SelectDisplayProps:R({id:d},V)},p,{classes:p?Rv({baseClasses:o,newClasses:p.classes,Component:t}):o},h?h.props.inputProps:{}),ref:n},Q))});fk.muiName="Select";const Dz=Ce(Rz,{name:"MuiSelect"})(fk);var Pz={standard:jv,filled:rk,outlined:hk},Az={root:{}},Oz=f.forwardRef(function(e,n){var r=e.autoComplete,i=e.autoFocus,s=i===void 0?!1:i,o=e.children,a=e.classes,l=e.className,u=e.color,c=u===void 0?"primary":u,d=e.defaultValue,h=e.disabled,p=h===void 0?!1:h,g=e.error,v=g===void 0?!1:g,S=e.FormHelperTextProps,y=e.fullWidth,m=y===void 0?!1:y,w=e.helperText,E=e.hiddenLabel,x=e.id,b=e.InputLabelProps,C=e.inputProps,k=e.InputProps,N=e.inputRef,D=e.label,V=e.multiline,W=V===void 0?!1:V,Z=e.name,Q=e.onBlur,U=e.onChange,F=e.onFocus,B=e.placeholder,I=e.required,P=I===void 0?!1:I,A=e.rows,H=e.rowsMax,ee=e.maxRows,ye=e.minRows,ne=e.select,Se=ne===void 0?!1:ne,re=e.SelectProps,Re=e.type,Fe=e.value,ft=e.variant,Bt=ft===void 0?"standard":ft,de=te(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),ge={};if(Bt==="outlined"&&(b&&typeof b.shrink<"u"&&(ge.notched=b.shrink),D)){var De,fe=(De=b==null?void 0:b.required)!==null&&De!==void 0?De:P;ge.label=f.createElement(f.Fragment,null,D,fe&&" *")}Se&&((!re||!re.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);var rt=w&&x?"".concat(x,"-helper-text"):void 0,he=D&&x?"".concat(x,"-label"):void 0,Ie=Pz[Bt],_t=f.createElement(Ie,R({"aria-describedby":rt,autoComplete:r,autoFocus:s,defaultValue:d,fullWidth:m,multiline:W,name:Z,rows:A,rowsMax:H,maxRows:ee,minRows:ye,type:Re,value:Fe,id:x,inputRef:N,onBlur:Q,onChange:U,onFocus:F,placeholder:B,inputProps:C},ge,k));return f.createElement(LV,R({className:oe(a.root,l),disabled:p,error:v,fullWidth:m,hiddenLabel:E,ref:n,required:P,color:c,variant:Bt},de),D&&f.createElement(iz,R({htmlFor:x,id:he},b),D),Se?f.createElement(Dz,R({"aria-describedby":rt,id:x,labelId:he,value:Fe,input:_t},re),o):_t,w&&f.createElement(UV,R({id:rt},S),w))});const cn=Ce(Az,{name:"MuiTextField"})(Oz);/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const bS="popstate";function Mz(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pk(i)}return Fz(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lz(){return Math.random().toString(36).substr(2,8)}function CS(t,e){return{usr:t.state,key:t.key,idx:e}}function Zm(t,e,n,r){return n===void 0&&(n=null),Ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jo(e):e,{state:n,key:e&&e.key||r||Lz()})}function pk(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Fz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ol({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Gr.Pop;let S=c(),y=S==null?null:S-u;u=S,l&&l({action:a,location:v.location,delta:y})}function h(S,y){a=Gr.Push;let m=Zm(v.location,S,y);n&&n(m,S),u=c()+1;let w=CS(m,u),E=v.createHref(m);try{o.pushState(w,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function p(S,y){a=Gr.Replace;let m=Zm(v.location,S,y);n&&n(m,S),u=c();let w=CS(m,u),E=v.createHref(m);o.replaceState(w,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function g(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof S=="string"?S:pk(S);return yt(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bS,d),l=S,()=>{i.removeEventListener(bS,d),l=null}},createHref(S){return e(i,S)},createURL:g,encodeLocation(S){let y=g(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(S){return o.go(S)}};return v}var IS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IS||(IS={}));function Bz(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Jo(e):e,i=yk(r.pathname||"/",n);if(i==null)return null;let s=mk(t);Vz(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Qz(s[a],Jz(i));return o}function mk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(yt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ns([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mk(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Gz(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of gk(s.path))i(s,o,l)}),e}function gk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=gk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Vz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Hz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zz=/^:\w+$/,Uz=3,jz=2,qz=1,Wz=10,Kz=-2,TS=t=>t==="*";function Gz(t,e){let n=t.split("/"),r=n.length;return n.some(TS)&&(r+=Kz),e&&(r+=jz),n.filter(i=>!TS(i)).reduce((i,s)=>i+(zz.test(s)?Uz:s===""?qz:Wz),r)}function Hz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Qz(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Xz({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ns([i,c.pathname]),pathnameBase:i3(ns([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ns([i,c.pathnameBase]))}return s}function Xz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Yz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=Zz(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Yz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jz(t){try{return decodeURI(t)}catch(e){return qv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zz(t,e){try{return decodeURIComponent(t)}catch(n){return qv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function yk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function e3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jo(t):t;return{pathname:n?n.startsWith("/")?n:t3(n,e):e,search:s3(r),hash:o3(i)}}function t3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jo(t):(i=Ol({},t),yt(!i.pathname||!i.pathname.includes("?"),Zf("?","pathname","search",i)),yt(!i.pathname||!i.pathname.includes("#"),Zf("#","pathname","hash",i)),yt(!i.search||!i.search.includes("#"),Zf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=e3(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ns=t=>t.join("/").replace(/\/\/+/g,"/"),i3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function a3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const u3=typeof Object.is=="function"?Object.is:l3,{useState:c3,useEffect:d3,useLayoutEffect:h3,useDebugValue:f3}=tp;function p3(t,e,n){const r=e(),[{inst:i},s]=c3({inst:{value:r,getSnapshot:e}});return h3(()=>{i.value=r,i.getSnapshot=e,ep(i)&&s({inst:i})},[t,r,e]),d3(()=>(ep(i)&&s({inst:i}),t(()=>{ep(i)&&s({inst:i})})),[t]),f3(r),r}function ep(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!u3(n,r)}catch{return!0}}function m3(t,e,n){return e()}const g3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y3=!g3,v3=y3?m3:p3;"useSyncExternalStore"in tp&&(t=>t.useSyncExternalStore)(tp);const vk=f.createContext(null),Wv=f.createContext(null),Kv=f.createContext(null),Mh=f.createContext(null),Zo=f.createContext({outlet:null,matches:[]}),wk=f.createContext(null);function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function wu(){return f.useContext(Mh)!=null}function Sk(){return wu()||yt(!1),f.useContext(Mh).location}function ea(){wu()||yt(!1);let{basename:t,navigator:e}=f.useContext(Kv),{matches:n}=f.useContext(Zo),{pathname:r}=Sk(),i=JSON.stringify(n3(n).map(a=>a.pathnameBase)),s=f.useRef(!1);return f.useEffect(()=>{s.current=!0}),f.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=r3(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:ns([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function Ek(){let{matches:t}=f.useContext(Zo),e=t[t.length-1];return e?e.params:{}}function w3(t,e){wu()||yt(!1);let{navigator:n}=f.useContext(Kv),r=f.useContext(Wv),{matches:i}=f.useContext(Zo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Sk(),u;if(e){var c;let v=typeof e=="string"?Jo(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||yt(!1),u=v}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",p=Bz(t,{pathname:h}),g=b3(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:ns([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:ns([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&g?f.createElement(Mh.Provider,{value:{location:eg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gr.Pop}},g):g}function S3(){let t=k3(),e=a3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:i},n):null,s)}class E3 extends f.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?f.createElement(Zo.Provider,{value:this.props.routeContext},f.createElement(wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x3(t){let{routeContext:e,match:n,children:r}=t,i=f.useContext(vk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Zo.Provider,{value:e},r)}function b3(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||yt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=f.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=f.createElement(S3,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=u:o.route.Component?h=f.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),f.createElement(x3,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?f.createElement(E3,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var kS;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(kS||(kS={}));var pd;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(pd||(pd={}));function C3(t){let e=f.useContext(Wv);return e||yt(!1),e}function I3(t){let e=f.useContext(Zo);return e||yt(!1),e}function T3(t){let e=I3(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function k3(){var t;let e=f.useContext(wk),n=C3(pd.UseRouteError),r=T3(pd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function _3(t){let{to:e,replace:n,state:r,relative:i}=t;wu()||yt(!1);let s=f.useContext(Wv),o=ea();return f.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function js(t){yt(!1)}function R3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gr.Pop,navigator:s,static:o=!1}=t;wu()&&yt(!1);let a=e.replace(/^\/*/,"/"),l=f.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Jo(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,g=f.useMemo(()=>{let v=yk(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:p},navigationType:i}},[a,u,c,d,h,p,i]);return g==null?null:f.createElement(Kv.Provider,{value:l},f.createElement(Mh.Provider,{children:n,value:g}))}function $3(t){let{children:e,location:n}=t,r=f.useContext(vk),i=r&&!e?r.router.routes:tg(e);return w3(i,n)}var _S;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(_S||(_S={}));new Promise(()=>{});function tg(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,i)=>{if(!f.isValidElement(r))return;if(r.type===f.Fragment){n.push.apply(n,tg(r.props.children,e));return}r.type!==js&&yt(!1),!r.props.index||!r.props.children||yt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N3(t){let{basename:e,children:n,window:r}=t,i=f.useRef();i.current==null&&(i.current=Mz({window:r,v5Compat:!0}));let s=i.current,[o,a]=f.useState({action:s.action,location:s.location});return f.useLayoutEffect(()=>s.listen(a),[s]),f.createElement(R3,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var RS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(RS||(RS={}));var $S;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($S||($S={}));const D3=Nh(t=>({root:{flexGrow:1,padding:t.spacing(2),backgroundColor:"#F6F6F6",minHeight:"100vh"},heading:{marginBottom:t.spacing(3)},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"250px",padding:t.spacing(2),borderRadius:t.spacing(2),boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",backgroundColor:"white"},button:{marginTop:"auto"}})),P3=()=>{const t=D3(),[e,n]=f.useState([]),r=ea();f.useEffect(()=>{console.log("List component re-render"),es.collection("quizzes").get().then(a=>{const l=a.docs.map(u=>u.data());n(l)})},[]);const i=a=>{r(`/app/start/${a}`)},s=a=>{es.collection("quizzes").doc(a).delete().then(()=>{console.log("Document successfully deleted!");const u=e.filter(c=>c.quizData[0].name!==a);n(u)}).catch(u=>{console.error("Error removing document: ",u)})},o=a=>{r(`/app/edit/${a}`)};return Oe("div",{className:t.root,children:[j(en,{variant:"h3",className:t.heading,children:"Available Quizzes"}),j(Nt,{container:!0,spacing:3,children:e.map(a=>j(Nt,{item:!0,xs:12,sm:6,children:Oe(dd,{className:t.card,children:[Oe(Ym,{children:[j(en,{variant:"h5",component:"h2",children:a.quizData[0].name}),j(en,{variant:"h6",component:"p",children:a.quizData[0].description}),Oe(en,{variant:"h6",component:"p",children:["Time : ",a.quizData[0].time," seconds"]}),Oe(en,{variant:"h6",component:"p",children:["Point : ",a.quizData[0].points]})]}),Oe(ZT,{children:[j(Fn,{className:t.button,variant:"contained",color:"primary",onClick:()=>i(a.quizData[0].name),children:"Start Quiz"}),j(Fn,{className:t.button,variant:"contained",color:"primary",onClick:()=>o(a.quizData[0].name),children:"Edit Quiz"}),j(Fn,{className:t.button,variant:"contained",color:"secondary",onClick:()=>s(a.quizData[0].name),children:"Delete Quiz"})]})]})},a.quizData[0].name))})]})},xk=Nh(t=>({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f2f2f2",border:"1px solid #d3d3d3"},title:{marginBottom:t.spacing(5),fontSize:"48px",fontWeight:"bold",fontFamily:"Arial",color:"#333",textTransform:"uppercase"},createQuizButton:{marginBottom:t.spacing(5),backgroundColor:"#6c63ff",color:"#fff",fontSize:"20px",padding:"12px 24px",borderRadius:"4px","&:hover":{backgroundColor:"#4c47a8"}},quizList:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center","& > *":{backgroundColor:"#fff",borderRadius:"4px",padding:"24px",margin:"12px",boxShadow:"0px 0px 10px 0px rgba(0,0,0,0.2)",border:"1px solid #d3d3d3"}}}));function A3(){const t=ea(),e=xk();return j(Fn,{className:e.createQuizButton,variant:"contained",color:"primary",onClick:()=>t("/app/creation"),children:"Create Quiz"})}function O3(){const t=xk();return Oe(uV,{className:t.root,maxWidth:"lg",children:[j(en,{className:t.title,variant:"h2",children:"QUIZ APP ASSIGNMENT"}),j(A3,{}),j(Nt,{container:!0,spacing:3,className:t.quizList,children:j(P3,{})})]})}const M3=Nh(t=>({root:{maxWidth:600,margin:"auto",marginTop:t.spacing(6),padding:t.spacing(3),textAlign:"center",backgroundColor:"#FFD580"},questionSection:{marginBottom:t.spacing(4)},questionCount:{marginBottom:t.spacing(2)},questionText:{fontWeight:"bold",marginBottom:t.spacing(2)},answerSection:{display:"flex",flexDirection:"column",alignItems:"center"},answerOption:{margin:t.spacing(1)},scoreSection:{marginBottom:t.spacing(2)}})),L3=()=>{var S,y;const[t,e]=f.useState([]),[n,r]=f.useState(0),[i,s]=f.useState(!1),[o,a]=f.useState(0),[l,u]=f.useState(1),[c,d]=f.useState(10),{quizid:h}=Ek(),p=ea(),g=M3();f.useEffect(()=>{es.collection("quizzes").doc(h).get().then(w=>{if(w.exists){const E=w.data(),x=E.quizData[0].points;u(x),d(E.quizData[0].time);const b=E.quizData[1].questions;e(b)}else console.log("No such document!")}).catch(w=>{console.log("Error getting document:",w)})},[h]),f.useEffect(()=>{if(c>0){const m=setInterval(()=>{d(w=>w-1)},1e3);return()=>clearInterval(m)}},[c]),f.useEffect(()=>{c===0&&s(!0)},[c]);const v=m=>{m&&a(o+1);const w=n+1;w<t.length?r(w):(d(0),s(!0))};return Oe(dd,{className:g.root,children:[Oe(en,{variant:"h5",component:"h1",children:["Timer: ",c]}),i?j(Yv,{children:Oe(Ym,{children:[Oe(en,{variant:"h6",component:"h2",className:g.scoreSection,children:["You answered ",o," out of ",t.length," correctly"]}),Oe(en,{variant:"body1",component:"p",children:["You scored ",o*l," out of ",t.length*l," ","points"]})]})}):Oe(Yv,{children:[Oe(Ym,{className:g.questionSection,children:[Oe(en,{variant:"h6",component:"h2",className:g.questionCount,children:["Question ",n+1," of ",t.length]}),j(en,{variant:"body1",component:"p",className:g.questionText,children:(S=t[n])==null?void 0:S.questionText})]}),j(ZT,{className:g.answerSection,children:(y=t[n])==null?void 0:y.answerOptions.map((m,w)=>j(Fn,{variant:"contained",color:"primary",className:g.answerOption,onClick:()=>v(m.isCorrect),children:m.answerText},w))})]}),j(Fn,{onClick:()=>p("/app"),variant:"contained",children:"Go Home"})]})};const F3=()=>{const[t,e]=f.useState(""),[n,r]=f.useState(""),[i,s]=f.useState(""),[o,a]=f.useState(""),[l,u]=f.useState(""),[c,d]=f.useState([{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}]),[h,p]=f.useState(null),[g,v]=f.useState([]),S=ea(),y=(C,k)=>{const N=[...c];N[k].answerText=C.target.value,d(N)},m=(C,k)=>{const N=[...c];N.forEach((D,V)=>{N[V].isCorrect=V===k}),d(N),p(k)},w=()=>{const C={questionText:l,answerOptions:c};v([...g,C]),u(""),d([{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}]),p(null)},E=()=>{const C=es.collection("quizzes").doc(t),k=[];k.push({name:t,description:n,points:i,time:o}),k.push({questions:g}),C.set({quizData:k}).then(()=>{console.log("Quiz added to Firestore")}).catch(N=>{console.error("Error adding questions to Firestore: ",N)}),S("/app")},x=!l||!c.every(C=>C.answerText!=="")||h===null,b=!t||!n||!i||!o||g.length===0;return console.log("Creating Quiz Component"),Oe(Nt,{container:!0,direction:"column",spacing:2,className:"QuizCreator",children:[j(Nt,{item:!0,children:j(en,{variant:"h5",children:"Create Quiz"})}),j(Nt,{item:!0,children:j(cn,{label:"Quiz Name",variant:"outlined",fullWidth:!0,value:t,onChange:C=>e(C.target.value)})}),j(Nt,{item:!0,children:j(cn,{label:"Quiz Description",variant:"outlined",fullWidth:!0,value:n,onChange:C=>r(C.target.value)})}),j(Nt,{item:!0,children:j(cn,{label:"Quiz Points",variant:"outlined",fullWidth:!0,type:"number",value:i,onChange:C=>s(C.target.value)})}),j(Nt,{item:!0,children:j(cn,{label:"Quiz Time (in Seconds)",variant:"outlined",fullWidth:!0,type:"number",value:o,onChange:C=>a(C.target.value)})}),j(Nt,{item:!0,children:j(en,{variant:"h6",children:"Questions"})}),g.map((C,k)=>Oe(Nt,{item:!0,children:[j(en,{children:C.questionText}),C.answerOptions.map((N,D)=>j(fd,{control:j(hd,{checked:N.isCorrect,disabled:!0}),label:N.answerText},D))]},k)),j(Nt,{item:!0,children:j(cn,{label:"Question Text",variant:"outlined",fullWidth:!0,value:l,onChange:C=>u(C.target.value)})}),c.map((C,k)=>Oe(Nt,{item:!0,children:[j(cn,{label:`Answer ${k+1}`,variant:"outlined",fullWidth:!0,value:C.answerText,onChange:N=>y(N,k)}),j(fd,{control:j(hd,{checked:h===k,onChange:N=>m(N,k)}),label:"Correct Answer"})]},k)),Oe(Nt,{item:!0,container:!0,justifyContent:"space-between",children:[j(Fn,{variant:"contained",disabled:x,onClick:w,children:"Add Question"}),j(Fn,{variant:"contained",color:"primary",disabled:b,onClick:E,children:"Submit Quiz"}),j(Fn,{variant:"contained",color:"secondary",onClick:()=>S("/app"),children:"Go Back"})]})]})},B3=Nh(t=>({root:{margin:"10px",padding:"0",border:"4px solid"},heading:{color:"",marginBottom:t.spacing(3)},card:{display:"flex",flexDirection:"column",width:"500px",justifyContent:"space-between",minHeight:"250px",padding:t.spacing(2),borderRadius:t.spacing(2),boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",margin:"10px 10px 10px 10px",backgroundColor:"#F5F5F5"},card2:{display:"flex",flexDirection:"column",width:"500px",marginLeft:"420px",minHeight:"250px",padding:t.spacing(2),borderRadius:t.spacing(2),boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",backgroundColor:"#d6c675",border:"5px solid",margin:"10px 10px 10px 10px"},button:{marginTop:"auto"}})),V3=()=>{const t=B3(),[e,n]=f.useState(""),[r,i]=f.useState(""),[s,o]=f.useState(""),[a,l]=f.useState(""),[u,c]=f.useState([{questionText:"",answerOptions:[{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}]}]),[d,h]=f.useState(""),[p,g]=f.useState([{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}]),[v,S]=f.useState(null),{quizid:y}=Ek(),m=ea();f.useEffect(()=>{es.collection("quizzes").doc(y).get().then(F=>{if(F.exists){const B=F.data();n(B.quizData[0].name),i(B.quizData[0].description),o(B.quizData[0].time),l(B.quizData[0].points);const I=B.quizData[1].questions;c(I)}else console.log("No such document!")}).catch(F=>{console.log("Error getting document:",F)})},[]);const w=()=>{console.log(u),es.collection("quizzes").doc(y).delete().then(()=>{console.log("Document successfully deleted!")}).catch(I=>{console.error("Error removing document: ",I)});const F=es.collection("quizzes").doc(e),B=[];B.push({name:e,description:r,points:a,time:s}),B.push({questions:u}),F.set({quizData:B}).then(()=>{console.log("Quiz Updated in Database")}).catch(I=>{console.error("Error adding questions to Firestore: ",I)}),m("/app")},E=U=>{i(U.target.value)},x=U=>{o(U.target.value)},b=U=>{l(U.target.value)},C=(U,F)=>{const B=[...u];B[U].questionText=F.target.value,c(B)},k=(U,F,B)=>{const I=[...u];I[U].answerOptions[F].answerText=B.target.value,c(I)},N=(U,F)=>{const B=[...u];B[U].answerOptions.forEach((P,A)=>{A===F?P.isCorrect=!0:P.isCorrect=!1}),c(B)},D=()=>{const U={questionText:d,answerOptions:p};c([...u,U]),h(""),g([{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1},{answerText:"",isCorrect:!1}]),S(null)},V=(U,F)=>{const B=[...p];B[F].answerText=U.target.value,g(B)},W=(U,F)=>{const B=[...p];B.forEach((I,P)=>{B[P].isCorrect=P===F}),g(B),S(F)},Z=U=>{const F=u.filter((B,I)=>I!==U);c(F)};console.log("Edit page re-render");const Q=!d||!p.every(U=>U.answerText!=="")||v===null;return Oe("div",{className:t.root,children:[Oe(dd,{className:t.card2,children:[j(cn,{label:"Quiz Name",value:e}),j("br",{}),j(cn,{label:"Quiz Description",value:r,onChange:E}),j("br",{}),j(cn,{label:"Quiz Time",value:s,onChange:x}),j("br",{}),j(cn,{label:"Quiz Points",value:a,onChange:b})]}),j("br",{}),j("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:u.map((U,F)=>Oe(dd,{className:t.card,children:[j(cn,{label:`Question ${F+1}`,value:U.questionText,onChange:B=>C(F,B)}),j("br",{}),U.answerOptions.map((B,I)=>Oe("div",{children:[j(cn,{label:`Answer ${I+1}`,value:B.answerText,onChange:P=>k(F,I,P)}),j(fd,{control:j(hd,{checked:B.isCorrect,onChange:()=>N(F,I)}),label:"Correct"})]},I)),j(Fn,{type:"contained",color:"secondary",onClick:()=>Z(F),children:"Delete Question"})]},F))}),j("h1",{className:t.heading,children:"U can also add a question below :"}),Oe(Nt,{children:[j(Nt,{item:!0,children:j(cn,{label:"Question Text",variant:"outlined",fullWidth:!0,value:d,onChange:U=>h(U.target.value)})}),p.map((U,F)=>Oe(Nt,{item:!0,children:[j(cn,{label:`Answer ${F+1}`,variant:"outlined",fullWidth:!0,value:U.answerText,onChange:B=>V(B,F)}),j(fd,{control:j(hd,{checked:v===F,onChange:B=>W(B,F)}),label:"Correct Answer"})]},F)),j(Fn,{variant:"contained",disabled:Q,onClick:D,children:"Add Question"})]}),j(Fn,{variant:"contained",color:"primary",onClick:w,style:{marginLeft:"600px"},children:"Confirm Changes"})]})};np.createRoot(document.getElementById("root")).render(j(Le.StrictMode,{children:j(N3,{children:Oe($3,{children:[j(js,{path:"/",element:j(_3,{to:"/app"})}),j(js,{path:"/app",element:j(O3,{})}),j(js,{path:"/app/creation",element:j(F3,{})}),j(js,{path:"/app/start/:quizid",element:j(L3,{})}),j(js,{path:"/app/edit/:quizid",element:j(V3,{})})]})})}));
